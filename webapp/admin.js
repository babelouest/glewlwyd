!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var r in a)("object"==typeof exports?exports:e)[r]=a[r]}}(window,(function(){return function(e){function t(t){for(var r,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(m&&m(t);p.length;)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={1:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var m=l;return o.push([19,0]),a()}({11:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=m(e);return r=this,!(n=t?(a=m(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==s(n)&&"function"!=typeof n?c(r):n}}(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=a.call(this,e)).state={title:e.title,message:e.message,cb:e.callback},t.closeModal=t.closeModal.bind(c(t)),t}return e=d,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,message:e.message,cb:e.callback})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal fade on-top",id:"confirmModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":o.a.t("modal.close"),onClick:function(t){return e.closeModal(t,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},this.state.message),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},o.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},o.a.t("modal.ok"))))))}}])&&i(e.prototype,t),d}();t.a=d},19:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(7),s=a.n(o),i=a(1),l=a(9),c=a(10),m=a(3),d=a(2),p=a(4),u=a(11);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=y(e);return r=this,!(n=t?(a=y(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==h(n)&&"function"!=typeof n?b(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={title:e.title,pattern:e.pattern,source:e.source,data:e.data,cb:e.callback,validateCb:e.validateCallback,profile:e.profile,add:e.add,listAddValue:t.initListAdd(e.pattern,e.data),listEltConfirm:t.initListConfirm(e.pattern),listError:{},hasError:!1,listPwd:t.initListPwd(e.pattern,e.add),confirmModal:{elt:"",value:""}},t.closeModal=t.closeModal.bind(b(t)),t.changeSource=t.changeSource.bind(b(t)),t.editElt=t.editElt.bind(b(t)),t.changeElt=t.changeElt.bind(b(t)),t.toggleBooleanElt=t.toggleBooleanElt.bind(b(t)),t.deleteListElt=t.deleteListElt.bind(b(t)),t.createData=t.createData.bind(b(t)),t.changeListAddElt=t.changeListAddElt.bind(b(t)),t.AddListElt=t.AddListElt.bind(b(t)),t.initListAdd=t.initListAdd.bind(b(t)),t.initListConfirm=t.initListConfirm.bind(b(t)),t.initListPwd=t.initListPwd.bind(b(t)),t.changeEltConfirm=t.changeEltConfirm.bind(b(t)),t.changeTextArea=t.changeTextArea.bind(b(t)),t.uploadFile=t.uploadFile.bind(b(t)),t.uploadImage=t.uploadImage.bind(b(t)),t.removeImage=t.removeImage.bind(b(t)),t.setPwd=t.setPwd.bind(b(t)),t.state.add&&t.createData(),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({title:e.title,pattern:e.pattern,source:e.source,data:e.data,cb:e.callback,validateCb:e.validateCallback,profile:e.profile,add:e.add,listAddValue:this.initListAdd(e.pattern),listEltConfirm:this.initListConfirm(e.pattern,e.data),listError:{},hasError:!1,listPwd:this.initListPwd(e.pattern,e.add)},(function(){e.add&&t.createData()}))}},{key:"closeModal",value:function(e,t){var a=this;if(this.state.cb)if(t)if(this.state.validateCb){var r=this.state.data;for(var n in r)if(Array.isArray(r[n]))if(r[n].length)for(var o=r[n],s=o.length-1;0<=s;s--)""===o[s]&&o.splice(s,1);else delete r[n];var l=!1,c=[];for(var n in this.state.listAddValue)""!==this.state.listAddValue[n]&&(l=!0,c[n]=i.a.t("admin.add-elt-mandatory"));l?this.setState({listError:c,hasError:!0}):this.state.validateCb(r,this.state.listEltConfirm,this.state.add,(function(e,n){e?a.state.cb(t,r):a.setState({listError:n,hasError:!0})}))}else this.state.cb(t,r);else this.state.cb(t,{})}},{key:"changeSource",value:function(e,t){var a=this.state.data;a.source=t,this.setState({data:a})}},{key:"editElt",value:function(e,t,a){var r,o,s,l,c,m,d,p,u=this,h=[],f=!1;return void 0===t&&"password"!==e.type&&!e.forceShow||this.state.profile&&!e.profile||(s=o="",this.state.listError[e.name]&&(o=" is-invalid",s=n.a.createElement("span",{className:"error-input"},i.a.t(this.state.listError[e.name]))),r=n.a.createElement("label",{className:"input-group-text",htmlFor:"modal-edit-"+e.name},i.a.t(e.label)),e.list?(t=t||[],l=e.listElements?(m=[],e.listElements.forEach((function(t,a){m.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return u.AddListElt(a,e.name,t)}},t))})),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-edit-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-edit-"+e.name},m))):"textarea"===e.type?n.a.createElement("textarea",{className:"form-control"+o,onChange:function(t){return u.changeTextArea(t,e.name,!0)},value:t.join("\n"),placeholder:e.placeholder?i.a.t(e.placeholder):""}):"file"===e.type?e.edit||this.state.add?n.a.createElement("input",{type:"file",className:"form-control"+o,onChange:function(t){return u.uploadFile(t,e.name,!0)}}):n.a.createElement("input",{type:"file",disabled:!0,className:"form-control"}):e.type&&e.type.startsWith("image")?(c=[],t.forEach((function(t,a){c.push(n.a.createElement("a",{key:a,href:"#",onClick:function(t){return u.removeImage(t,e.name,a)},title:i.a.t("remove")},n.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name+"-"+a})))})),e.edit||this.state.add?n.a.createElement("div",null,n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:"custom-file-input"+o,onChange:function(t){return u.uploadImage(t,e.name,!0)},id:"modal-image-"+e.name}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"modal-image-"+e.name},i.a.t("browse"))),c):(c=[],t.forEach((function(t,a){c.push(n.a.createElement("img",{key:a,className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name+"-"+a}))})),c)):n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",className:"form-control"+o,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return u.changeListAddElt(t,e.name)},value:this.state.listAddValue[e.name]||""}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(t){return u.AddListElt(t,e.name)},title:i.a.t("modal.list-add-title")},n.a.createElement("i",{className:"fas fa-plus"})))),(!e.type||"textarea"===e.type||e.type.startsWith("image"))&&e.type||t.forEach((function(t,a){var r=t;"file"===e.type&&(r=t.substring(0,t.indexOf("/"))),!1!==e.edit||u.state.add?h.push(n.a.createElement("a",{href:"#",onClick:function(t){return u.deleteListElt(t,e.name,a)},key:a},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},r,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):h.push(n.a.createElement("span",{className:"badge badge-primary btn-icon-right",key:a},r,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))}))):"boolean"===e.type?f=!1!==e.edit||this.state.add?n.a.createElement("div",{className:"form-group form-check",key:a},n.a.createElement("input",{type:"checkbox",className:"form-check-input"+o,id:"modal-edit-"+e.name,onChange:function(t){return u.toggleBooleanElt(t,e.name)},checked:t}),n.a.createElement("label",{className:"form-check-label",htmlFor:"modal-edit-"+e.name},i.a.t(e.label))):n.a.createElement("div",{className:"form-group form-check",key:a},n.a.createElement("input",{disabled:!0,type:"checkbox",className:"form-check-input",id:"modal-edit-"+e.name,checked:t}),n.a.createElement("label",{className:"form-check-label",htmlFor:"modal-edit-"+e.name},i.a.t(e.label))):l="textarea"===e.type?!1!==e.edit||this.state.add?n.a.createElement("textarea",{className:"form-control"+o,onChange:function(t){return u.changeTextArea(t,e.name,!1)},value:t||"",placeholder:e.placeholder?i.a.t(e.placeholder):""}):n.a.createElement("textarea",{className:"form-control",disabled:!0,value:t||""}):"file"===e.type?(t&&h.push(n.a.createElement("a",{href:"#",key:0,onClick:function(t){return u.deleteFile(t,e.name,-1)}},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.substring(0,t.indexOf("/")),n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))),e.edit||this.state.add?n.a.createElement("input",{type:"file",className:"form-control"+o,onChange:function(t){return u.uploadFile(t,e.name)}}):n.a.createElement("input",{type:"file",disabled:!0,className:"form-control"})):e.type&&e.type.startsWith("image")?(t&&(c=n.a.createElement("a",{href:"#",onClick:function(t){return u.removeImage(t,e.name,-1)},title:i.a.t("remove")},n.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name}))),e.edit||this.state.add?n.a.createElement("div",null,n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:"custom-file-input"+o,onChange:function(t){return u.uploadImage(t,e.name)},id:"modal-image-"+e.name}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"modal-image-"+e.name},i.a.t("browse"))),c):n.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name})):!1!==e.edit||this.state.add?e.listElements?(m=[],e.listElements.forEach((function(t,a){m.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(){return u.changeElt({target:{value:t}},e.name)}},i.a.t(t)))})),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-edit-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t(t||"login.select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-edit-"+e.name},m))):"password"===e.type?(d="",this.state.add||(d=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return u.setPwd(t,e.name,"keep")}},i.a.t("modal.pwd-keep"))),p=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-pwd-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("modal.pwd-"+(this.state.listPwd[e.name]||(this.state.add?"set":"keep")))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-pwd-"+e.name},d,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return u.setPwd(t,e.name,"set")}},i.a.t("modal.pwd-set")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return u.setPwd(t,e.name,"disabled")}},i.a.t("modal.pwd-disabled")))),n.a.createElement("div",null,p,n.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===this.state.listPwd[e.name]||"keep"===this.state.listPwd[e.name],className:"form-control"+o,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return u.changeElt(t,e.name)},value:t||""}),n.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===this.state.listPwd[e.name]||"keep"===this.state.listPwd[e.name],className:"form-control"+o,id:"modal-edit-confirm"+e.name,placeholder:i.a.t(e.placeholderConfirm),value:this.state.listEltConfirm[e.name]||"",onChange:function(t){return u.changeEltConfirm(t,e.name)}}))):"jwks"===e.type?n.a.createElement("input",{type:"text",className:"form-control"+o,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:this.state.listEltConfirm[e.name]||"",onChange:function(t){return u.setJwks(t,e.name)}}):n.a.createElement("input",{type:e.type||"text",className:"form-control"+o,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:t||"",onChange:function(t){return u.changeElt(t,e.name)}}):n.a.createElement("input",{disabled:!0,type:e.type||"text",className:"form-control"+o,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:t||""})),f||n.a.createElement("div",{className:"form-group",key:a},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},r),l,n.a.createElement("div",{className:"btn-icon-right"},h)),s)}},{key:"deleteListElt",value:function(e,t,a){var r=this.state.data;r[t]&&(r[t].splice(a,1),this.setState({data:r}))}},{key:"changeElt",value:function(e,t){var a=this.state.data;a[t]=e.target.value,this.setState({data:a})}},{key:"setJwks",value:function(e,t){var a=this.state.data,r=this.state.listError,n=this.state.hasError,o=this.state.listEltConfirm,s=e.target.value;n=r[t]=!1;if(s)try{a[t]=JSON.parse(s)}catch(e){r[t]=i.a.t("admin.invalid-json"),delete a[t],n=!0}o[t]=s,this.setState({data:a,listEltConfirm:o,hasError:n})}},{key:"toggleBooleanElt",value:function(e,t){var a=this.state.data;a[t]=!a[t],this.setState({data:a})}},{key:"createData",value:function(){var e={};this.state.pattern.forEach((function(t,a){t.list?e[t.name]=[]:void 0!==t.defaultValue?e[t.name]=t.defaultValue:"boolean"!==t.type&&(e[t.name]="")})),this.setState({data:e})}},{key:"changeListAddElt",value:function(e,t){var a=this.state.listAddValue;a[t]=e.target.value,this.setState({listAddValue:a})}},{key:"AddListElt",value:function(e,t,a){var r,n,o=2<arguments.length&&void 0!==a&&a;e&&e.preventDefault(),o?((r=this.state.data)[t]||(r[t]=[]),r[t].push(o),this.setState({data:r})):this.state.listAddValue[t]&&(r=this.state.data,n=this.state.listAddValue,r[t]||(r[t]=[]),r[t].push(this.state.listAddValue[t]),this.state.listAddValue[t]="",this.setState({data:r,listAddValue:n}))}},{key:"initListAdd",value:function(e){var t={};return e.forEach((function(e){e.list&&(t[e.name]="")})),t}},{key:"initListConfirm",value:function(e,t){var a={};return e.forEach((function(e){e.confirm?a[e.name]="":"jwks"===e.type&&(a[e.name]=JSON.stringify(t[e.name]))})),a}},{key:"initListPwd",value:function(e,t){var a={};return e.forEach((function(e){"password"===e.type&&(a[e.name]=t?"set":"keep")})),a}},{key:"changeEltConfirm",value:function(e,t){var a=this.state.listEltConfirm;a[t]=e.target.value,this.setState({listEltConfirm:a})}},{key:"changeTextArea",value:function(e,t,a){var r=this.state.data;r[t]=a?e.target.value.split("\n"):e.target.value,this.setState({data:r})}},{key:"uploadFile",value:function(e,t,a){var r=this,n=this.state.data,o=e.target.files[0],s=new FileReader;s.onload=function(e){a?(n[t]||(n[t]=[]),n[t].push(o.name+"/"+btoa(e.target.result))):n[t]=o.name+"/"+btoa(e.target.result),r.setState({data:n})},s.readAsText(o)}},{key:"uploadImage",value:function(e,t,a){var r=this,n=this.state.data,o=e.target.files[0],s=new FileReader;s.onload=function(e){a?(n[t]||(n[t]=[]),n[t].push(btoa(e.target.result))):n[t]=btoa(e.target.result),r.setState({data:n})},s.readAsBinaryString(o)}},{key:"removeImage",value:function(e,t,a){var r=this.state.data;-1<a?r[t].splice(a,1):delete r[t],this.setState({data:r})}},{key:"deleteFile",value:function(e,t,a){var r=this.state.data;-1<a?r[t].splice(a,1):delete r[t],this.setState({data:r})}},{key:"setPwd",value:function(e,t,a){e.preventDefault();var r=this.state.listPwd,n=this.state.data,o=this.state.listEltConfirm;r[t]=a,this.setState({listPwd:r}),"disabled"===a?(n[t]="",o[t]=""):(delete n[t],delete o[t]),this.setState({listPwd:r,listEltConfirm:o,data:n})}},{key:"render",value:function(){var e,t=this,a=[],r=[],o=!1;this.state.pattern.forEach((function(e,r){var n=t.editElt(e,t.state.data[e.name],r);n&&a.push(n)})),this.state.source.forEach((function(e,a){(o||e.readonly)&&e.name!==t.state.data.source||(o=e.display_name),e.readonly&&e.name!==t.state.data.source||r.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return t.changeSource(a,e.name)}},e.display_name||e.name))})),this.state.hasError&&(e=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input")));var s=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"modal-source"},i.a.t("admin.source"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.add},o||i.a.t("admin.source-dropdown")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-source"},r))));return n.a.createElement("div",{className:"modal fade",id:"editRecordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"editRecordModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"editRecordModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return t.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},s,a)),n.a.createElement("div",{className:"modal-footer"},e,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:function(e){return t.closeModal(e,!0)},disabled:this.state.data&&this.state.data.source&&!this.state.data.source.readonly&&!this.state.add},i.a.t("modal.ok"))))))}}])&&f(e.prototype,t),o}();function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function N(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t){return(k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var P=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=S(e);return r=this,!(n=t?(a=S(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==E(n)&&"function"!=typeof n?C(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,curNav:"users",navDropdown:!1,profileList:e.profileList,loggedIn:e.loggedIn},d.a.subscribe("Navbar",(function(e){})),t.navigate=t.navigate.bind(C(t)),t.toggleLogin=t.toggleLogin.bind(C(t)),t.changeLang=t.changeLang.bind(C(t)),t.changeProfile=t.changeProfile.bind(C(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedIn:e.loggedIn,profileList:e.profileList})}},{key:"navigate",value:function(e,t,a){e.preventDefault(),d.a.sendMessage("App",{type:"nav",message:t}),this.setState({curNav:t,navDropdown:a})}},{key:"toggleLogin",value:function(){var e;this.state.loggedIn?m.a.glewlwydRequest("/auth/?username="+encodeURIComponent(this.state.profileList[0].username),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"info",message:i.a.t("login.success-delete-session")}),d.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})})).fail((function(e){401!==e.status&&d.a.sendMessage("Notification",{type:"danger",message:i.a.t("login.error-delete-session")}),d.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})})):(e=!1,this.state.config.sessionSchemes.forEach((function(t){t.scheme_default&&t.scheme_default.forEach((function(a){"admin"===a&&(e=t.scheme_name)}))})),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+(e?"&scheme="+encodeURIComponent(e):""))}},{key:"changeLang",value:function(e,t){var a=this;i.a.changeLanguage(t).then((function(){a.setState({lang:t}),d.a.sendMessage("App",{type:"lang"})}))}},{key:"changeProfile",value:function(e,t){var a;t?m.a.glewlwydRequest("/auth/","POST",{username:t.username}).then((function(){d.a.sendMessage("App",{type:"profile"})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("login.error-login")})})):(a=!1,this.state.config.sessionSchemes.forEach((function(e){e.scheme_default&&e.scheme_default.forEach((function(t){"admin"===t&&(a=e.scheme_name)}))})),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.profile_scope)+(a?"&scheme="+encodeURIComponent(a):"")+"&prompt=login")}},{key:"render",value:function(){var e,t,a,r=this,o=[],s=[];return this.state.config.lang.forEach((function(e,t){e===i.a.language?o.push(n.a.createElement("a",{className:"dropdown-item active",href:"#",key:t},e)):o.push(n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return r.changeLang(t,e)},key:t},e))})),this.state.profileList&&this.state.profileList.forEach((function(e,t){s.push(n.a.createElement("a",{className:"dropdown-item"+(t?"":" active"),href:"#",onClick:function(t){return r.changeProfile(t,e)},key:t},e.name||e.username))})),s.push(n.a.createElement("div",{className:"dropdown-divider",key:s.length})),s.push(n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return r.changeProfile(e,null)},key:s.length},i.a.t("profile.menu-session-new"))),t=n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownProfile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-user"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownProfile"},s)),a=this.state.loggedIn?n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleLogin,title:i.a.t("title-logout")},n.a.createElement("i",{className:"fas btn-icon fa-sign-out-alt"})):n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleLogin,title:i.a.t("title-login")},n.a.createElement("i",{className:"fas btn-icon fa-sign-in-alt"})),n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement("a",{className:"navbar-brand",href:"#"},n.a.createElement("img",{className:"mr-3",src:"img/logo-admin.png",alt:"logo"}),i.a.t("admin.menu-title")),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"+("users"===this.state.curNav?" active":"")},n.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"users",!1)}},i.a.t("admin.menu-users"))),n.a.createElement("li",{className:"nav-item"+("clients"===this.state.curNav?" active":"")},n.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"clients",!1)}},i.a.t("admin.menu-clients"))),n.a.createElement("li",{className:"nav-item"+("scopes"===this.state.curNav?" active":"")},n.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"scopes",!1)}},i.a.t("admin.menu-scopes"))),n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("a",(w(e={className:"nav-link dropdown-toggle"+(this.state.navDropdown?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",id:"navbarDropdown",role:"button"},"data-toggle","dropdown"),w(e,"aria-haspopup","true"),w(e,"aria-expanded","false"),e),i.a.t("admin.menu-parameters")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},n.a.createElement("a",{className:"dropdown-item"+("users-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"users-mod",!0)}},i.a.t("admin.menu-users-mod")),n.a.createElement("a",{className:"dropdown-item"+("clients-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"clients-mod",!0)}},i.a.t("admin.menu-clients-mod")),n.a.createElement("div",{className:"dropdown-divider"}),n.a.createElement("a",{className:"dropdown-item"+("auth-schemes"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"auth-schemes",!0)}},i.a.t("admin.menu-auth-schemes")),n.a.createElement("div",{className:"dropdown-divider"}),n.a.createElement("a",{className:"dropdown-item"+("plugins"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return r.navigate(e,"plugins",!0)}},i.a.t("admin.menu-plugins"))))),n.a.createElement("form",{className:"form-inline my-2 my-lg-0"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownLang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-globe-africa"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownLang"},o)),t,a))))}}])&&N(e.prototype,t),o}();function x(e){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var O=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=F(e);return r=this,!(n=t?(a=F(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==x(n)&&"function"!=typeof n?j(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,users:e.users,source:e.source,loggedIn:e.loggedIn},d.a.subscribe("Users",(function(e){})),t.addUser=t.addUser.bind(j(t)),t.editUser=t.editUser.bind(j(t)),t.deleteUser=t.deleteUser.bind(j(t)),t.handleChangeSearchPattern=t.handleChangeSearchPattern.bind(j(t)),t.searchUsers=t.searchUsers.bind(j(t)),t.navigate=t.navigate.bind(j(t)),t.navigatePerPage=t.navigatePerPage.bind(j(t)),t.delegateUser=t.delegateUser.bind(j(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({users:e.users,source:e.source,loggedIn:e.loggedIn})}},{key:"addUser",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"add",role:"user"})}},{key:"editUser",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"edit",role:"user",user:t})}},{key:"deleteUser",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"delete",role:"user",user:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.users;t.searchPattern=e.target.value,this.setState({users:t})}},{key:"searchUsers",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:this.state.users.limit})}},{key:"navigate",value:function(e,t){e.preventDefault(),0<t?d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset+this.state.users.limit,limit:this.state.users.limit}):this.state.users.offset&&d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset-this.state.users.limit,limit:this.state.users.limit})}},{key:"navigatePerPage",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"user",pattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:t})}},{key:"delegateUser",value:function(e,t){e.preventDefault(),window.open(this.state.config.ProfileUrl+"?delegate="+t.username,"_blank")}},{key:"render",value:function(){var e=this,t=[];return this.state.users.list.forEach((function(a,r){var o=!0;e.state.source.forEach((function(e){a.source===e.name&&(o=e.readonly)})),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.source),n.a.createElement("td",null,a.username),n.a.createElement("td",null,a.name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.email||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.delegateUser(t,a)},title:i.a.t("admin.delegate")},n.a.createElement("i",{className:"fas fa-id-card"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editUser(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteUser(t,a)},title:i.a.t("admin.delete"),disabled:o},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu"+a.username,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu"+a.username},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.delegateUser(t,a)},alt:i.a.t("admin.delegate")},n.a.createElement("i",{className:"fas fa-id-card btn-icon"}),i.a.t("admin.delegate")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editUser(t,a)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteUser(t,a)},alt:i.a.t("admin.delete"),disabled:o},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},n.a.createElement("h4",null,i.a.t("admin.user-list-title"))),n.a.createElement("th",{colSpan:"4"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchUsers(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",M({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.users.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",M({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.users.limit>this.state.users.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addUser(t)},title:i.a.t("admin.user-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.users.searchPattern||""}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchUsers(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addUser(t)},alt:i.a.t("admin.user-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.user-add")))))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.source")),n.a.createElement("th",null,i.a.t("admin.username")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.email")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.users.offset,limit:this.state.users.limit}))))))}}])&&_(e.prototype,t),o}();function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function q(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var U=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=I(e);return r=this,!(n=t?(a=I(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==R(n)&&"function"!=typeof n?D(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,clients:e.clients,source:e.source,loggedIn:e.loggedIn},d.a.subscribe("Clients",(function(e){})),t.addClient=t.addClient.bind(D(t)),t.editClient=t.editClient.bind(D(t)),t.deleteClient=t.deleteClient.bind(D(t)),t.handleChangeSearchPattern=t.handleChangeSearchPattern.bind(D(t)),t.searchClients=t.searchClients.bind(D(t)),t.navigate=t.navigate.bind(D(t)),t.navigatePerPage=t.navigatePerPage.bind(D(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({clients:e.clients,source:e.source,loggedIn:e.loggedIn})}},{key:"addClient",value:function(){d.a.sendMessage("App",{type:"add",role:"client"})}},{key:"editClient",value:function(e,t){d.a.sendMessage("App",{type:"edit",role:"client",client:t})}},{key:"deleteClient",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"client",client:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.clients;t.searchPattern=e.target.value,this.setState({clients:t})}},{key:"searchClients",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset,limit:this.state.clients.limit})}},{key:"navigate",value:function(e,t){0<t?d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset+this.state.clients.limit,limit:this.state.clients.limit}):this.state.clients.offset&&d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset-this.state.clients.limit,limit:this.state.clients.limit})}},{key:"navigatePerPage",value:function(e,t){d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.clients.list.forEach((function(a,r){var o=!0;e.state.source.forEach((function(e){a.source===e.name&&(o=e.readonly)})),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.source),n.a.createElement("td",null,a.client_id),n.a.createElement("td",null,a.name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group pull-right",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editClient(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteClient(t,a)},title:i.a.t("admin.delete"),disabled:o},n.a.createElement("i",{className:"fas fa-trash"}))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},n.a.createElement("h4",null,i.a.t("admin.client-list-title"))),n.a.createElement("th",{colSpan:"3"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchClients(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",T({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.clients.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",T({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.clients.limit>this.state.clients.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addClient(t)},title:i.a.t("admin.client-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.clients.searchPattern||""}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchClients(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addClient(t)},alt:i.a.t("admin.user-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.user-add")))))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.source")),n.a.createElement("th",null,i.a.t("admin.client_id")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5"},i.a.t("admin.nav-footer",{offset:this.state.clients.offset,limit:this.state.clients.limit})))))}}])&&q(e.prototype,t),o}();function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&K(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=G(e);return r=this,!(n=t?(a=G(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==z(n)&&"function"!=typeof n?W(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,scopes:e.scopes,curScope:{},add:!1,searchPattern:"",offset:0,limit:20,loggedIn:e.loggedIn},t.addScope=t.addScope.bind(W(t)),t.editScope=t.editScope.bind(W(t)),t.deleteScope=t.deleteScope.bind(W(t)),t.handleChangeSearchPattern=t.handleChangeSearchPattern.bind(W(t)),t.searchScopes=t.searchScopes.bind(W(t)),t.navigate=t.navigate.bind(W(t)),t.navigatePerPage=t.navigatePerPage.bind(W(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({scopes:e.scopes,loggedIn:e.loggedIn})}},{key:"addScope",value:function(){d.a.sendMessage("App",{type:"add",role:"scope"})}},{key:"editScope",value:function(e,t){d.a.sendMessage("App",{type:"edit",role:"scope",scope:t})}},{key:"deleteScope",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"scope",scope:t})}},{key:"handleChangeSearchPattern",value:function(e){this.setState({searchPattern:e.target.value})}},{key:"searchScopes",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset,limit:this.state.limit})}},{key:"navigate",value:function(e,t){0<t?d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset+this.state.limit,limit:this.state.limit}):this.state.offset&&d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset-this.state.limit,limit:this.state.limit})}},{key:"navigatePerPage",value:function(e,t){d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.scopes.list.forEach((function(a,r){t.push(n.a.createElement("tr",{key:r},n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.description||""),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editScope(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteScope(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"1"},n.a.createElement("h4",null,i.a.t("admin.scope-list-title"))),n.a.createElement("th",{colSpan:"3"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchScopes(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",V({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",V({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.limit>this.state.scopes.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addScope(t)},title:i.a.t("admin.scope-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.handleChangeSearchPattern}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchScopes(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addScope(t)},alt:i.a.t("admin.scope-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.scope-add")))))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.description")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.offset,limit:this.state.limit})))))}}])&&J(e.prototype,t),o}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ee=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Z(e);return r=this,!(n=t?(a=Z(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==X(n)&&"function"!=typeof n?Q(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},t.addMod=t.addMod.bind(Q(t)),t.editMod=t.editMod.bind(Q(t)),t.deleteMod=t.deleteMod.bind(Q(t)),t.switchModStatus=t.switchModStatus.bind(Q(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(){d.a.sendMessage("App",{type:"add",role:"userMod"})}},{key:"editMod",value:function(e,t){d.a.sendMessage("App",{type:"edit",role:"userMod",mod:t})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"userMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"userMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"userMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s,l="",c="",m="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(c=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),s=a.enabled?(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),n.a.createElement("td",null,l),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.readonly?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},m,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"})),c),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),o)))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"5"},n.a.createElement("h4",null,i.a.t("admin.user-mod-list-title"))),n.a.createElement("th",{colSpan:"1"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.readonly")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}])&&H(e.prototype,t),o}();function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t){return(re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e){return(oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&re(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=oe(e);return r=this,!(n=t?(a=oe(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==te(n)&&"function"!=typeof n?ne(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},t.addMod=t.addMod.bind(ne(t)),t.editMod=t.editMod.bind(ne(t)),t.deleteMod=t.deleteMod.bind(ne(t)),t.moveModUp=t.moveModUp.bind(ne(t)),t.switchModStatus=t.switchModStatus.bind(ne(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(){d.a.sendMessage("App",{type:"add",role:"clientMod"})}},{key:"editMod",value:function(e,t){d.a.sendMessage("App",{type:"edit",role:"clientMod",mod:t})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"clientMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"clientMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"clientMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s,l="",c="",m="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(c=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),s=a.enabled?(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),n.a.createElement("td",null,l),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.readonly?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},m,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"})),c),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),o)))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"5"},n.a.createElement("h4",null,i.a.t("admin.client-mod-list-title"))),n.a.createElement("th",{colSpan:"1"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.readonly")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}])&&ae(e.prototype,t),o}();function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=de(e);return r=this,!(n=t?(a=de(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ie(n)&&"function"!=typeof n?me(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},t.addMod=t.addMod.bind(me(t)),t.editMod=t.editMod.bind(me(t)),t.deleteMod=t.deleteMod.bind(me(t)),t.switchModStatus=t.switchModStatus.bind(me(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(){d.a.sendMessage("App",{type:"add",role:"schemeMod"})}},{key:"editMod",value:function(e,t){d.a.sendMessage("App",{type:"edit",role:"schemeMod",mod:t})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"schemeMod",mod:t})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"schemeMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s="",l="";e.state.types.forEach((function(e){a.module===e.name&&(s=e.display_name)})),o=a.enabled?(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",null,s),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},l,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"4"},n.a.createElement("h4",null,i.a.t("admin.scheme-mod-list-title")),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}])&&le(e.prototype,t),o}();function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ye=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=be(e);return r=this,!(n=t?(a=be(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ue(n)&&"function"!=typeof n?ge(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},t.addMod=t.addMod.bind(ge(t)),t.editMod=t.editMod.bind(ge(t)),t.deleteMod=t.deleteMod.bind(ge(t)),t.switchModStatus=t.switchModStatus.bind(ge(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(){d.a.sendMessage("App",{type:"add",role:"plugin"})}},{key:"editMod",value:function(e,t){d.a.sendMessage("App",{type:"edit",role:"plugin",mod:t})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"plugin",mod:t})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"pluginMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s="",l="";e.state.types.forEach((function(e){a.module===e.name&&(s=e.display_name)})),o=a.enabled?(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",null,s),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},l,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3"},n.a.createElement("h4",null,i.a.t("admin.plugin-mod-list-title"))),n.a.createElement("th",{colSpan:"1"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}])&&he(e.prototype,t),o}();function ve(e){return(ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function we(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return(Ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Se=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ne(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Ce(e);return r=this,!(n=t?(a=Ce(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ve(n)&&"function"!=typeof n?ke(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={title:e.title,scope:e.scope,add:e.add,errorList:{},hasError:!1,modSchemes:e.modSchemes,callback:e.callback},t.closeModal=t.closeModal.bind(ke(t)),t.changeName=t.changeName.bind(ke(t)),t.changeDisplayName=t.changeDisplayName.bind(ke(t)),t.changeDescription=t.changeDescription.bind(ke(t)),t.changePwdMaxAge=t.changePwdMaxAge.bind(ke(t)),t.togglePasswordRequired=t.togglePasswordRequired.bind(ke(t)),t.addScheme=t.addScheme.bind(ke(t)),t.handleRemoveScheme=t.handleRemoveScheme.bind(ke(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,scope:e.scope,add:e.add,errorList:{},hasError:!1,modSchemes:e.modSchemes,callback:e.callback})}},{key:"closeModal",value:function(e,t){var a=this.state.scope;t?this.state.callback&&(a.name?(a.display_name||delete a.display_name,a.description||delete a.description,this.state.callback(t,a)):this.setState({errorList:{name:i.a.t("admin.scope-error-name")},hasError:!0})):this.state.callback(t)}},{key:"changeName",value:function(e){var t=this.state.scope;t.name=e.target.value,this.setState({scope:t})}},{key:"changePwdMaxAge",value:function(e){var t=this.state.scope;t.password_max_age=parseInt(e.target.value),this.setState({scope:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.scope;t.display_name=e.target.value,this.setState({scope:t})}},{key:"changeDescription",value:function(e){var t=this.state.scope;t.description=e.target.value,this.setState({scope:t})}},{key:"togglePasswordRequired",value:function(){var e=this.state.scope;e.password_required=!e.password_required,this.setState({scope:e})}},{key:"addScheme",value:function(e,t){var a=this.state.scope;if(!t){var r=0;for(var n in a.scheme)r++;for(t=""+r;void 0!==a.scheme[t];)t=""+ ++r;a.scheme[t]=[]}var o={scheme_name:e};this.state.modSchemes.forEach((function(t){t.name===e&&(o.scheme_type=t.module,o.scheme_display_name=t.display_name)})),a.scheme[t].push(o),this.setState({scope:a})}},{key:"handleRemoveScheme",value:function(e,t,a){var r=this.state.scope;r.scheme[t]&&r.scheme[t].forEach((function(e,n){e.scheme_name===a.scheme_name&&(r.scheme[t].splice(n,1),r.scheme[t].length||delete r.scheme[t])})),this.setState({scope:r})}},{key:"render",value:function(){var e,t,a,r,o,s=this,l=[],c=0,m=[],d=[];for(var p in this.state.hasError&&(o=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input"))),this.state.modSchemes.forEach((function(e){e.enabled&&(m.push(e.name),d.push(e.display_name||e.name))})),this.state.scope.scheme)this.state.scope.scheme[p].forEach((function(e,t){0<=m.indexOf(e.scheme_name)&&(d.splice(m.indexOf(e.scheme_name),1),m.splice(m.indexOf(e.scheme_name),1))}));return $.each(this.state.scope.scheme,(function(e,t){var r=[],o=0;t.forEach((function(t,a){r.length&&r.push(n.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:o++},i.a.t("admin.or"))),r.push(n.a.createElement("a",{href:"#",key:o++,onClick:function(a){return s.handleRemoveScheme(a,e,t)}},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.scheme_display_name||t.scheme_name,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),l.length&&l.push(n.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:c++},i.a.t("admin.and"))),m.length&&(r.length&&r.push(n.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:o++},i.a.t("admin.or"))),a=[],m.forEach((function(t,r){a.push(n.a.createElement("a",{className:"dropdown-item",href:"#",key:r,onClick:function(){return s.addScheme(t,e)}},d[r]))})),r.push(n.a.createElement("div",{className:"dropdown",key:o++},n.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-add-scheme")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a)))),l.push(n.a.createElement("div",{className:"card",style:{width:"18rem"},key:c++},n.a.createElement("div",{className:"card-body"},r)))})),m.length&&(a=[],m.forEach((function(e,t){a.push(n.a.createElement("a",{className:"dropdown-item",href:"#",key:t,onClick:function(){return s.addScheme(e,!1)}},d[t]))})),r=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-add-scheme-group")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a))),n.a.createElement("div",{className:"modal fade",id:"editScopeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return s.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",(Ee(e={className:"input-group-text"},"className","input-group-text"),Ee(e,"htmlFor","scope-name"),e),i.a.t("admin.scope-name"))),n.a.createElement("input",{type:"text",className:this.state.errorList.name?"form-control is-invalid":"form-control",id:"scope-name",placeholder:i.a.t("admin.scope-name-ph"),maxLength:"128",value:this.state.scope.name||"",onChange:function(e){return s.changeName(e)},disabled:!this.state.add})),this.state.errorList.name?n.a.createElement("span",{className:"error-input"},this.state.errorList.name):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"scope-display-name"},i.a.t("admin.scope-display-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"scope-display-name",placeholder:i.a.t("admin.scope-display-name-ph"),maxLength:"256",value:this.state.scope.display_name||"",onChange:function(e){return s.changeDisplayName(e)}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"scope-description"},i.a.t("admin.scope-description"))),n.a.createElement("input",{type:"text",className:"form-control",id:"scope-description",placeholder:i.a.t("admin.scope-description-ph"),maxLength:"512",value:this.state.scope.description||"",onChange:function(e){return s.changeDescription(e)}}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("h4",null,i.a.t("admin.scope-auth-title"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"scope-scheme-password",onChange:function(e){return s.togglePasswordRequired(e)},checked:!!this.state.scope.password_required}),n.a.createElement("label",{className:"form-check-label",htmlFor:"scope-scheme-password"},i.a.t("admin.scope-scheme-password"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",(Ee(t={className:"input-group-text"},"className","input-group-text"),Ee(t,"htmlFor","scope-password-max-age"),t),i.a.t("admin.scope-password-max-age"))),n.a.createElement("input",{type:"number",step:"1",min:"0",disabled:!this.state.scope.password_required,className:"form-control",id:"password-max-age",placeholder:i.a.t("admin.scope-password-max-age-ph"),value:this.state.scope.password_max_age||0,onChange:function(e){return s.changePwdMaxAge(e)}}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("h4",null,i.a.t("admin.scope-auth-schemes-title"))),n.a.createElement("div",{className:"form-group"},l,r))),n.a.createElement("div",{className:"modal-footer"},o,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return s.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return s.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}])&&we(e.prototype,t),o}();function Pe(e){return(Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var je=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Le(e);return r=this,!(n=t?(a=Le(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==Pe(n)&&"function"!=typeof n?_e(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={mod:e.mod,role:e.role,check:e.check,hasError:!1},t.state.check&&t.checkParameters(),t.changeMockUserValue=t.changeMockUserValue.bind(_e(t)),t.changeMockClientValue=t.changeMockClientValue.bind(_e(t)),t.changeMockSchemeValue=t.changeMockSchemeValue.bind(_e(t)),t.checkParameters=t.checkParameters.bind(_e(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeMockUserValue",value:function(e){var t=this.state.mod;t.parameters["username-prefix"]=e.target.value,this.setState({mod:t})}},{key:"changeMockClientValue",value:function(e){var t=this.state.mod;t.parameters["client-id-prefix"]=e.target.value,this.setState({mod:t})}},{key:"changeMockSchemeValue",value:function(e){var t=this.state.mod;t.parameters["mock-value"]=e.target.value,this.setState({mod:t})}},{key:"checkParameters",value:function(){"user"===this.state.role?this.state.mod.parameters["username-prefix"]?(this.setState({hasError:!1}),d.a.sendMessage("ModEdit",{type:"modValid"})):this.setState({hasError:!0}):"client"===this.state.role?this.state.mod.parameters["client-id-prefix"]?(this.setState({hasError:!1}),d.a.sendMessage("ModEdit",{type:"modValid"})):this.setState({hasError:!0}):"scheme"===this.state.role&&(this.state.mod.parameters["mock-value"]?(this.setState({hasError:!1}),d.a.sendMessage("ModEdit",{type:"modValid"})):this.setState({hasError:!0}))}},{key:"render",value:function(){var e=this,t="",a="";return"user"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=n.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-username-prefix-required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-username-prefix"},i.a.t("admin.mod-username-prefix"))),n.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-username-prefix",placeholder:i.a.t("admin.mod-username-prefix-ph"),maxLength:"256",value:this.state.mod.parameters["username-prefix"]||"",onChange:function(t){return e.changeMockUserValue(t)}}),t))):"client"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=n.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-client-id-prefix-required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-client-id-prefix"},i.a.t("admin.mod-client-id-prefix"))),n.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-client-id-prefix",placeholder:i.a.t("admin.mod-client-id-prefix-ph"),maxLength:"256",value:this.state.mod.parameters["client-id-prefix"]||"",onChange:function(t){return e.changeMockClientValue(t)}}),t))):"scheme"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=n.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-scheme-value-required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-scheme-value"},i.a.t("admin.mod-scheme-value"))),n.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-scheme-value",placeholder:i.a.t("admin.mod-scheme-value-ph"),maxLength:"256",value:this.state.mod.parameters["mock-value"]||"",onChange:function(t){return e.changeMockSchemeValue(t)}}),t))):""}}])&&xe(e.prototype,t),o}();function Fe(e){return(Fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=qe(e);return r=this,!(n=t?(a=qe(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==Fe(n)&&"function"!=typeof n?Te(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod.parameters||(e.mod.parameters={}),void 0===e.mod.parameters["use-glewlwyd-connection"]&&(e.mod.parameters["use-glewlwyd-connection"]=!0),t.state={mod:e.mod,role:e.role,check:e.check,errorList:{}},t.state.check&&t.checkParameters(),t.toggleInternalConnection=t.toggleInternalConnection.bind(Te(t)),t.changeDbType=t.changeDbType.bind(Te(t)),t.getDbType=t.getDbType.bind(Te(t)),t.changeValue=t.changeValue.bind(Te(t)),t.addDataFormat=t.addDataFormat.bind(Te(t)),t.deleteDataFormat=t.deleteDataFormat.bind(Te(t)),t.checkParameters=t.checkParameters.bind(Te(t)),t.changedataFormatConvert=t.changedataFormatConvert.bind(Te(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters||(e.mod.parameters={}),e.mod&&e.mod.parameters&&void 0===e.mod.parameters["use-glewlwyd-connection"]&&(e.mod.parameters["use-glewlwyd-connection"]=!0),this.setState({mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"toggleInternalConnection",value:function(){var e=this.state.mod;e.parameters["use-glewlwyd-connection"]=!e.parameters["use-glewlwyd-connection"],this.setState({mod:e})}},{key:"changeDbType",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["connection-type"]=t,this.setState({mod:a})}},{key:"getDbType",value:function(e){return"sqlite"===e?i.a.t("admin.mod-database-type-sqlite"):"mariadb"===e?i.a.t("admin.mod-database-type-mariadb"):"postgre"===e?i.a.t("admin.mod-database-type-postgre"):i.a.t("admin.mod-database-select-type")}},{key:"changeValue",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"addDataFormat",value:function(){var e=this.state.mod;e.parameters["data-format"]||(e.parameters["data-format"]={}),"user"===this.state.role?e.parameters["data-format"][""]={multiple:!1,read:!0,write:!0,"profile-read":!1,"profile-write":!1}:"client"===this.state.role&&(e.parameters["data-format"][""]={multiple:!1,read:!0,write:!0}),this.setState({mod:e})}},{key:"changeDataFormatProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][e.target.value]=a.parameters["data-format"][t],delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changedataFormatConvert",value:function(e,t,a){var r=this.state.mod;a?r.parameters["data-format"][t].convert=a:delete r.parameters["data-format"][t].convert,this.setState({mod:r})}},{key:"toggleDataFormatValue",value:function(e,t,a){var r=this.state.mod;r.parameters["data-format"][t][a]=!r.parameters["data-format"][t][a],this.setState({mod:r})}},{key:"deleteDataFormat",value:function(e,t){var a=this.state.mod;delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["use-glewlwyd-connection"]?this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){a||(t=!0,e["data-format"]=i.a.t("admin.mod-data-format-property-error"))})):("sqlite"===this.state.mod.parameters["connection-type"]?this.state.mod.parameters["sqlite-dbpath"]||(t=!0,e["sqlite-dbpath"]=i.a.t("admin.mod-database-sqlite-dbpath-error")):"mariadb"===this.state.mod.parameters["connection-type"]?(this.state.mod.parameters["mariadb-host"]||(t=!0,e["mariadb-host"]=i.a.t("admin.mod-database-mariadb-host-error")),this.state.mod.parameters["mariadb-user"]||(t=!0,e["mariadb-user"]=i.a.t("admin.mod-database-mariadb-user-error")),this.state.mod.parameters["mariadb-password"]||(t=!0,e["mariadb-password"]=i.a.t("admin.mod-database-mariadb-password-error")),this.state.mod.parameters["mariadb-dbname"]||(t=!0,e["mariadb-dbname"]=i.a.t("admin.mod-database-mariadb-dbname-error"))):"postgre"===this.state.mod.parameters["connection-type"]?this.state.mod.parameters["postgre-conninfo"]||(t=!0,e["postgre-conninfo"]=i.a.t("admin.mod-database-postgre-conninfo-error")):(t=!0,e["connection-type"]=i.a.t("admin.mod-database-connection-type-error")),this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){a||(t=!0,e["data-format"]=i.a.t("admin.mod-ldap-data-format-property-error"))}))),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-use-internal-connection",onChange:function(e){return a.toggleInternalConnection(e)},checked:this.state.mod.parameters["use-glewlwyd-connection"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-use-internal-connection"},i.a.t("admin.mod-database-use-internal-connection")));this.state.mod.parameters["use-glewlwyd-connection"]||(e=n.a.createElement("div",null,n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownDbType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.getDbType(this.state.mod.parameters["connection-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownDbType"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"sqlite")}},i.a.t("admin.mod-database-type-sqlite")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"mariadb")}},i.a.t("admin.mod-database-type-mariadb")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"postgre")}},i.a.t("admin.mod-database-type-postgre")))),this.state.errorList["connection-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["connection-type"]):""),"sqlite"===this.state.mod.parameters["connection-type"]?t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-sqlite-dbpath"},i.a.t("admin.mod-database-sqlite-dbpath"))),n.a.createElement("input",{type:"text",className:this.state.errorList["sqlite-dbpath"]?"form-control is-invalid":"form-control",id:"mod-database-sqlite-dbpath",onChange:function(e){return a.changeValue(e,"sqlite-dbpath")},value:this.state.mod.parameters["sqlite-dbpath"],placeholder:i.a.t("admin.mod-database-sqlite-dbpath-ph")})),this.state.errorList["sqlite-dbpath"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["sqlite-dbpath"]):""):"mariadb"===this.state.mod.parameters["connection-type"]?t=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-host"},i.a.t("admin.mod-database-mariadb-host"))),n.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-host"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-host",onChange:function(e){return a.changeValue(e,"mariadb-host")},value:this.state.mod.parameters["mariadb-host"],placeholder:i.a.t("admin.mod-database-mariadb-host-ph")})),this.state.errorList["mariadb-host"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-host"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-user"},i.a.t("admin.mod-database-mariadb-user"))),n.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-user"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-user",onChange:function(e){return a.changeValue(e,"mariadb-user")},value:this.state.mod.parameters["mariadb-user"],placeholder:i.a.t("admin.mod-database-mariadb-user-ph")})),this.state.errorList["mariadb-user"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-user"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-password"},i.a.t("admin.mod-database-mariadb-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList["mariadb-password"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-password",onChange:function(e){return a.changeValue(e,"mariadb-password")},value:this.state.mod.parameters["mariadb-password"],placeholder:i.a.t("admin.mod-database-mariadb-password-ph")})),this.state.errorList["mariadb-password"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-password"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-dbname"},i.a.t("admin.mod-database-mariadb-dbname"))),n.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-dbname"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-dbname",onChange:function(e){return a.changeValue(e,"mariadb-dbname")},value:this.state.mod.parameters["mariadb-dbname"],placeholder:i.a.t("admin.mod-database-mariadb-dbname-ph")})),this.state.errorList["mariadb-dbname"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-dbname"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-port"},i.a.t("admin.mod-database-mariadb-port"))),n.a.createElement("input",{type:"number",min:"0",max:"65535",step:"1",className:"form-control",id:"mod-database-mariadb-port",onChange:function(e){return a.changeValue(e,"mariadb-port")},value:this.state.mod.parameters["mariadb-port"],placeholder:i.a.t("admin.mod-database-mariadb-port-ph")})))):"postgre"===this.state.mod.parameters["connection-type"]&&(t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-postgre-conninfo"},i.a.t("admin.mod-database-postgre-conninfo"))),n.a.createElement("input",{type:"text",className:this.state.errorList["postgre-conninfo"]?"form-control is-invalid":"form-control",id:"mod-database-postgre-conninfo",onChange:function(e){return a.changeValue(e,"postgre-conninfo")},value:this.state.mod.parameters["postgre-conninfo"],placeholder:i.a.t("admin.mod-database-postgre-conninfo-ph")})),this.state.errorList["postgre-conninfo"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["postgre-conninfo"]):"")));var o=[],s=0;this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(e){var t=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-name-"+e},i.a.t("admin.mod-database-data-format-property"))),n.a.createElement("input",{type:"text",className:a.state.errorList["data-format"]?"form-control is-invalid":"form-control",id:"mod-database-data-format-name-"+e,onChange:function(t){return a.changeDataFormatProperty(t,e)},value:e,placeholder:i.a.t("admin.mod-database-data-format-property-ph")})),a.state.errorList["data-format"]?n.a.createElement("span",{className:"error-input"},a.state.errorList["data-format"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-multiple-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"multiple")},checked:a.state.mod.parameters["data-format"][e].multiple}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-multiple-"+e},i.a.t("admin.mod-database-data-format-multiple"))));"user"===a.state.role?o.push(n.a.createElement("div",{key:s++},t,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"read")},checked:a.state.mod.parameters["data-format"][e].read}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+e},i.a.t("admin.mod-database-data-format-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"write")},checked:a.state.mod.parameters["data-format"][e].write}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+e},i.a.t("admin.mod-database-data-format-write"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"profile-read")},checked:a.state.mod.parameters["data-format"][e]["profile-read"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-read-"+e},i.a.t("admin.mod-database-data-format-profile-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"profile-write")},checked:a.state.mod.parameters["data-format"][e]["profile-write"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-write-"+e},i.a.t("admin.mod-database-data-format-profile-write"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteDataFormat(t,e)},title:i.a.t("admin.mod-data-format-delete")},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement("hr",null))):"client"===a.state.role&&o.push(n.a.createElement("div",{key:s++},t,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"read")},checked:a.state.mod.parameters["data-format"][e].read}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+e},i.a.t("admin.mod-database-data-format-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"write")},checked:a.state.mod.parameters["data-format"][e].write}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+e},i.a.t("admin.mod-database-data-format-write"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteDataFormat(t,e)},title:i.a.t("admin.mod-data-format-delete")},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownFormatConvert-"+s},i.a.t("admin.mod-database-data-format-convert"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownFormatConvert-"+s,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-database-data-format-convert-"+(a.state.mod.parameters["data-format"][e].convert?a.state.mod.parameters["data-format"][e].convert:"none"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownFormatConvert-"+s},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.changedataFormatConvert(t,e,!1)}},i.a.t("admin.mod-database-data-format-convert-none")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.changedataFormatConvert(t,e,"jwks")}},i.a.t("admin.mod-database-data-format-convert-jwks")))))),n.a.createElement("hr",null)))}));var l=n.a.createElement("div",{className:"accordion",id:"accordionParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["data-format"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-data-format")))),n.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-data-format-message")),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},n.a.createElement("i",{className:"fas fa-plus"})),o))));return"user"===this.state.role||"client"===this.state.role?n.a.createElement("div",null,r,e,t,l):""}}])&&Oe(e.prototype,t),o}();function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ue(e,t){return(Ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var $e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ue(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Ve(e);return r=this,!(n=t?(a=Ve(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==De(n)&&"function"!=typeof n?ze(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod.parameters["scope-match"]||(e.mod.parameters["scope-match"]=[]),e.mod.parameters["search-scope"]||(e.mod.parameters["search-scope"]="one"),t.state={mod:e.mod,role:e.role,check:e.check,errorList:{}},t.state.check&&t.checkParameters(),t.addDataFormat=t.addDataFormat.bind(ze(t)),t.changeDataFormatProperty=t.changeDataFormatProperty.bind(ze(t)),t.changeDataFormatLdapProperty=t.changeDataFormatLdapProperty.bind(ze(t)),t.toggleDataFormatValue=t.toggleDataFormatValue.bind(ze(t)),t.toggleDataFormatMultiple=t.toggleDataFormatMultiple.bind(ze(t)),t.deleteDataFormat=t.deleteDataFormat.bind(ze(t)),t.changeParam=t.changeParam.bind(ze(t)),t.addScopeMatch=t.addScopeMatch.bind(ze(t)),t.changeScopeMatchProperty=t.changeScopeMatchProperty.bind(ze(t)),t.changeMatchType=t.changeMatchType.bind(ze(t)),t.changedataFormatConvert=t.changedataFormatConvert.bind(ze(t)),t.changePasswordAlgorithm=t.changePasswordAlgorithm.bind(ze(t)),t.getMatchType=t.getMatchType.bind(ze(t)),t.changePageSize=t.changePageSize.bind(ze(t)),t.checkParameters=t.checkParameters.bind(ze(t)),t.deleteScopeMatch=t.deleteScopeMatch.bind(ze(t)),t.changeSearchScope=t.changeSearchScope.bind(ze(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters["scope-match"]||(e.mod.parameters["scope-match"]=[]),e.mod.parameters["search-scope"]||(e.mod.parameters["search-scope"]="one"),this.setState({mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"addDataFormat",value:function(){var e=this.state.mod;e.parameters["data-format"]||(e.parameters["data-format"]={}),e.parameters["data-format"][""]={property:"",multiple:!1,read:!0,write:!0,"profile-read":!1,"profile-write":!1},this.setState({mod:e})}},{key:"changeDataFormatProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][e.target.value]=a.parameters["data-format"][t],delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changeDataFormatLdapProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][t].property=e.target.value,this.setState({mod:a})}},{key:"toggleDataFormatValue",value:function(e,t,a){var r=this.state.mod;r.parameters["data-format"][t][a]=!r.parameters["data-format"][t][a],this.setState({mod:r})}},{key:"toggleDataFormatMultiple",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][t].multiple=!a.parameters["data-format"][t].multiple,this.setState({mod:a})}},{key:"changedataFormatConvert",value:function(e,t,a){var r=this.state.mod;a?r.parameters["data-format"][t].convert=a:delete r.parameters["data-format"][t].convert,this.setState({mod:r})}},{key:"deleteDataFormat",value:function(e,t){var a=this.state.mod;delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changeParam",value:function(e,t,a){var r=2<arguments.length&&void 0!==a&&a,n=this.state.mod;n.parameters[t]=r?e.target.value.replace(/ /g,"").split(","):e.target.value,this.setState({mod:n})}},{key:"addScopeMatch",value:function(){var e=this.state.mod;e.parameters["scope-match"]||(e.parameters["scope-match"]=[]),e.parameters["scope-match"].push({"ldap-value":"","scope-value":"",match:"equals"}),this.setState({mod:e})}},{key:"changeScopeMatchProperty",value:function(e,t,a){var r=this.state.mod;r.parameters["scope-match"][t][a]=e.target.value,this.setState({mod:r})}},{key:"changeMatchType",value:function(e,t,a){var r=this.state.mod;r.parameters["scope-match"][t].match=a,this.setState({mod:r})}},{key:"changePasswordAlgorithm",value:function(e,t){var a=this.state.mod;a.parameters["password-algorithm"]=t,this.setState({mod:a})}},{key:"getMatchType",value:function(e){return"contains"===e?i.a.t("admin.mod-ldap-scope-match-contains"):"startswith"===e?i.a.t("admin.mod-ldap-scope-match-startswith"):"endswith"===e?i.a.t("admin.mod-ldap-scope-match-endswith"):i.a.t("admin.mod-ldap-scope-match-equals")}},{key:"changePageSize",value:function(e){var t=this.state.mod;t.parameters["page-size"]=parseInt(e.target.value),this.setState({mod:t})}},{key:"deleteScopeMatch",value:function(e){var t=this.state.mod;t.parameters["scope-match"].splice(e,1),this.setState({mod:t})}},{key:"changeSearchScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["search-scope"]=t,this.setState({mod:a})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;this.state.mod.parameters.uri||(a=!0,t.uri=i.a.t("admin.mod-ldap-uri-error")),this.state.mod.parameters["bind-dn"]||(a=!0,t["bind-dn"]=i.a.t("admin.mod-ldap-bind-dn-error")),this.state.mod.parameters["bind-password"]||(a=!0,t["bind-password"]=i.a.t("admin.mod-ldap-bind-password-error")),this.state.mod.parameters["base-search"]||(a=!0,t["base-search"]=i.a.t("admin.mod-ldap-base-search-error")),this.state.mod.parameters.filter||(a=!0,t.filter=i.a.t("admin.mod-ldap-filter-error")),this.state.mod.parameters["scope-property"]||(a=!0,t["scope-property"]=i.a.t("admin.mod-ldap-scope-property-error")),"user"===this.state.role?this.state.mod.parameters["username-property"]||(a=!0,t["username-property"]=i.a.t("admin.mod-ldap-username-property-error")):this.state.mod.parameters["client_id-property"]||(a=!0,t["client_id-property"]=i.a.t("admin.mod-ldap-client_id-property-error")),this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(r){r?e.state.mod.parameters["data-format"][r].property||(a=!0,t["data-format"]={},t["data-format"][r]=i.a.t("admin.mod-ldap-data-format-property-ldap-error")):(a=!0,t["data-format"]={error:i.a.t("admin.mod-data-format-property-error")})})),this.state.mod.parameters["scope-match"].forEach((function(e,r){e["ldap-value"]||(t["scope-match"]||(t["scope-match"]=[]),t["scope-match"][r]||(t["scope-match"][r]={}),a=!0,t["scope-match"][r].ldap=i.a.t("admin.mod-ldap-scope-match-ldap-value-error")),e["scope-value"]||(t["scope-match"]||(t["scope-match"]=[]),t["scope-match"][r]||(t["scope-match"][r]={}),a=!0,t["scope-match"][r].scope=i.a.t("admin.mod-ldap-scope-match-scope-value-error"))})),this.state.mod.readonly||(this.state.mod.parameters["rdn-property"]||(a=!0,t["rdn-property"]=i.a.t("admin.mod-ldap-rdn-property-error")),this.state.mod.readonly||(this.state.mod.parameters["password-property"]||(a=!0,t["password-property"]=i.a.t("admin.mod-ldap-password-property-error")),"1"!==this.state.mod.parameters.confidential&&"user"!==this.state.role||this.state.mod.parameters["password-algorithm"]||(a=!0,t["password-algorithm"]=i.a.t("admin.mod-ldap-password-algorithm-error"))),this.state.mod.parameters["object-class"]||(a=!0,t["object-class"]=i.a.t("admin.mod-ldap-object-class-error"))),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){("user"===e.state.role||"client"===e.state.role)&&d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[],a=[],r=0;this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){var o="";"user"===e.state.role&&(o=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"read")},checked:e.state.mod.parameters["data-format"][a].read}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+a},i.a.t("admin.mod-database-data-format-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"write")},checked:e.state.mod.parameters["data-format"][a].write}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+a},i.a.t("admin.mod-database-data-format-write"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-read-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"profile-read")},checked:e.state.mod.parameters["data-format"][a]["profile-read"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-read-"+a},i.a.t("admin.mod-database-data-format-profile-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-write-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"profile-write")},checked:e.state.mod.parameters["data-format"][a]["profile-write"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-write-"+a},i.a.t("admin.mod-database-data-format-profile-write"))))),t.push(n.a.createElement("div",{key:r++},n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-name-"+a},i.a.t("admin.mod-database-data-format-property"))),n.a.createElement("input",{type:"text",className:e.state.errorList["data-format"]&&e.state.errorList["data-format"].error?"form-control is-invalid":"form-control",id:"mod-database-data-format-name-"+a,onChange:function(t){return e.changeDataFormatProperty(t,a)},value:a||"",placeholder:i.a.t("admin.mod-database-data-format-property-ph")})),e.state.errorList["data-format"]&&e.state.errorList["data-format"].error?n.a.createElement("span",{className:"error-input"},e.state.errorList["data-format"].error):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-ldap-name-"+a},i.a.t("admin.mod-database-data-format-ldap-property"))),n.a.createElement("input",{type:"text",className:e.state.errorList["data-format"]&&e.state.errorList["data-format"][a]?"form-control is-invalid":"form-control",id:"mod-database-data-format-ldap-name-"+a,onChange:function(t){return e.changeDataFormatLdapProperty(t,a)},value:e.state.mod.parameters["data-format"][a].property||"",placeholder:i.a.t("admin.mod-database-data-format-ldap-property-ph")})),e.state.errorList["data-format"]&&e.state.errorList["data-format"][a]?n.a.createElement("span",{className:"error-input"},e.state.errorList["data-format"][a]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-multiple-"+a,onChange:function(t){return e.toggleDataFormatMultiple(t,a)},checked:e.state.mod.parameters["data-format"][a].multiple}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-multiple-"+a},i.a.t("admin.mod-database-data-format-multiple"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownFormatConvert-"+r},i.a.t("admin.mod-database-data-format-convert"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownFormatConvert-"+r,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-database-data-format-convert-"+(e.state.mod.parameters["data-format"][a].convert?e.state.mod.parameters["data-format"][a].convert:"none"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownFormatConvert-"+r},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,!1)}},i.a.t("admin.mod-database-data-format-convert-none")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,"base64")}},i.a.t("admin.mod-database-data-format-convert-base64")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,"jwks")}},i.a.t("admin.mod-database-data-format-convert-jwks")))))),o,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteDataFormat(t,a)},title:i.a.t("admin.mod-data-format-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["scope-match"].forEach((function(t,r){a.push(n.a.createElement("div",{key:r},n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-match-ldap-"+r},i.a.t("admin.mod-ldap-scope-match-ldap"))),n.a.createElement("input",{type:"text",className:e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].ldap?"form-control is-invalid":"form-control",id:"mod-ldap-scope-match-ldap-"+r,onChange:function(t){return e.changeScopeMatchProperty(t,r,"ldap-value")},value:t["ldap-value"]||"",placeholder:i.a.t("admin.mod-ldap-scope-match-ldap-ph")})),e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].ldap?n.a.createElement("span",{className:"error-input"},e.state.errorList["scope-match"][r].ldap):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-match-scope-"+r},i.a.t("admin.mod-ldap-scope-match-scope"))),n.a.createElement("input",{type:"text",className:e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].scope?"form-control is-invalid":"form-control",id:"mod-ldap-scope-match-scope-"+r,onChange:function(t){return e.changeScopeMatchProperty(t,r,"scope-value")},value:t["scope-value"]||"",placeholder:i.a.t("admin.mod-ldap-scope-match-scope-ph")})),e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].scope?n.a.createElement("span",{className:"error-input"},e.state.errorList["scope-match"][r].scope):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownMatchType-"+r},i.a.t("admin.mod-ldap-scope-match"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMatchType-"+r,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.getMatchType(t.match)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMatchType-"+r},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"equals")}},i.a.t("admin.mod-ldap-scope-match-equals")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"contains")}},i.a.t("admin.mod-ldap-scope-match-contains")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"startswith")}},i.a.t("admin.mod-ldap-scope-match-startswith")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"endswith")}},i.a.t("admin.mod-ldap-scope-match-endswith")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.deleteScopeMatch(r)},title:i.a.t("admin.mod-ldap-scope-match-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))))}));var o="",s="",l="",c="",m="";return"user"===this.state.role?(o=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-username-property"},i.a.t("admin.mod-ldap-username-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["username-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-username-property",onChange:function(t){return e.changeParam(t,"username-property",!e.state.mod.readonly)},value:this.state.mod.parameters["username-property"]||"",placeholder:i.a.t("admin.mod-ldap-username-property-ph")})),this.state.errorList["username-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["username-property"]):""),s=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-email-property"},i.a.t("admin.mod-ldap-email-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-email-property",onChange:function(t){return e.changeParam(t,"email-property",!e.state.mod.readonly)},value:this.state.mod.parameters["email-property"]||"",placeholder:i.a.t("admin.mod-ldap-email-property-ph")})))):(c=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-client_id-property"},i.a.t("admin.mod-ldap-client_id-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["client_id-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-username-property",onChange:function(t){return e.changeParam(t,"client_id-property",!e.state.mod.readonly)},value:this.state.mod.parameters["client_id-property"]||"",placeholder:i.a.t("admin.mod-ldap-client_id-property-ph")})),this.state.errorList["client_id-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["client_id-property"]):""),l=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-description-property"},i.a.t("admin.mod-ldap-description-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-description-property",onChange:function(t){return e.changeParam(t,"description-property",!e.state.mod.readonly)},value:this.state.mod.parameters["description-property"]||"",placeholder:i.a.t("admin.mod-ldap-description-property-ph")}))),m=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-confidential-property"},i.a.t("admin.mod-ldap-confidential-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-confidential-property",onChange:function(t){return e.changeParam(t,"confidential-property",!e.state.mod.readonly)},value:this.state.mod.parameters["confidential-property"]||"",placeholder:i.a.t("admin.mod-ldap-confidential-property-ph")})))),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-uri"},i.a.t("admin.mod-ldap-uri"))),n.a.createElement("input",{type:"text",className:this.state.errorList.uri?"form-control is-invalid":"form-control",id:"mod-ldap-uri",onChange:function(t){return e.changeParam(t,"uri")},value:this.state.mod.parameters.uri||"",placeholder:i.a.t("admin.mod-ldap-uri-ph")})),this.state.errorList.uri?n.a.createElement("span",{className:"error-input"},this.state.errorList.uri):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-bind-dn"},i.a.t("admin.mod-ldap-bind-dn"))),n.a.createElement("input",{type:"text",className:this.state.errorList["bind-dn"]?"form-control is-invalid":"form-control",id:"mod-ldap-bind-dn",onChange:function(t){return e.changeParam(t,"bind-dn")},value:this.state.mod.parameters["bind-dn"]||"",placeholder:i.a.t("admin.mod-ldap-bind-dn-ph")})),this.state.errorList["bind-dn"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["bind-dn"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-bind-password"},i.a.t("admin.mod-ldap-bind-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList["bind-password"]?"form-control is-invalid":"form-control",id:"mod-ldap-bind-password",onChange:function(t){return e.changeParam(t,"bind-password")},value:this.state.mod.parameters["bind-password"]||"",placeholder:i.a.t("admin.mod-ldap-bind-password-ph")})),this.state.errorList["bind-password"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["bind-password"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-page-size"},i.a.t("admin.mod-ldap-page-size"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-ldap-page-size",onChange:this.changePageSize,value:this.state.mod.parameters["page-size"]||"",placeholder:i.a.t("admin.mod-ldap-page-size-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-base-search"},i.a.t("admin.mod-ldap-base-search"))),n.a.createElement("input",{type:"text",className:this.state.errorList["base-search"]?"form-control is-invalid":"form-control",id:"mod-ldap-base-search",onChange:function(t){return e.changeParam(t,"base-search")},value:this.state.mod.parameters["base-search"]||"",placeholder:i.a.t("admin.mod-ldap-base-search-ph")})),this.state.errorList["base-search"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["base-search"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-base-search"},i.a.t("admin.mod-ldap-search-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-ldap-search-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-ldap-search-scope-"+this.state.mod.parameters["search-scope"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-ldap-search-scope"},n.a.createElement("a",{className:"dropdown-item"+("one"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"one")}},i.a.t("admin.mod-ldap-search-scope-one")),n.a.createElement("a",{className:"dropdown-item"+("subtree"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"subtree")}},i.a.t("admin.mod-ldap-search-scope-subtree")),n.a.createElement("a",{className:"dropdown-item"+("children"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"children")}},i.a.t("admin.mod-ldap-search-scope-children")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-filter"},i.a.t("admin.mod-ldap-filter"))),n.a.createElement("input",{type:"text",className:this.state.errorList.filter?"form-control is-invalid":"form-control",id:"mod-ldap-filter",onChange:function(t){return e.changeParam(t,"filter")},value:this.state.mod.parameters.filter||"",placeholder:i.a.t("admin.mod-ldap-filter-ph")})),this.state.errorList.filter?n.a.createElement("span",{className:"error-input"},this.state.errorList.filter):""),o,c,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-name-property"},i.a.t("admin.mod-ldap-name-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-name-property",onChange:function(t){return e.changeParam(t,"name-property",!e.state.mod.readonly)},value:this.state.mod.parameters["name-property"]||"",placeholder:i.a.t("admin.mod-ldap-name-property-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-property"},i.a.t("admin.mod-ldap-scope-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["scope-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-scope-property",onChange:function(t){return e.changeParam(t,"scope-property",!e.state.mod.readonly)},value:this.state.mod.parameters["scope-property"]||"",placeholder:i.a.t("admin.mod-ldap-scope-property-ph")})),this.state.errorList["scope-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["scope-property"]):""),s,l,m,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-password-property"},i.a.t("admin.mod-ldap-password-property"))),n.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["password-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-password-property",onChange:function(t){return e.changeParam(t,"password-property")},value:this.state.mod.parameters["password-property"]||"",placeholder:i.a.t("admin.mod-ldap-password-property-ph")})),this.state.errorList["password-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["password-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownPasswordAlgorithm"},i.a.t("admin.mod-ldap-password-algorithm"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{disabled:this.state.mod.readonly,className:this.state.errorList["password-algorithm"]?"btn btn-secondary dropdown-toggle is-invalid":"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownPasswordAlgorithm","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.mod.parameters["password-algorithm"]||i.a.t("admin.mod-ldap-password-algorithm-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownPasswordAlgorithm"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SSHA")}},i.a.t("admin.mod-ldap-password-algorithm-ssha")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SHA")}},i.a.t("admin.mod-ldap-password-algorithm-sha")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SMD5")}},i.a.t("admin.mod-ldap-password-algorithm-smd5")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"MD5")}},i.a.t("admin.mod-ldap-password-algorithm-md5")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT")}},i.a.t("admin.mod-ldap-password-algorithm-crypt")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_MD5")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-md5")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_SHA256")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-sha256")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_SHA512")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-sha512")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"PLAIN")}},i.a.t("admin.mod-ldap-password-algorithm-plain")))),this.state.errorList["password-algorithm"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["password-algorithm"]):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-rdn-property"},i.a.t("admin.mod-ldap-rdn-property"))),n.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["rdn-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-rdn-property",onChange:function(t){return e.changeParam(t,"rdn-property")},value:this.state.mod.parameters["rdn-property"]||"",placeholder:i.a.t("admin.mod-ldap-rdn-property-ph")})),this.state.errorList["rdn-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["rdn-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-object-class"},i.a.t("admin.mod-ldap-object-class"))),n.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["object-class"]?"form-control is-invalid":"form-control",id:"mod-ldap-object-class",onChange:function(t){return e.changeParam(t,"object-class",!0)},value:this.state.mod.parameters["object-class"]||"",placeholder:i.a.t("admin.mod-ldap-object-class-ph")})),this.state.errorList["object-class"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["object-class"]):""),n.a.createElement("div",{className:"accordion",id:"accordionParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["data-format"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-data-format")))),n.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-data-format-message")),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},n.a.createElement("i",{className:"fas fa-plus"})),t))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"scopeMatchCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseScopeMatch","aria-expanded":"true","aria-controls":"collapseScopeMatch"},this.state.errorList["scope-match"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-scope-match")))),n.a.createElement("div",{id:"collapseScopeMatch",className:"collapse","aria-labelledby":"scopeMatchCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeMatch,title:i.a.t("admin.mod-scope-match-add")},n.a.createElement("i",{className:"fas fa-plus"})),a)))))}}])&&Ie(e.prototype,t),o}();function Je(e){return(Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return(Be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&We(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Be(e);return r=this,!(n=t?(a=Be(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==Je(n)&&"function"!=typeof n?Ge(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},t.state.check&&t.checkParameters(),t.changeParam=t.changeParam.bind(Ge(t)),t.toggleCheckServerCertificate=t.toggleCheckServerCertificate.bind(Ge(t)),t.checkParameters=t.checkParameters.bind(Ge(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"toggleCheckServerCertificate",value:function(){var e=this.state.mod;e.parameters["check-server-certificate"]=!e.parameters["check-server-certificate"],this.setState({mod:e})}},{key:"addScope",value:function(e,t){var a=this.state.mod;a.parameters["default-scope"]?a.parameters["default-scope"].push(t):a.parameters["default-scope"]=[t],this.setState({mod:a})}},{key:"deleteDefaultScope",value:function(e,t){var a=this.state.mod;a.parameters["default-scope"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.url||(t=!0,e.url=i.a.t("admin.mod-http-url-error")),this.state.mod.parameters["default-scope"]||"user"!==this.state.role||(t=!0,e["default-scope"]=i.a.t("admin.mod-http-default-scope-error")),this.state.mod.parameters["username-format"]&&!this.state.mod.parameters["username-format"].includes("{username}")&&"user"===this.state.role&&(t=!0,e["username-format"]=i.a.t("admin.mod-http-username-format-error")),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a,r,o=this;return"user"===this.state.role&&(e=[],t=[],this.state.config.pattern.user.forEach((function(t){"scope"===t.name&&t.listElements.forEach((function(t,a){e.push(n.a.createElement("a",{key:a,className:"dropdown-item",href:"#",onClick:function(e){return o.addScope(e,t)}},t))}))})),this.state.mod.parameters["default-scope"]&&this.state.mod.parameters["default-scope"].forEach((function(e,a){t.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return o.deleteDefaultScope(e,a)},key:a},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),a=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-http-default-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-http-default-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-http-default-scope"},e),n.a.createElement("div",null,t)),r=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-http-default-scope"))),a),this.state.errorList["default-scope"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["default-scope"]):"")),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-http-url"},i.a.t("admin.mod-http-url"))),n.a.createElement("input",{type:"text",className:this.state.errorList.url?"form-control is-invalid":"form-control",id:"mod-http-url",onChange:function(e){return o.changeParam(e,"url")},value:this.state.mod.parameters.url||"",placeholder:i.a.t("admin.mod-http-url-ph")})),this.state.errorList.url?n.a.createElement("span",{className:"error-input"},this.state.errorList.url):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-check-server-certificate",onChange:function(){return o.toggleCheckServerCertificate()},checked:this.state.mod.parameters["check-server-certificate"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-check-server-certificate"},i.a.t("admin.mod-check-server-certificate"))),r,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-http-username-format"},i.a.t("admin.mod-http-username-format"))),n.a.createElement("input",{type:"text",className:this.state.errorList["username-format"]?"form-control is-invalid":"form-control",id:"mod-http-username-format",onChange:function(e){return o.changeParam(e,"username-format")},value:this.state.mod.parameters["username-format"]||"",placeholder:i.a.t("admin.mod-http-username-format-ph")})),this.state.errorList["username-format"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["username-format"]):""))}}])&&Ke(e.prototype,t),o}();function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function et(e){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var tt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=et(e);return r=this,!(n=t?(a=et(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==He(n)&&"function"!=typeof n?Ze(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||(e.mod={parameters:{}}),void 0===e.mod.parameters.host&&(e.mod.parameters.host=""),void 0===e.mod.parameters.user&&(e.mod.parameters.user=""),void 0===e.mod.parameters.password&&(e.mod.parameters.password=""),void 0===e.mod.parameters["use-tls"]&&(e.mod.parameters["use-tls"]=!1),void 0===e.mod.parameters["check-certificate"]&&(e.mod.parameters["check-certificate"]=!0),e.mod.parameters["code-length"]||(e.mod.parameters["code-length"]=6),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters.from&&(e.mod.parameters.from=""),void 0===e.mod.parameters["user-lang-property"]&&(e.mod.parameters["user-lang-property"]="lang"),void 0===e.mod.parameters["content-type"]&&(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"","body-pattern":e.mod.parameters["body-pattern"]||"",defaultLang:!0}),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},currentLang:i.a.language,newLang:""},t.state.check&&t.checkParameters(),t.changeParam=t.changeParam.bind(Ze(t)),t.toggleUseTls=t.toggleUseTls.bind(Ze(t)),t.toggleCheckServerCertificate=t.toggleCheckServerCertificate.bind(Ze(t)),t.checkParameters=t.checkParameters.bind(Ze(t)),t.changeLang=t.changeLang.bind(Ze(t)),t.toggleLangDefault=t.toggleLangDefault.bind(Ze(t)),t.changeNewLang=t.changeNewLang.bind(Ze(t)),t.addLang=t.addLang.bind(Ze(t)),t.removeLang=t.removeLang.bind(Ze(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),void 0===e.mod.parameters.host&&(e.mod.parameters.host=""),void 0===e.mod.parameters.user&&(e.mod.parameters.user=""),void 0===e.mod.parameters.password&&(e.mod.parameters.password=""),void 0===e.mod.parameters["use-tls"]&&(e.mod.parameters["use-tls"]=!1),void 0===e.mod.parameters["check-certificate"]&&(e.mod.parameters["check-certificate"]=!0),e.mod.parameters["code-length"]||(e.mod.parameters["code-length"]=6),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters.from&&(e.mod.parameters.from=""),void 0===e.mod.parameters["user-lang-property"]&&(e.mod.parameters["user-lang-property"]="lang"),void 0===e.mod.parameters["content-type"]&&(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"","body-pattern":e.mod.parameters["body-pattern"]||"",defaultLang:!0}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleUseTls",value:function(){var e=this.state.mod;e.parameters["use-tls"]=!e.parameters["use-tls"],this.setState({mod:e})}},{key:"toggleCheckServerCertificate",value:function(){var e=this.state.mod;e.parameters["check-certificate"]=!e.parameters["check-certificate"],this.setState({mod:e})}},{key:"changeNewLang",value:function(e){this.setState({newLang:e.target.value})}},{key:"addLang",value:function(){var e=this,t=this.state.mod,a=!1;Object.keys(t.parameters.templates).forEach((function(t){t===e.state.newLang&&(a=!0)})),!a&&this.state.newLang&&(t.parameters.templates[this.state.newLang]={subject:"","body-pattern":"",defaultLang:!1},this.setState({mod:t,newLang:"",currentLang:this.state.newLang}))}},{key:"removeLang",value:function(e){var t=this.state.mod,a=!1;delete t.parameters.templates[e],e==this.state.currentLang?(Object.keys(t.parameters.templates).forEach((function(e){a=a||e})),this.setState({mod:t,currentLang:a})):this.setState({mod:t})}},{key:"changeLang",value:function(e,t){this.setState({currentLang:t})}},{key:"changeTemplate",value:function(e,t){var a=this.state.mod;a.parameters.templates[this.state.currentLang][t]=e.target.value,this.setState({mod:a})}},{key:"toggleLangDefault",value:function(){var e=this,t=this.state.mod;Object.keys(t.parameters.templates).forEach((function(a){t.parameters.templates[a].defaultLang=a===e.state.currentLang})),this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;this.state.mod.parameters["code-length"]||(a=!0,t["code-length"]=i.a.t("admin.mod-email-code-length-error")),this.state.mod.parameters["code-duration"]||(a=!0,t["code-duration"]=i.a.t("admin.mod-email-code-duration-error")),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error")),this.state.mod.parameters.from||(a=!0,t.from=i.a.t("admin.mod-email-from-error")),this.state.mod.parameters["content-type"]||(a=!0,t["content-type"]=i.a.t("admin.mod-email-content-type-error")),this.state.mod.parameters["user-lang-property"]||(a=!0,t["user-lang-property"]=i.a.t("admin.mod-email-user-lang-property-error")),t.subject="",t["body-pattern"]="",Object.keys(this.state.mod.parameters.templates).forEach((function(r){e.state.mod.parameters.templates[r].subject||(a=!0,t.subject+=i.a.t("admin.mod-email-subject-error",{lang:r})),e.state.mod.parameters.templates[r]["body-pattern"]&&e.state.mod.parameters.templates[r]["body-pattern"].search("{CODE}")||(a=!0,t["body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}))})),a?this.setState({errorList:t}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];return t.push(n.a.createElement("div",{key:-2,className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(t){return e.changeNewLang(t)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",onClick:this.addLang,className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),t.push(n.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templates).forEach((function(a,r){t.push(n.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},n.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},a),n.a.createElement("button",{type:"button",onClick:function(){return e.removeLang(a)},className:"btn btn-primary",disabled:e.state.mod.parameters.templates[a].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),n.a.createElement("button",{type:"button",onClick:function(t){return e.changeLang(t,a)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),t.push(n.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-code-length"},i.a.t("admin.mod-email-code-length"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["code-length"]?"form-control is-invalid":"form-control",id:"mod-email-code-length",onChange:function(t){return e.changeParam(t,"code-length")},value:this.state.mod.parameters["code-length"],placeholder:i.a.t("admin.mod-email-code-length-ph")})),this.state.errorList["code-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-length"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-code-duration"},i.a.t("admin.mod-email-code-duration"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-email-code-duration",onChange:function(t){return e.changeParam(t,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-email-code-duration-ph")})),this.state.errorList["code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-host"},i.a.t("admin.mod-email-host"))),n.a.createElement("input",{type:"text",className:this.state.errorList.host?"form-control is-invalid":"form-control",id:"mod-email-host",onChange:function(t){return e.changeParam(t,"host")},value:this.state.mod.parameters.host,placeholder:i.a.t("admin.mod-email-host-ph")})),this.state.errorList.host?n.a.createElement("span",{className:"error-input"},this.state.errorList.host):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-port"},i.a.t("admin.mod-email-port"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList.port?"form-control is-invalid":"form-control",id:"mod-email-port",onChange:function(t){return e.changeParam(t,"port",!0)},value:this.state.mod.parameters.port,placeholder:i.a.t("admin.mod-email-port-ph")})),this.state.errorList.port?n.a.createElement("span",{className:"error-input"},this.state.errorList.port):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-use-tls",onChange:function(){return e.toggleUseTls()},checked:this.state.mod.parameters["use-tls"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-use-tls"},i.a.t("admin.mod-email-use-tls"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["use-tls"],id:"mod-email-check-certificate",onChange:function(){return e.toggleCheckServerCertificate()},checked:this.state.mod.parameters["check-certificate"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-user"},i.a.t("admin.mod-email-user"))),n.a.createElement("input",{type:"text",className:this.state.errorList.user?"form-control is-invalid":"form-control",id:"mod-email-user",onChange:function(t){return e.changeParam(t,"user")},value:this.state.mod.parameters.user,placeholder:i.a.t("admin.mod-email-user-ph")})),this.state.errorList.user?n.a.createElement("span",{className:"error-input"},this.state.errorList.user):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-password"},i.a.t("admin.mod-email-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"mod-email-password",onChange:function(t){return e.changeParam(t,"password")},value:this.state.mod.parameters.password,placeholder:i.a.t("admin.mod-email-password-ph")})),this.state.errorList.password?n.a.createElement("span",{className:"error-input"},this.state.errorList.password):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-from"},i.a.t("admin.mod-email-from"))),n.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-email-from",onChange:function(t){return e.changeParam(t,"from")},value:this.state.mod.parameters.from,placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList.from?n.a.createElement("span",{className:"error-input"},this.state.errorList.from):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-content-type"},i.a.t("admin.mod-email-content-type"))),n.a.createElement("input",{type:"text",className:this.state.errorList["content-type"]?"form-control is-invalid":"form-control",id:"mod-content-type-from",onChange:function(t){return e.changeParam(t,"content-type")},value:this.state.mod.parameters["content-type"],placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["content-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["content-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-user-lang-property"},i.a.t("admin.mod-email-user-lang-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["user-lang-property"]?"form-control is-invalid":"form-control",id:"mod-email-user-lang-property",onChange:function(t){return e.changeParam(t,"user-lang-property")},value:this.state.mod.parameters["user-lang-property"],placeholder:i.a.t("admin.mod-email-user-lang-property-ph")})),this.state.errorList["user-lang-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["user-lang-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLang),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},t)))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(){return e.toggleLangDefault()},checked:this.state.mod.parameters.templates[this.state.currentLang].defaultLang}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),n.a.createElement("input",{type:"text",className:this.state.errorList.subject?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(t){return e.changeTemplate(t,"subject")},value:this.state.mod.parameters.templates[this.state.currentLang].subject,placeholder:i.a.t("admin.mod-email-subject-ph")})),this.state.errorList.subject?n.a.createElement("span",{className:"error-input"},this.state.errorList.subject):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern"))),n.a.createElement("textarea",{className:this.state.errorList["body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern")},placeholder:i.a.t("admin.mod-email-body-pattern-ph"),value:this.state.mod.parameters.templates[this.state.currentLang]["body-pattern"]})),this.state.errorList["body-pattern"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["body-pattern"]):""))}}])&&Ye(e.prototype,t),o}();function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nt(e,t){return(nt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function st(e){return(st=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var it=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&nt(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=st(e);return r=this,!(n=t?(a=st(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==at(n)&&"function"!=typeof n?ot(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["challenge-length"]||(e.mod.parameters["challenge-length"]=64),e.mod.parameters["rp-origin"]||(e.mod.parameters["rp-origin"]=location.protocol+"//"+location.host),e.mod.parameters["pubKey-cred-params"]||(e.mod.parameters["pubKey-cred-params"]=[-7,-35,-36]),e.mod.parameters["credential-expiration"]||(e.mod.parameters["credential-expiration"]=120),e.mod.parameters["credential-assertion"]||(e.mod.parameters["credential-assertion"]=120),void 0===e.mod.parameters.ctsProfileMatch&&(e.mod.parameters.ctsProfileMatch=1),void 0===e.mod.parameters.basicIntegrity&&(e.mod.parameters.basicIntegrity=1),void 0===e.mod.parameters["session-mandatory"]&&(e.mod.parameters["session-mandatory"]=!1),void 0===e.mod.parameters.fmt&&(e.mod.parameters.fmt={packed:!0,tpm:!1,"android-key":!1,"android-safetynet":!0,"fido-u2f":!0,none:!0}),void 0===e.mod.parameters.seed&&(e.mod.parameters.seed=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),void 0===e.mod.parameters["root-ca-list"]&&(e.mod.parameters["root-ca-list"]=[]),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},rootCaPath:""},t.state.check&&t.checkParameters(),t.changeParam=t.changeParam.bind(ot(t)),t.checkParameters=t.checkParameters.bind(ot(t)),t.togglePubkey=t.togglePubkey.bind(ot(t)),t.changeSIParam=t.changeSIParam.bind(ot(t)),t.toggleSessionMandatory=t.toggleSessionMandatory.bind(ot(t)),t.generateSeed=t.generateSeed.bind(ot(t)),t.toggleForceFmtNone=t.toggleForceFmtNone.bind(ot(t)),t.handleChangeRootCaPath=t.handleChangeRootCaPath.bind(ot(t)),t.addRootCaPath=t.addRootCaPath.bind(ot(t)),t.deleteCaPath=t.deleteCaPath.bind(ot(t)),t.toggleFmt=t.toggleFmt.bind(ot(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"togglePubkey",value:function(e,t){var a=this.state.mod;-1<a.parameters["pubKey-cred-params"].indexOf(t)?a.parameters["pubKey-cred-params"].splice(a.parameters["pubKey-cred-params"].indexOf(t),1):a.parameters["pubKey-cred-params"].push(t),this.setState({mod:a})}},{key:"toggleSessionMandatory",value:function(){var e=this.state.mod;e.parameters["session-mandatory"]=!e.parameters["session-mandatory"],this.setState({mod:e})}},{key:"toggleForceFmtNone",value:function(){var e=this.state.mod;e.parameters["force-fmt-none"]=!e.parameters["force-fmt-none"],this.setState({mod:e})}},{key:"toggleFmt",value:function(e,t){var a=this.state.mod;a.parameters.fmt[t]=!a.parameters.fmt[t],this.setState({mod:a})}},{key:"changeSIParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"generateSeed",value:function(){var e=this.state.mod;e.parameters.seed=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.setState({mod:e})}},{key:"handleChangeRootCaPath",value:function(e){this.setState({rootCaPath:e.target.value})}},{key:"addRootCaPath",value:function(){var e;this.state.rootCaPath&&((e=this.state.mod).parameters["root-ca-list"].push(this.state.rootCaPath),this.setState({rootCaPath:"",mod:e}))}},{key:"deleteCaPath",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["root-ca-list"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["challenge-length"]||(t=!0,e["challenge-length"]=i.a.t("admin.mod-webauthn-challenge-length-error")),this.state.mod.parameters["credential-expiration"]||(t=!0,e["credential-expiration"]=i.a.t("admin.mod-webauthn-credential-expiration-error")),this.state.mod.parameters["credential-expiration"]||(t=!0,e["credential-expiration"]=i.a.t("admin.mod-webauthn-credential-expiration-error")),this.state.mod.parameters["rp-origin"]||(t=!0,e["rp-origin"]=i.a.t("admin.mod-webauthn-rp-origin-error")),this.state.mod.parameters["pubKey-cred-params"].length||(t=!0,e["pubKey-cred-params"]=i.a.t("admin.mod-webauthn-pubKey-cred-params-error")),this.state.mod.parameters.fmt.packed||this.state.mod.parameters.fmt.tpm||this.state.mod.parameters.fmt["android-key"]||this.state.mod.parameters.fmt["android-safetynet"]||this.state.mod.parameters.fmt["fido-u2f"]||this.state.mod.parameters.fmt.none||(t=!0,e.fmt=i.a.t("admin.mod-webauthn-fmt-error")),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mod.parameters["root-ca-list"].forEach((function(a,r){t.push(n.a.createElement("div",null,n.a.createElement("a",{href:"#",onClick:function(t){return e.deleteCaPath(t,r)},key:r},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},a,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-session-mandatory-check",checked:this.state.mod.parameters["session-mandatory"],onChange:function(t){return e.toggleSessionMandatory(t)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-session-mandatory-check"},i.a.t("admin.mod-webauthn-session-mandatory"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-force-fmt-none",checked:this.state.mod.parameters["force-fmt-none"],onChange:function(t){return e.toggleForceFmtNone(t)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-force-fmt-none"},i.a.t("admin.mod-webauthn-force-fmt-none"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-seed"},i.a.t("admin.mod-webauthn-seed")),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:this.state.errorList.seed?"form-control is-invalid":"form-control",id:"mod-webauthn-seed",onChange:function(t){return e.changeParam(t,"seed")},value:this.state.mod.parameters.seed,placeholder:i.a.t("admin.mod-webauthn-seed-ph"),disabled:this.state.mod.parameters["session-mandatory"]}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",title:i.a.t("admin.mod-webauthn-seed-generate"),onClick:this.generateSeed},i.a.t("admin.mod-webauthn-seed-generate"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-challenge-length"},i.a.t("admin.mod-webauthn-challenge-length")),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["challenge-length"]?"form-control is-invalid":"form-control",id:"mod-webauthn-challenge-length",onChange:function(t){return e.changeParam(t,"challenge-length")},value:this.state.mod.parameters["challenge-length"],placeholder:i.a.t("admin.mod-webauthn-challenge-length-ph")}),this.state.errorList["challenge-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["challenge-length"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-credential-expiration"},i.a.t("admin.mod-webauthn-credential-expiration")),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["credential-expiration"]?"form-control is-invalid":"form-control",id:"mod-webauthn-credential-expiration",onChange:function(t){return e.changeParam(t,"credential-expiration",!0)},value:this.state.mod.parameters["credential-expiration"],placeholder:i.a.t("admin.mod-webauthn-credential-expiration-ph")}),this.state.errorList["credential-expiration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["credential-expiration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-credential-assertion"},i.a.t("admin.mod-webauthn-credential-assertion")),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["credential-assertion"]?"form-control is-invalid":"form-control",id:"mod-webauthn-credential-assertion",onChange:function(t){return e.changeParam(t,"credential-assertion",!0)},value:this.state.mod.parameters["credential-assertion"],placeholder:i.a.t("admin.mod-webauthn-credential-assertion-ph")}),this.state.errorList["credential-assertion"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["credential-assertion"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-rp-origin"},i.a.t("admin.mod-webauthn-rp-origin")),n.a.createElement("input",{type:"text",className:this.state.errorList["rp-origin"]?"form-control is-invalid":"form-control",id:"mod-webauthn-rp-origin",onChange:function(t){return e.changeParam(t,"rp-origin")},value:this.state.mod.parameters["rp-origin"],placeholder:i.a.t("admin.mod-webauthn-rp-origin-ph")}),this.state.errorList["rp-origin"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["rp-origin"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-fmt-params"},i.a.t("admin.mod-webauthn-fmt-params")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-packed",checked:this.state.mod.parameters.fmt.packed,onChange:function(t){return e.toggleFmt(t,"packed")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-packed"},i.a.t("admin.mod-webauthn-fmt-packed-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-tpm",checked:this.state.mod.parameters.fmt.tpm,onChange:function(t){return e.toggleFmt(t,"tpm")},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-tpm",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-fmt-tpm-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-android-key",checked:this.state.mod.parameters.fmt["android-key"],onChange:function(t){return e.toggleFmt(t,"android-key")},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-android-key",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-fmt-android-key-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-android-safetynet",checked:this.state.mod.parameters.fmt["android-safetynet"],onChange:function(t){return e.toggleFmt(t,"android-safetynet")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-android-safetynet"},i.a.t("admin.mod-webauthn-fmt-android-safetynet-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-fido-u2f",checked:this.state.mod.parameters.fmt["fido-u2f"],onChange:function(t){return e.toggleFmt(t,"fido-u2f")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-fido-u2f"},i.a.t("admin.mod-webauthn-fmt-fido-u2f-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-none",checked:this.state.mod.parameters.fmt.none,onChange:function(t){return e.toggleFmt(t,"none")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-none"},i.a.t("admin.mod-webauthn-fmt-none-label")))),this.state.errorList.fmt?n.a.createElement("span",{className:"error-input"},this.state.errorList.fmt):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-pubKey-cred-params"},i.a.t("admin.mod-webauthn-pubKey-cred-params")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha256-check",checked:-1<this.state.mod.parameters["pubKey-cred-params"].indexOf(-7),onChange:function(t){return e.togglePubkey(t,-7)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha256-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha256"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha384-check",checked:-1<this.state.mod.parameters["pubKey-cred-params"].indexOf(-35),onChange:function(t){return e.togglePubkey(t,-35)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha384-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha384"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha512-check",checked:-1<this.state.mod.parameters["pubKey-cred-params"].indexOf(-36),onChange:function(t){return e.togglePubkey(t,-36)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha512-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha512"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha256-check",checked:-1<this.state.mod.parameters["pubKey-cred-params"].indexOf(-257),onChange:function(t){return e.togglePubkey(t,-257)},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha256-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha256"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha384-check",checked:-1<this.state.mod.parameters["pubKey-cred-params"].indexOf(-258),onChange:function(t){return e.togglePubkey(t,-258)},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha384-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha384"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha512-check",checked:-1<this.state.mod.parameters["pubKey-cred-params"].indexOf(-259),onChange:function(t){return e.togglePubkey(t,-259)},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha512-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha512")))),this.state.errorList["pubKey-cred-params"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["pubKey-cred-params"]):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,i.a.t("admin.mod-webauthn-root-ca-list"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("a",{href:"https://developers.yubico.com/U2F/yubico-u2f-ca-certs.txt",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-root-ca-yubico-link"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"webauthn-root-ca-path-input"},i.a.t("admin.mod-webauthn-root-ca-path")),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",className:"form-control",id:"webauthn-root-ca-path-input",placeholder:i.a.t("admin.mod-webauthn-root-ca-path-ph"),onChange:this.handleChangeRootCaPath,value:this.state.rootCaPath}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addRootCaPath,title:i.a.t("modal.list-add-title")},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("div",{className:"btn-icon-right"},t)),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,i.a.t("admin.mod-webauthn-safetynet-integrity-params"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("a",{href:"https://developer.android.com/training/safetynet/attestation#potential-integrity-verdicts",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-safetynet-integrity-link"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-safetynet-integrity-ctsProfileMatch"},i.a.t("admin.mod-webauthn-safetynet-integrity-ctsProfileMatch")),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-webauthn-safetynet-integrity-ctsProfileMatch","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-webauthn-safetynet-integrity-"+this.state.mod.parameters.ctsProfileMatch)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-webauthn-safetynet-integrity-ctsProfileMatch"},n.a.createElement("a",{className:"dropdown-item"+(-1===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",-1)}},i.a.t("admin.mod-webauthn-safetynet-integrity--1")),n.a.createElement("a",{className:"dropdown-item"+(0===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",0)}},i.a.t("admin.mod-webauthn-safetynet-integrity-0")),n.a.createElement("a",{className:"dropdown-item"+(1===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",1)}},i.a.t("admin.mod-webauthn-safetynet-integrity-1"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-safetynet-integrity-basicIntegrity"},i.a.t("admin.mod-webauthn-safetynet-integrity-basicIntegrity")),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-webauthn-safetynet-integrity-basicIntegrity","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-webauthn-safetynet-integrity-"+this.state.mod.parameters.basicIntegrity)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-webauthn-safetynet-integrity-basicIntegrity"},n.a.createElement("a",{className:"dropdown-item"+(-1===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",-1)}},i.a.t("admin.mod-webauthn-safetynet-integrity--1")),n.a.createElement("a",{className:"dropdown-item"+(0===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",0)}},i.a.t("admin.mod-webauthn-safetynet-integrity-0")),n.a.createElement("a",{className:"dropdown-item"+(1===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",1)}},i.a.t("admin.mod-webauthn-safetynet-integrity-1"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-google-root-ca-r2"},i.a.t("admin.mod-webauthn-google-root-ca-r2")),n.a.createElement("a",{href:"https://pki.goog/",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-google-root-ca-r2-download-link"),n.a.createElement("i",{className:"fas fa-external-link-alt btn-icon-right"})),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-google-root-ca-r2",onChange:function(t){return e.changeParam(t,"google-root-ca-r2")},value:this.state.mod.parameters["google-root-ca-r2"],placeholder:i.a.t("admin.mod-webauthn-google-root-ca-r2-ph")})))}}])&&rt(e.prototype,t),o}();function lt(e){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e){return(pt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mt(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=pt(e);return r=this,!(n=t?(a=pt(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==lt(n)&&"function"!=typeof n?dt(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["secret-minimum-size"]||(e.mod.parameters["secret-minimum-size"]=16),e.mod.parameters.issuer||(e.mod.parameters.issuer=location.host),void 0===e.mod.parameters["otp-length"]&&(e.mod.parameters["otp-length"]=6),void 0===e.mod.parameters["hotp-allow"]&&(e.mod.parameters["hotp-allow"]=!0),void 0===e.mod.parameters["hotp-window"]&&(e.mod.parameters["hotp-window"]=0),void 0===e.mod.parameters["totp-allow"]&&(e.mod.parameters["totp-allow"]=!0),void 0===e.mod.parameters["totp-window"]&&(e.mod.parameters["totp-window"]=30),void 0===e.mod.parameters["totp-start-offset"]&&(e.mod.parameters["totp-start-offset"]=0),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},t.state.check&&t.checkParameters(),t.changeParam=t.changeParam.bind(dt(t)),t.toggleParam=t.toggleParam.bind(dt(t)),t.checkParameters=t.checkParameters.bind(dt(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),e.mod.parameters.issuer||(e.mod.parameters.issuer=location.host),void 0===e.mod.parameters["secret-minimum-size"]&&(e.mod.parameters["secret-minimum-size"]=16),void 0===e.mod.parameters["otp-length"]&&(e.mod.parameters["otp-length"]=6),void 0===e.mod.parameters["hotp-allow"]&&(e.mod.parameters["hotp-allow"]=!0),void 0===e.mod.parameters["hotp-window"]&&(e.mod.parameters["hotp-window"]=0),void 0===e.mod.parameters["totp-allow"]&&(e.mod.parameters["totp-allow"]=!0),void 0===e.mod.parameters["totp-window"]&&(e.mod.parameters["totp-window"]=30),void 0===e.mod.parameters["totp-start-offset"]&&(e.mod.parameters["totp-start-offset"]=0),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e){var t=this.state.mod;t.parameters[e]=!t.parameters[e],this.setState({mod:t})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.issuer||(t=!0,e.issuer=i.a.t("admin.mod-otp-issuer-error")),this.state.mod.parameters["secret-minimum-size"]||(t=!0,e["secret-minimum-size"]=i.a.t("admin.mod-otp-secret-minimum-size-error")),this.state.mod.parameters["otp-length"]||(t=!0,e["otp-length"]=i.a.t("admin.mod-otp-otp-length-error")),this.state.mod.parameters["hotp-allow"]&&""===this.state.mod.parameters["hotp-window"]&&(t=!0,e["hotp-window"]=i.a.t("admin.mod-otp-hotp-window-error")),this.state.mod.parameters["totp-allow"]&&""===this.state.mod.parameters["totp-window"]&&(t=!0,e["totp-window"]=i.a.t("admin.mod-otp-totp-window-error")),this.state.mod.parameters["totp-allow"]&&""===this.state.mod.parameters["totp-start-offset"]&&(t=!0,e["totp-start-offset"]=i.a.t("admin.mod-otp-totp-start-offset-error")),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-issuer"},i.a.t("admin.mod-otp-issuer"))),n.a.createElement("input",{type:"text",className:this.state.errorList.issuer?"form-control is-invalid":"form-control",id:"mod-otp-issuer",onChange:function(t){return e.changeParam(t,"issuer")},value:this.state.mod.parameters.issuer,placeholder:i.a.t("admin.mod-otp-issuer-ph")})),this.state.errorList.issuer?n.a.createElement("span",{className:"error-input"},this.state.errorList.issuer):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-secret-minimum-size"},i.a.t("admin.mod-otp-secret-minimum-size"))),n.a.createElement("input",{type:"number",min:"0",max:"128",step:"1",className:this.state.errorList["secret-minimum-size"]?"form-control is-invalid":"form-control",id:"mod-otp-secret-minimum-size",onChange:function(t){return e.changeParam(t,"secret-minimum-size",1)},value:this.state.mod.parameters["secret-minimum-size"],placeholder:i.a.t("admin.mod-otp-secret-minimum-size-ph")})),this.state.errorList["secret-minimum-size"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["secret-minimum-size"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-otp-length"},i.a.t("admin.mod-otp-otp-length"))),n.a.createElement("input",{type:"number",min:"6",max:"8",step:"1",className:this.state.errorList["otp-length"]?"form-control is-invalid":"form-control",id:"mod-otp-otp-length",onChange:function(t){return e.changeParam(t,"otp-length",1)},value:this.state.mod.parameters["otp-length"],placeholder:i.a.t("admin.mod-otp-otp-length-ph")})),this.state.errorList["otp-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["otp-length"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-otp-hotp-allow",onChange:function(){return e.toggleParam("hotp-allow")},checked:this.state.mod.parameters["hotp-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-otp-hotp-allow"},i.a.t("admin.mod-otp-hotp-allow"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-hotp-window"},i.a.t("admin.mod-otp-hotp-window"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["hotp-window"]?"form-control is-invalid":"form-control",id:"mod-otp-hotp-window",onChange:function(t){return e.changeParam(t,"hotp-window",1)},value:this.state.mod.parameters["hotp-window"],placeholder:i.a.t("admin.mod-otp-hotp-window-ph"),disabled:!this.state.mod.parameters["hotp-allow"]})),this.state.errorList["hotp-window"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["hotp-window"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-otp-totp-allow",onChange:function(){return e.toggleParam("totp-allow")},checked:this.state.mod.parameters["totp-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-otp-totp-allow"},i.a.t("admin.mod-otp-totp-allow"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-totp-window"},i.a.t("admin.mod-otp-totp-window"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["totp-window"]?"form-control is-invalid":"form-control",id:"mod-otp-totp-window",onChange:function(t){return e.changeParam(t,"totp-window",1)},value:this.state.mod.parameters["totp-window"],placeholder:i.a.t("admin.mod-otp-totp-window-ph"),disabled:!this.state.mod.parameters["totp-allow"]})),this.state.errorList["totp-window"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["totp-window"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-totp-start-offset"},i.a.t("admin.mod-otp-totp-start-offset"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["totp-start-offset"]?"form-control is-invalid":"form-control",id:"mod-otp-totp-start-offset",onChange:function(t){return e.changeParam(t,"totp-offset",1)},value:this.state.mod.parameters["totp-offset"],placeholder:i.a.t("admin.mod-otp-totp-start-offset-ph"),disabled:!this.state.mod.parameters["totp-allow"]})),this.state.errorList["totp-start-offset"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["totp-start-offset"]):""))}}])&&ct(e.prototype,t),o}();function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gt(e,t){return(gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gt(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=bt(e);return r=this,!(n=t?(a=bt(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ht(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||(e.mod={parameters:{}}),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},t.state.check&&t.checkParameters(),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"checkParameters",value:function(){this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){return n.a.createElement("div",null)}}])&&ft(e.prototype,t),o}();function vt(e){return(vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ct=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=kt(e);return r=this,!(n=t?(a=kt(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==vt(n)&&"function"!=typeof n?Nt(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),void 0===e.mod&&(e.mod={}),void 0===e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["cert-source"]&&(e.mod.parameters["cert-source"]="TLS"),void 0===e.mod.parameters["header-name"]&&(e.mod.parameters["header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["use-scheme-storage"]&&(e.mod.parameters["use-scheme-storage"]=!0),void 0===e.mod.parameters["user-certificate-property"]&&(e.mod.parameters["user-certificate-property"]=""),void 0===e.mod.parameters["user-certificate-format"]&&(e.mod.parameters["user-certificate-format"]="PEM"),void 0===e.mod.parameters["ca-chain"]&&(e.mod.parameters["ca-chain"]=[]),t.state={mod:e.mod,role:e.role,check:e.check,certFile:!1,fileName:!1,requestCertFile:{},requestCertFileName:{},useCAChain:e.mod.parameters["ca-chain"].length,hasError:!1,errorList:{}},t.state.check&&t.checkParameters(),t.setCertSource=t.setCertSource.bind(Nt(t)),t.setBooleanValue=t.setBooleanValue.bind(Nt(t)),t.setTextValue=t.setTextValue.bind(Nt(t)),t.checkParameters=t.checkParameters.bind(Nt(t)),t.setUseCaChain=t.setUseCaChain.bind(Nt(t)),t.setValue=t.setValue.bind(Nt(t)),t.selectCertFile=t.selectCertFile.bind(Nt(t)),t.addCertificateFile=t.addCertificateFile.bind(Nt(t)),t.deleteCertificateFile=t.deleteCertificateFile.bind(Nt(t)),t.setRequestCertificate=t.setRequestCertificate.bind(Nt(t)),t.addRequestCertificateFile=t.addRequestCertificateFile.bind(Nt(t)),t.selectRequestCertificateFile=t.selectRequestCertificateFile.bind(Nt(t)),t.setRequestCertificateExpiration=t.setRequestCertificateExpiration.bind(Nt(t)),t.setDnFormatValue=t.setDnFormatValue.bind(Nt(t)),t.setRequestCertificateAllowMultiple=t.setRequestCertificateAllowMultiple.bind(Nt(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;void 0===e.mod&&(e.mod={}),void 0===e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["cert-source"]&&(e.mod.parameters["cert-source"]="TLS"),void 0===e.mod.parameters["header-name"]&&(e.mod.parameters["header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["use-scheme-storage"]&&(e.mod.parameters["use-scheme-storage"]=!0),void 0===e.mod.parameters["user-certificate-property"]&&(e.mod.parameters["user-certificate-property"]=""),void 0===e.mod.parameters["user-certificate-format"]&&(e.mod.parameters["user-certificate-format"]="PEM"),void 0===e.mod.parameters["ca-chain"]&&(e.mod.parameters["ca-chain"]=[]),this.setState({mod:e.mod,role:e.role,check:e.check,certFile:!1,fileName:!1,useCAChain:e.mod.parameters["ca-chain"].length},(function(){t.state.check&&t.checkParameters()}))}},{key:"setCertSource",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["cert-source"]=t,this.setState({mod:a})}},{key:"setUseCaChain",value:function(e){var t=this.state.mod;e||(t.parameters["ca-chain"]=[]),this.setState({useCAChain:e,mod:t})}},{key:"selectCertFile",value:function(e){var t=this,a=(this.state.profile,e.target.files[0]),r=new FileReader;r.onload=function(e){t.setState({certFile:e.target.result,fileName:a.name})},r.readAsText(a)}},{key:"addCertificateFile",value:function(){var e;this.state.certFile&&((e=this.state.mod).parameters["ca-chain"].push({"file-name":this.state.fileName,"cert-file":this.state.certFile}),this.setState({mod:e,certFile:!1,fileName:!1}))}},{key:"selectRequestCertificateFile",value:function(e,t){var a=this,r=(this.state.profile,e.target.files[0]),n=new FileReader;n.onload=function(e){var n=a.state.requestCertFileName,o=a.state.requestCertFile;o[t]=e.target.result,n[t]=r.name,a.setState({requestCertFile:o,requestCertFileName:n})},n.readAsText(r)}},{key:"addRequestCertificateFile",value:function(e){var t,a,r;this.state.requestCertFile[e]&&(t=this.state.mod,a=this.state.requestCertFileName,r=this.state.requestCertFile,t.parameters["request-certificate"][e]={"file-name":a[e],"cert-file":r[e]},delete a[e],delete r[e],this.setState({mod:t,requestCertFileName:a,requestCertFile:r}))}},{key:"deleteCertificateFile",value:function(e,t){var a=this.state.mod;a.parameters["ca-chain"].splice(t,1),this.setState({mod:a})}},{key:"setBooleanValue",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"setTextValue",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"setValue",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"setRequestCertificate",value:function(e,t){e.preventDefault();var a=this.state.mod;t?a.parameters["request-certificate"]={"issuer-cert":{"file-name":"","cert-file":""},"issuer-key":{"file-name":"","cert-file":""},expiration:31536e3,"dn-format":"cn={username},ou=users,o=glewlwyd","allow-multiple":!1}:delete a.parameters["request-certificate"],this.setState({mod:a})}},{key:"setRequestCertificateExpiration",value:function(e){e.preventDefault();var t=this.state.mod;t.parameters["request-certificate"].expiration=parseInt(e.target.value),this.setState({mod:t})}},{key:"setDnFormatValue",value:function(e){e.preventDefault();var t=this.state.mod;t.parameters["request-certificate"]["dn-format"]=e.target.value,this.setState({mod:t})}},{key:"setRequestCertificateAllowMultiple",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["request-certificate"]["allow-multiple"]=t,this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["use-scheme-storage"]||""===this.state.mod.parameters["user-certificate-property"]&&(t=!0,e["user-certificate-property"]=i.a.t("admin.mod-certificate-user-certificate-property-error")),this.state.mod.parameters["header-name"]||""===this.state.mod.parameters["header-name"]&&(t=!0,e["header-name"]=i.a.t("admin.mod-certificate-header-name-error")),this.state.mod.parameters["request-certificate"]&&(""===this.state.mod.parameters["request-certificate"]["dn-format"]&&(t=!0,e["request-certificate-dn"]=i.a.t("admin.mod-certificate-request-certificate-dn-error")),this.state.mod.parameters["request-certificate"].expiration||(t=!0,e["request-certificate-expiration"]=i.a.t("admin.mod-certificate-request-certificate-expiration-error")),""!==this.state.mod.parameters["request-certificate"]["issuer-key"]["cert-file"]&&""!==this.state.mod.parameters["request-certificate"]["issuer-key"]["file-name"]||(t=!0,e["request-certificate-issuer-key"]=i.a.t("admin.mod-certificate-request-certificate-issuer-key-error")),""!==this.state.mod.parameters["request-certificate"]["issuer-cert"]["cert-file"]&&""!==this.state.mod.parameters["request-certificate"]["issuer-cert"]["file-name"]||(t=!0,e["request-certificate-issuer-cert"]=i.a.t("admin.mod-certificate-request-certificate-issuer-cert-error"))),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=[];return this.state.useCAChain&&(this.state.mod.parameters["ca-chain"].forEach((function(e,t){r.push(n.a.createElement("div",{className:"alert alert-primary",key:t},e["file-name"].substring(0,40),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("admin.mod-certificate-user-certificate-ca-chain-delete"),onClick:function(e){return a.deleteCertificateFile(e,t)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))))})),e=n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"addCertificateFromFile",title:i.a.t("admin.mod-certificate-user-certificate-ca-chain-add-from-file"),onClick:this.addCertificateFile},i.a.t("upload"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{disabled:!this.state.useCAChain,type:"file",className:"custom-file-input",id:"addCertificateFromFileInput","aria-describedby":"addCertificateFromFile",onChange:function(e){return a.selectCertFile(e)}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"addCertificateFromFile"},this.state.fileName||i.a.t("browse"))))),this.state.mod.parameters["request-certificate"]&&(t=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"alert alert-primary"},i.a.t("admin.mod-certificate-request-certificate-select-issuer-cert",{file:this.state.mod.parameters["request-certificate"]["issuer-cert"]["file-name"].substring(0,40)})),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"addRequestCertificateCertFromFile",title:i.a.t("admin.mod-certificate-request-certificate-add-from-file"),onClick:function(){return a.addRequestCertificateFile("issuer-cert")}},i.a.t("upload"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:"custom-file-input",id:"addRequestCertificateCertFromFileInput","aria-describedby":"addRequestCertificateCertFromFile",onChange:function(e){return a.selectRequestCertificateFile(e,"issuer-cert")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"addRequestCertificateCertFromFile"},this.state.requestCertFileName["issuer-cert"]||i.a.t("browse")))),this.state.errorList["request-certificate-issuer-cert"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["request-certificate-issuer-cert"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"alert alert-primary"},i.a.t("admin.mod-certificate-request-certificate-select-issuer-key",{file:this.state.mod.parameters["request-certificate"]["issuer-key"]["file-name"].substring(0,40)})),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"addRequestCertificateKeyFromFile",title:i.a.t("admin.mod-certificate-request-certificate-add-from-file"),onClick:function(){return a.addRequestCertificateFile("issuer-key")}},i.a.t("upload"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:"custom-file-input",id:"addRequestCertificateKeyFromFileInput","aria-describedby":"addRequestCertificateKeyFromFile",onChange:function(e){return a.selectRequestCertificateFile(e,"issuer-key")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"addRequestCertificateKeyFromFile"},this.state.requestCertFileName["issuer-key"]||i.a.t("browse")))),this.state.errorList["request-certificate-issuer-key"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["request-certificate-issuer-key"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-request-certificate-expiration"},i.a.t("admin.mod-certificate-request-certificate-expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["request-certificate-expiration"]?"form-control is-invalid":"form-control",id:"mod-certificate-header-name",placeholder:i.a.t("admin.mod-certificate-request-certificate-expiration-ph"),value:this.state.mod.parameters["request-certificate"].expiration,onChange:function(e){return a.setRequestCertificateExpiration(e)}})),this.state.errorList["request-certificate-expiration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["request-certificate-expiration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-request-certificate-dn"},i.a.t("admin.mod-certificate-request-certificate-dn"))),n.a.createElement("input",{type:"text",className:this.state.errorList["request-certificate-dn"]?"form-control is-invalid":"form-control",id:"mod-certificate-request-certificate-dn",placeholder:i.a.t("admin.mod-certificate-request-certificate-dn-ph"),value:this.state.mod.parameters["request-certificate"]["dn-format"],onChange:function(e){return a.setDnFormatValue(e)}})),this.state.errorList["request-certificate-dn"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["request-certificate-dn"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-request-certificate-allow-multiple"},i.a.t("admin.mod-certificate-request-certificate-allow-multiple"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-request-certificate-allow-multiple","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.mod.parameters["request-certificate"]["allow-multiple"]?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-request-certificate-allow-multiple"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["request-certificate"]["allow-multiple"]?" active":""),href:"#",onClick:function(e){return a.setRequestCertificateAllowMultiple(e,!0)}},i.a.t("admin.mod-certificate-value-yes")),n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["request-certificate"]["allow-multiple"]?"":" active"),href:"#",onClick:function(e){return a.setRequestCertificateAllowMultiple(e,!1)}},i.a.t("admin.mod-certificate-value-no")))))))),n.a.createElement("div",null,n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-cert-source"},i.a.t("admin.mod-certificate-cert-source"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-cert-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-cert-source-"+this.state.mod.parameters["cert-source"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-cert-source"},n.a.createElement("a",{className:"dropdown-item"+("TLS"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return a.setCertSource(e,"TLS")}},i.a.t("admin.mod-certificate-cert-source-TLS")),n.a.createElement("a",{className:"dropdown-item"+("header"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return a.setCertSource(e,"header")}},i.a.t("admin.mod-certificate-cert-source-header")),n.a.createElement("a",{className:"dropdown-item"+("both"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return a.setCertSource(e,"both")}},i.a.t("admin.mod-certificate-cert-source-both")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-header-name"},i.a.t("admin.mod-certificate-header-name"))),n.a.createElement("input",{type:"text",disabled:"TLS"===this.state.mod.parameters["cert-source"],className:this.state.errorList["header-name"]?"form-control is-invalid":"form-control",id:"mod-certificate-header-name",placeholder:i.a.t("admin.mod-certificate-header-name-ph"),value:this.state.mod.parameters["header-name"],onChange:function(e){return a.setTextValue(e,"header-name")}})),this.state.errorList["header-name"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["header-name"]):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-use-scheme-storage"},i.a.t("admin.mod-certificate-use-scheme-storage"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-use-scheme-storage","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.mod.parameters["use-scheme-storage"]?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-use-scheme-storage"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["use-scheme-storage"]?" active":""),href:"#",onClick:function(e){return a.setBooleanValue(e,"use-scheme-storage",!0)}},i.a.t("admin.mod-certificate-value-yes")),n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["use-scheme-storage"]?"":" active"),href:"#",onClick:function(e){return a.setBooleanValue(e,"use-scheme-storage",!1)}},i.a.t("admin.mod-certificate-value-no")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-certificate-property"},i.a.t("admin.mod-certificate-user-certificate-property"))),n.a.createElement("input",{type:"text",disabled:this.state.mod.parameters["use-scheme-storage"],className:this.state.errorList["user-certificate-property"]?"form-control is-invalid":"form-control",id:"mod-certificate-user-certificate-property",placeholder:i.a.t("admin.mod-certificate-user-certificate-property-ph"),maxLength:"256",value:this.state.mod.parameters["user-certificate-property"],onChange:function(e){return a.setTextValue(e,"user-certificate-property")}})),this.state.errorList["user-certificate-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["user-certificate-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-certificate-format"},i.a.t("admin.mod-certificate-user-certificate-format"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{disabled:this.state.mod.parameters["use-scheme-storage"],className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-user-certificate-format","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-user-certificate-format-"+this.state.mod.parameters["user-certificate-format"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-user-certificate-format"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["user-certificate-format"]?" active":""),href:"#",onClick:function(e){return a.setValue(e,"user-certificate-format","PEM")}},i.a.t("admin.mod-certificate-user-certificate-format-PEM")),n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["user-certificate-format"]?"":" active"),href:"#",onClick:function(e){return a.setValue(e,"user-certificate-format","DER")}},i.a.t("admin.mod-certificate-user-certificate-format-DER")))))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-request-certificate-enabled"},i.a.t("admin.mod-certificate-request-certificate-enabled"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-request-certificate-enabled","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(void 0!==this.state.mod.parameters["request-certificate"]?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-request-certificate-enabled"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["request-certificate"]?" active":""),href:"#",onClick:function(e){return a.setRequestCertificate(e,!0)}},i.a.t("admin.mod-certificate-value-yes")),n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["request-certificate"]?"":" active"),href:"#",onClick:function(e){return a.setRequestCertificate(e,!1)}},i.a.t("admin.mod-certificate-value-no")))))),t,n.a.createElement("hr",null),n.a.createElement("div",{className:"accordion",id:"accordionParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"CAChainCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseCAChain","aria-expanded":"true","aria-controls":"collapseCAChain"},i.a.t("admin.mod-certificate-user-certificate-ca-chain")))),n.a.createElement("div",{id:"collapseCAChain",className:"collapse","aria-labelledby":"CAChainCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-certificate-user-certificate-ca-chain-message")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-use-ca-chain"},i.a.t("admin.mod-certificate-use-ca-chain"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-use-ca-chain","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.useCAChain?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-use-ca-chain"},n.a.createElement("a",{className:"dropdown-item"+(this.state.useCAChain?" active":""),href:"#",onClick:function(){return a.setUseCaChain(!0)}},i.a.t("admin.mod-certificate-value-yes")),n.a.createElement("a",{className:"dropdown-item"+(this.state.useCAChain?"":" active"),href:"#",onClick:function(){return a.setUseCaChain(!1)}},i.a.t("admin.mod-certificate-value-no")))))),r,e)))))}}])&&Et(e.prototype,t),o}();function St(e){return(St="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xt(e,t){return(xt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xt(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=_t(e);return r=this,!(n=t?(a=_t(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==St(n)&&"function"!=typeof n?Mt(r):n}}(o);function o(e){var t,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||((r=window.location.href.split("?")[0].split("/"))[r.length-1]=e.config.CallbackPage||"callback.html",e.mod={parameters:{redirect_uri:r.join("/"),session_expiration:600,provider_list:[]}}),void 0===e.mod.parameters.redirect_uri&&((r=window.location.href.split("?")[0].split("/"))[r.length-1]=e.config.CallbackPage||"callback.html",e.mod.parameters.redirect_uri=r.join("/")),void 0===e.mod.parameters.session_expiration&&(e.mod.parameters.session_expiration=600),void 0===e.mod.parameters.provider_list&&(e.mod.parameters.provider_list=[]),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},curMainstream:-1},t.state.check&&t.checkParameters(),t.checkParameters=t.checkParameters.bind(Mt(t)),t.addProvider=t.addProvider.bind(Mt(t)),t.changeMainstreamProvider=t.changeMainstreamProvider.bind(Mt(t)),t.deleteProvider=t.deleteProvider.bind(Mt(t)),t.changeProviderParam=t.changeProviderParam.bind(Mt(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t,a=this;e.mod||((t=window.location.href.split("?")[0].split("/"))[t.length-1]=e.config.CallbackPage||"callback.html",e.mod={parameters:{redirect_uri:t.join("/"),session_expiration:600,provider_list:[]}}),void 0===e.mod.parameters.redirect_uri&&((t=window.location.href.split("?")[0].split("/"))[t.length-1]=e.config.CallbackPage||"callback.html",e.mod.parameters.redirect_uri=t.join("/")),void 0===e.mod.parameters.session_expiration&&(e.mod.parameters.session_expiration=600),void 0===e.mod.parameters.provider_list&&(e.mod.parameters.provider_list=[]),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},(function(){a.state.check&&a.checkParameters()}))}},{key:"changeMainstreamProvider",value:function(e,t){e.preventDefault(),this.setState({curMainstream:t})}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value)||0:e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e){var t=this.state.mod;t.parameters[e]=!t.parameters[e],this.setState({mod:t})}},{key:"addProvider",value:function(){var e,t=this.state.mod,a={name:"",logo_uri:"",logo_fa:"",client_id:"",client_secret:"",provider_type:"oauth2",response_type:"code",userinfo_endpoint:"",config_endpoint:"",auth_endpoint:"",token_endpoint:"",userid_property:"",scope:"",additional_parameters:[],enabled:!0};-1===this.state.curMainstream?t.parameters.provider_list.push(a):(delete(e=this.state.config.providerMainstreamList[this.state.curMainstream]).help_url,t.parameters.provider_list.push(Object.assign(a,e))),this.setState({mod:t})}},{key:"deleteProvider",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.provider_list.splice(t,1),this.setState({mod:a})}},{key:"changeProviderParam",value:function(e,t,a){var r=this.state.mod;r.parameters.provider_list[t][a]=e.target.value,this.setState({mod:r})}},{key:"changeProviderType",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].provider_type=a,r.parameters.provider_list[t].scope="openid",this.setState({mod:r})}},{key:"changeResponseType",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].response_type=a,this.setState({mod:r})}},{key:"addAddParam",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.provider_list[t].additional_parameters.push({key:"",value:""}),this.setState({mod:a})}},{key:"changeAddParamKey",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters[a].key=e.target.value,this.setState({mod:r})}},{key:"changeAddParamValue",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters[a].value=e.target.value,this.setState({mod:r})}},{key:"removeAdditionalParameter",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters.splice(a,1),this.setState({mod:r})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.redirect_uri||(t=!0,e.redirect_uri=i.a.t("admin.mod-oauth2-redirect_uri-error")),this.state.mod.parameters.session_expiration||(t=!0,e.session_expiration=i.a.t("admin.mod-oauth2-session_expiration-error")),this.state.mod.parameters.provider_list.forEach((function(a,r){a.additional_parameters.forEach((function(a,n){a.key||(t=!0,e["provider-"+r+"-"+n+"-key"]=i.a.t("admin.mod-oauth2-additional_parameters-key-error"),e["provider_list-"+r]=!0),a.value||(t=!0,e["provider-"+r+"-"+n+"-value"]=i.a.t("admin.mod-oauth2-additional_parameters-value-error"),e["provider_list-"+r]=!0)})),a.name||(t=!0,e["provider-"+r+"-name"]=i.a.t("admin.mod-oauth2-name-error"),e["provider_list-"+r]=!0),a.client_id||(t=!0,e["provider-"+r+"-client_id"]=i.a.t("admin.mod-oauth2-client_id-error"),e["provider_list-"+r]=!0),a.config_endpoint||a.userid_property||(t=!0,e["provider-"+r+"-userid_property"]=i.a.t("admin.mod-oauth2-userid_property-error"),e["provider_list-"+r]=!0),a.auth_endpoint||a.config_endpoint||(t=!0,e["provider-"+r+"-auth_endpoint"]=i.a.t("admin.mod-oauth2-auth_endpoint-error"),e["provider_list-"+r]=!0),a.token_endpoint||a.config_endpoint||"code"!==a.response_type||(t=!0,e["provider-"+r+"-token_endpoint"]=i.a.t("admin.mod-oauth2-token_endpoint-error"),e["provider_list-"+r]=!0),a.userinfo_endpoint||a.config_endpoint||(t=!0,e["provider-"+r+"-userinfo_endpoint"]=i.a.t("admin.mod-oauth2-userinfo_endpoint-error"),e["provider_list-"+r]=!0)})),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this,a=[],r=[n.a.createElement("a",{key:-1,className:"dropdown-item"+(-1===this.state.curMainstream?" active":""),href:"#",onClick:function(e){return t.changeMainstreamProvider(e,-1)}},i.a.t("admin.mod-oauth2-mainstream_provider-none"))];return this.state.mod.parameters.provider_list.forEach((function(e,r){var o=[];e.additional_parameters.forEach((function(e,a){o.push(n.a.createElement("div",{key:a,className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-additional_parameters-"+a+"-key"]?"form-control is-invalid":"form-control",id:"mod-oauth2-add-param-key-"+r+"-"+a,onChange:function(e){return t.changeAddParamKey(e,r,a)},value:e.key||"",placeholder:i.a.t("admin.mod-oauth2-add-param-key-ph")}),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-additional_parameters-"+a+"-value"]?"form-control is-invalid":"form-control",id:"mod-oauth2-add-param-value-"+r+"-"+a,onChange:function(e){return t.changeAddParamValue(e,r,a)},value:e.value||"",placeholder:i.a.t("admin.mod-oauth2-add-param-value-ph")}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(e){return t.removeAdditionalParameter(e,r,a)}},n.a.createElement("i",{className:"fas fa-trash"}))),t.state.errorList["provider-"+r+"-"+a+"-key"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-"+a+"-key"]):"",t.state.errorList["provider-"+r+"-"+a+"-value"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-"+a+"-value"]):""))})),a.push(n.a.createElement("div",{key:r,className:"accordion",id:"accordionParams"+r},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"providerListCard"+r},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseProviderList"+r,"aria-expanded":"true","aria-controls":"collapseProviderList"+r},t.state.errorList["provider_list-"+r]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",n.a.createElement("i",{className:"fas fa-chevron-circle-down"}),n.a.createElement("span",{className:"btn-icon-right"},e.name||i.a.t("admin.mod-oauth2-new"))),n.a.createElement("button",{className:"btn btn-secondary btn-sm float-right",onClick:function(e){return t.deleteProvider(e,r)}},n.a.createElement("i",{className:"fas fa-trash"})))),n.a.createElement("div",{id:"collapseProviderList"+r,className:"collapse show","aria-labelledby":"providerListCard"+r,"data-parent":"#accordionParams"+r},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-provider_type"},i.a.t("admin.mod-oauth2-provider_type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-provider_type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-oauth2-provider_type-"+e.provider_type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("oauth2"===e.provider_type?" active":""),href:"#",onClick:function(e){return t.changeProviderType(e,r,"oauth2")}},i.a.t("admin.mod-oauth2-provider_type-oauth2")),n.a.createElement("a",{className:"dropdown-item"+("oidc"===e.provider_type?" active":""),href:"#",onClick:function(e){return t.changeProviderType(e,r,"oidc")}},i.a.t("admin.mod-oauth2-provider_type-oidc")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-name"},i.a.t("admin.mod-oauth2-name"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-name"]?"form-control is-invalid":"form-control",id:"mod-oauth2-name",onChange:function(e){return t.changeProviderParam(e,r,"name",0)},value:e.name,placeholder:i.a.t("admin.mod-oauth2-name-ph")})),t.state.errorList["provider-"+r+"-name"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-name"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-oauth2-enabled",onChange:function(e){return t.toggleParam(e,r,"enabled")},checked:e.enabled}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-oauth2-enabled"},i.a.t("admin.mod-oauth2-enabled"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-logo_uri"},i.a.t("admin.mod-oauth2-logo_uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-logo_uri",onChange:function(e){return t.changeProviderParam(e,r,"logo_uri",0)},value:e.logo_uri,placeholder:i.a.t("admin.mod-oauth2-logo_uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-logo_fa"},i.a.t("admin.mod-oauth2-logo_fa"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-logo_fa",onChange:function(e){return t.changeProviderParam(e,r,"logo_fa",0)},value:e.logo_fa,placeholder:i.a.t("admin.mod-oauth2-logo_fa-ph")})),t.state.errorList["provider-"+r+"-logo_fa"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-logo_fa"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-client_id"},i.a.t("admin.mod-oauth2-client_id"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-client_id"]?"form-control is-invalid":"form-control",id:"mod-oauth2-client_id",onChange:function(e){return t.changeProviderParam(e,r,"client_id",0)},value:e.client_id,placeholder:i.a.t("admin.mod-oauth2-client_id-ph")})),t.state.errorList["provider-"+r+"-client_id"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-client_id"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-client_secret"},i.a.t("admin.mod-oauth2-client_secret"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-client_secret",onChange:function(e){return t.changeProviderParam(e,r,"client_secret",0)},value:e.client_secret,placeholder:i.a.t("admin.mod-oauth2-client_secret-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-scope"},i.a.t("admin.mod-oauth2-scope"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-scope",onChange:function(e){return t.changeProviderParam(e,r,"scope",0)},value:e.scope,placeholder:i.a.t("admin.mod-oauth2-scope-ph"),disabled:"oidc"===e.provider_type}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-response_type"},i.a.t("admin.mod-oauth2-response_type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-response_type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-oauth2-response_type-"+e.response_type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("code"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"code")}},i.a.t("admin.mod-oauth2-response_type-code")),"oauth2"===e.provider_type?n.a.createElement("a",{className:"dropdown-item"+("token"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"token")}},i.a.t("admin.mod-oauth2-response_type-token")):"","oidc"===e.provider_type?n.a.createElement("a",{className:"dropdown-item"+("id_token"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"id_token")}},i.a.t("admin.mod-oauth2-response_type-id_token")):"")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-userid_property"},i.a.t("admin.mod-oauth2-userid_property"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-userid_property"]?"form-control is-invalid":"form-control",id:"mod-oauth2-userid_property",onChange:function(e){return t.changeProviderParam(e,r,"userid_property",0)},value:e.userid_property,placeholder:i.a.t("admin.mod-oauth2-userid_property-ph"),disabled:"oidc"===e.provider_type})),t.state.errorList["provider-"+r+"-userid_property"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-userid_property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-config_endpoint"},i.a.t("admin.mod-oauth2-config_endpoint"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-config_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"config_endpoint",0)},value:e.config_endpoint,placeholder:i.a.t("admin.mod-oauth2-config_endpoint-ph"),disabled:"oauth2"===e.provider_type}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-auth_endpoint"},i.a.t("admin.mod-oauth2-auth_endpoint"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-auth_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-auth_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"auth_endpoint",0)},value:e.auth_endpoint,placeholder:i.a.t("admin.mod-oauth2-auth_endpoint-ph")})),t.state.errorList["provider-"+r+"-auth_endpoint"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-auth_endpoint"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-token_endpoint"},i.a.t("admin.mod-oauth2-token_endpoint"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-token_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-token_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"token_endpoint",0)},value:e.token_endpoint,placeholder:i.a.t("admin.mod-oauth2-token_endpoint-ph")})),t.state.errorList["provider-"+r+"-token_endpoint"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-token_endpoint"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-userinfo_endpoint"},i.a.t("admin.mod-oauth2-userinfo_endpoint"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-userinfo_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-userinfo_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"userinfo_endpoint",0)},value:e.userinfo_endpoint,placeholder:i.a.t("admin.mod-oauth2-userinfo_endpoint-ph")})),t.state.errorList["provider-"+r+"-userinfo_endpoint"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-userinfo_endpoint"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text"},i.a.t("admin.mod-oauth2-additional_parameters"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.addAddParam(e,r)},title:i.a.t("admin.mod-oauth2-additional_parameters-add")},n.a.createElement("i",{className:"fas fa-plus"})),o)))))))})),this.state.config.providerMainstreamList&&this.state.config.providerMainstreamList.forEach((function(a,o){o===t.state.curMainstream&&a.help_url&&(e=n.a.createElement("a",{href:a.help_url,alt:a.name,className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-oauth2-help_url"))),r.push(n.a.createElement("a",{key:o,className:"dropdown-item"+(t.state.curMainstream===o?" active":""),href:"#",onClick:function(e){return t.changeMainstreamProvider(e,o)}},a.name))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-redirect_uri"},i.a.t("admin.mod-oauth2-redirect_uri"))),n.a.createElement("input",{type:"text",className:this.state.errorList.redirect_uri?"form-control is-invalid":"form-control",id:"mod-oauth2-redirect_uri",onChange:function(e){return t.changeParam(e,"redirect_uri",0)},value:this.state.mod.parameters.redirect_uri,placeholder:i.a.t("admin.mod-oauth2-redirect_uri-ph")})),this.state.errorList.redirect_uri?n.a.createElement("span",{className:"error-input"},this.state.errorList.redirect_uri):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-session_expiration"},i.a.t("admin.mod-oauth2-session_expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList.session_expiration?"form-control is-invalid":"form-control",id:"mod-oauth2-session_expiration",onChange:function(e){return t.changeParam(e,"session_expiration",1)},value:this.state.mod.parameters.session_expiration,placeholder:i.a.t("admin.mod-oauth2-session_expiration-ph")})),this.state.errorList.session_expiration?n.a.createElement("span",{className:"error-input"},this.state.errorList.session_expiration):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("p",null,i.a.t("admin.mod-oauth2-provider_list-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-mainstream_provider","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},-1===this.state.curMainstream?i.a.t("admin.mod-oauth2-mainstream_provider-none"):this.state.config.providerMainstreamList[this.state.curMainstream].name),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},r)),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addProvider,title:i.a.t("admin.mod-oauth2-provider_list-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",null,e)),a)}}])&&Pt(e.prototype,t),o}();function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ft(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){return(Rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Rt(e);return r=this,!(n=t?(a=Rt(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==jt(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,mod:e.mod,role:e.role,check:e.check},t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check})}},{key:"render",value:function(){return"mock"===this.state.mod.module?n.a.createElement(je,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"database"===this.state.mod.module?n.a.createElement(Ae,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"ldap"===this.state.mod.module?n.a.createElement($e,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"http"===this.state.mod.module?n.a.createElement(Xe,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"email"===this.state.mod.module?n.a.createElement(tt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"webauthn"===this.state.mod.module?n.a.createElement(it,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"otp"===this.state.mod.module?n.a.createElement(ut,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"retype-password"===this.state.mod.module?n.a.createElement(yt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"certificate"===this.state.mod.module?n.a.createElement(Ct,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oauth2"===this.state.mod.module?n.a.createElement(Lt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):""}}])&&Ft(e.prototype,t),o}();function qt(e){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function It(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Ut(e);return r=this,!(n=t?(a=Ut(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==qt(n)&&"function"!=typeof n?It(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||(e.mod={}),e.mod.expiration||(e.mod.expiration=600),e.mod.max_use||(e.mod.max_use=0),void 0===e.mod.allow_user_register&&(e.mod.allow_user_register=!0),"client"===e.role&&(void 0===e.mod.parameters["data-format"]&&(e.mod.parameters["data-format"]={}),void 0===e.mod.parameters["data-format"].redirect_uri&&(e.mod.parameters["data-format"].redirect_uri={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].authorization_type&&(e.mod.parameters["data-format"].authorization_type={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].sector_identifier_uri&&(e.mod.parameters["data-format"].sector_identifier_uri={multiple:!1,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].client_secret&&(e.mod.parameters["data-format"].client_secret={multiple:!1,read:!0,write:!0})),t.state={config:e.config,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,check:!1,hasError:!1},d.a.subscribe("ModEdit",(function(e){"modValid"===e.type?t.setState({check:!1},(function(){t.state.add?t.state.mod.name?t.state.mod.module?m.a.glewlwydRequest("/mod/"+t.state.role+"/"+encodeURIComponent(t.state.mod.name),"GET").then((function(){t.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-exist"),typeInvalidMessage:!1,hasError:!0})})).fail((function(e){404===e.status&&t.state.callback(!0,t.state.mod)})):t.setState({nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:i.a.t("admin.error-mod-type-mandatory"),hasError:!0}):t.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-mandatory"),typeInvalidMessage:!1,hasError:!0}):t.state.callback(!0,t.state.mod)})):"modInvalid"===e.type&&t.setState({check:!1,hasError:!0})})),t.closeModal=t.closeModal.bind(It(t)),t.changeName=t.changeName.bind(It(t)),t.changeDisplayName=t.changeDisplayName.bind(It(t)),t.changeType=t.changeType.bind(It(t)),t.toggleReadonly=t.toggleReadonly.bind(It(t)),t.toggleAllowUserRegister=t.toggleAllowUserRegister.bind(It(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){e.mod||(e.mod={}),e.mod.expiration||(e.mod.expiration=600),e.mod.max_use||(e.mod.max_use=0),void 0===e.mod.allow_user_register&&(e.mod.allow_user_register=!0),"client"===e.role&&(void 0===e.mod.parameters["data-format"]&&(e.mod.parameters["data-format"]={}),void 0===e.mod.parameters["data-format"].redirect_uri&&(e.mod.parameters["data-format"].redirect_uri={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].authorization_type&&(e.mod.parameters["data-format"].authorization_type={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].sector_identifier_uri&&(e.mod.parameters["data-format"].sector_identifier_uri={multiple:!1,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].client_secret&&(e.mod.parameters["data-format"].client_secret={multiple:!1,read:!0,write:!0})),this.setState({config:e.config,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1})}},{key:"closeModal",value:function(e,t){this.state.callback&&(t?this.setState({check:!0}):this.state.callback(t))}},{key:"changeName",value:function(e){var t=this.state.mod;t.name=e.target.value,this.setState({mod:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.mod;t.display_name=e.target.value,this.setState({mod:t})}},{key:"changeType",value:function(e,t){var a=this.state.mod;a.module=t,this.setState({mod:a})}},{key:"changeExpiration",value:function(e){var t=this.state.mod;t.expiration=parseInt(e.target.value),this.setState({mod:t})}},{key:"changeMaxUse",value:function(e){var t=this.state.mod;t.max_use=parseInt(e.target.value),this.setState({mod:t})}},{key:"toggleReadonly",value:function(){var e=this.state.mod;e.readonly=!e.readonly,this.setState({mod:e})}},{key:"toggleAllowUserRegister",value:function(){var e=this.state.mod;e.allow_user_register=!e.allow_user_register,this.setState({mod:e})}},{key:"render",value:function(){var e,t,a,r=this,o=[];this.state.add?(t=i.a.t("admin.mod-type-select"),this.state.modTypes.forEach((function(e,a){r.state.mod.module===e.name?(t=e.display_name,o.push(n.a.createElement("a",{className:"dropdown-item active",key:a,href:"#",onClick:function(t){return r.changeType(t,e.name)}},e.display_name))):o.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(t){return r.changeType(t,e.name)}},e.display_name))})),e=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownModType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownModType"},o))):this.state.modTypes.forEach((function(t,a){r.state.mod.module===t.name&&(e=n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.display_name))})),this.state.hasError&&(a=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input")));var s="",l="";return"scheme"!==this.state.role?s=n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-readonly",onChange:function(e){return r.toggleReadonly(e)},checked:this.state.mod.readonly||"http"===this.state.mod.module||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-readonly"},i.a.t("admin.mod-readonly"))):l=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-expiration"},i.a.t("admin.mod-expiration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-expiration",placeholder:i.a.t("admin.mod-expiration-ph"),value:this.state.mod.expiration,onChange:function(e){return r.changeExpiration(e)}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-max-use"},i.a.t("admin.mod-max-use"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-max-use",placeholder:i.a.t("admin.mod-max-use-ph"),value:this.state.mod.max_use,onChange:function(e){return r.changeMaxUse(e)}}))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-allow-user-register",onChange:function(e){return r.toggleAllowUserRegister(e)},checked:this.state.mod.allow_user_register}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-allow-user-register"},i.a.t("admin.mod-allow-user-register")))),n.a.createElement("div",{className:"modal fade",id:"editModModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return r.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-type"},i.a.t("admin.mod-type"))),e,n.a.createElement("span",{className:"error-input"+(this.state.typeInvalidMessage?"":" hidden")},this.state.typeInvalidMessage))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-name"},i.a.t("admin.mod-name"))),n.a.createElement("input",{type:"text",className:"form-control"+(this.state.nameInvalid?" is-invalid":""),id:"mod-name",placeholder:i.a.t("admin.mod-name-ph"),maxLength:"128",value:this.state.mod.name||"",onChange:function(e){return r.changeName(e)},disabled:!this.state.add}),n.a.createElement("span",{className:"error-input"+(this.state.nameInvalid?"":" hidden")},this.state.nameInvalidMessage))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-display-name"},i.a.t("admin.mod-display-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-display-name",placeholder:i.a.t("admin.mod-display-name-ph"),maxLength:"256",value:this.state.mod.display_name||"",onChange:function(e){return r.changeDisplayName(e)}}))),s,l,n.a.createElement(Tt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}))),n.a.createElement("div",{className:"modal-footer"},a,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return r.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}])&&At(e.prototype,t),o}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $t(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Jt(e,t){return(Jt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wt(e){return(Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Gt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Jt(e,t)}(n,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Wt(e);return r=this,!(n=t?(a=Wt(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==Vt(n)&&"function"!=typeof n?Kt(r):n}}(n);function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=a.call(this,e)).state={mod:e.mod,role:e.role,check:e.check,hasError:!1},t.state.check&&t.checkParameters(),t.checkParameters=t.checkParameters.bind(Kt(t)),t}return e=n,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"checkParameters",value:function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}},{key:"render",value:function(){return""}}])&&$t(e.prototype,t),n}();function Bt(e){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t){return(Ht=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ht(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=Qt(e);return r=this,!(n=t?(a=Qt(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==Bt(n)&&"function"!=typeof n?Yt(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod.parameters||(e.mod.parameters={}),e.mod.parameters["jwt-type"]||(e.mod.parameters["jwt-type"]="rsa"),e.mod.parameters["jwt-key-size"]||(e.mod.parameters["jwt-key-size"]="512"),e.mod.parameters.key||(e.mod.parameters.key=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters["access-token-duration"]||(e.mod.parameters["access-token-duration"]=3600),e.mod.parameters["refresh-token-duration"]||(e.mod.parameters["refresh-token-duration"]=1209600),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-implicit-enabled"]&&(e.mod.parameters["auth-type-implicit-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!0),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),e.mod.parameters.scope||(e.mod.parameters.scope=[]),e.mod.parameters["additional-parameters"]||(e.mod.parameters["additional-parameters"]=[]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,errorList:{},newScopeOverride:!1},t.state.check&&t.checkParameters(),t.checkParameters=t.checkParameters.bind(Yt(t)),t.changeParam=t.changeParam.bind(Yt(t)),t.changeNumberParam=t.changeNumberParam.bind(Yt(t)),t.toggleParam=t.toggleParam.bind(Yt(t)),t.changeJwtType=t.changeJwtType.bind(Yt(t)),t.setNewScopeOverride=t.setNewScopeOverride.bind(Yt(t)),t.addScopeOverride=t.addScopeOverride.bind(Yt(t)),t.changeScopeOverrideRefreshDuration=t.changeScopeOverrideRefreshDuration.bind(Yt(t)),t.toggleScopeOverrideRolling=t.toggleScopeOverrideRolling.bind(Yt(t)),t.addAdditionalParameter=t.addAdditionalParameter.bind(Yt(t)),t.setAdditionalPropertyUserParameter=t.setAdditionalPropertyUserParameter.bind(Yt(t)),t.setAdditionalPropertyTokenParameter=t.setAdditionalPropertyTokenParameter.bind(Yt(t)),t.deleteAdditionalProperty=t.deleteAdditionalProperty.bind(Yt(t)),t.addScope=t.addScope.bind(Yt(t)),t.deleteScope=t.deleteScope.bind(Yt(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters||(e.mod.parameters={}),e.mod.parameters["jwt-type"]||(e.mod.parameters["jwt-type"]="rsa"),e.mod.parameters["jwt-key-size"]||(e.mod.parameters["jwt-key-size"]="512"),e.mod.parameters.key||(e.mod.parameters.key=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters["access-token-duration"]||(e.mod.parameters["access-token-duration"]=3600),e.mod.parameters["refresh-token-duration"]||(e.mod.parameters["refresh-token-duration"]=1209600),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-implicit-enabled"]&&(e.mod.parameters["auth-type-implicit-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!0),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),e.mod.parameters.scope||(e.mod.parameters.scope=[]),e.mod.parameters["additional-parameters"]||(e.mod.parameters["additional-parameters"]=[]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"changeNumberParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=parseInt(e.target.value),this.setState({mod:a})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"changeJwtType",value:function(e,t){var a=this.state.mod;a.parameters["jwt-type"]=t,this.setState({mod:a})}},{key:"changeJwtKeySize",value:function(e,t){var a=this.state.mod;a.parameters["jwt-key-size"]=t,this.setState({mod:a})}},{key:"uploadFile",value:function(e,t){var a=this,r=this.state.mod,n=e.target.files[0],o=new FileReader;o.onload=function(e){r.parameters[t]=e.target.result,a.setState({mod:r})},o.readAsText(n)}},{key:"setNewScopeOverride",value:function(e,t){this.setState({newScopeOverride:t})}},{key:"addScopeOverride",value:function(){var e;this.state.newScopeOverride&&((e=this.state.mod).parameters.scope.push({name:this.state.newScopeOverride,"refresh-token-rolling":this.state.mod.parameters["refresh-token-rolling"],"refresh-token-duration":0}),this.setState({mod:e,newScopeOverride:!1}))}},{key:"changeScopeOverrideRefreshDuration",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(a){a.name===t.name&&(a["refresh-token-duration"]=parseInt(e.target.value))})),this.setState({mod:a})}},{key:"toggleScopeOverrideRolling",value:function(e,t,a){var r=this.state.mod;r.parameters.scope.forEach((function(e){e.name===t&&(void 0===a?delete e["refresh-token-rolling"]:e["refresh-token-rolling"]=a)})),this.setState({mod:r})}},{key:"deleteScopeOverride",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(e,r){e.name===t&&a.parameters.scope.splice(r,1)})),this.setState({mod:a})}},{key:"addAdditionalParameter",value:function(){var e=this.state.mod;e.parameters["additional-parameters"].push({"user-parameter":"","token-parameter":"","token-changed":!1}),this.setState({mod:e,newScopeOverride:!1})}},{key:"setAdditionalPropertyUserParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["user-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]||(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value)),this.setState({mod:a,newScopeOverride:!1})}},{key:"setAdditionalPropertyTokenParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]=!0),this.setState({mod:a,newScopeOverride:!1})}},{key:"deleteAdditionalProperty",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&a.parameters["additional-parameters"].splice(t,1),this.setState({mod:a,newScopeOverride:!1})}},{key:"addScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["introspection-revocation-auth-scope"].push(t),this.setState({mod:a})}},{key:"deleteScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["introspection-revocation-auth-scope"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.key||(t=!0,e.key="admin.mod-glwd-key-error",e.signature=!0),"sha"===this.state.mod.parameters["jwt-type"]||this.state.mod.parameters.cert||(t=!0,e.cert="admin.mod-glwd-cert-error",e.signature=!0),this.state.mod.parameters["access-token-duration"]||(t=!0,e["access-token-duration"]="admin.mod-glwd-access-token-duration-error",e.token=!0),this.state.mod.parameters["refresh-token-duration"]||(t=!0,e["refresh-token-duration"]="admin.mod-glwd-refresh-token-duration-error",e.token=!0),this.state.mod.parameters["code-duration"]||(t=!0,e["code-duration"]="admin.mod-glwd-code-duration-error",e.token=!0),this.state.mod.parameters["additional-parameters"].forEach((function(a,r){a["user-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].user="admin.mod-glwd-additional-parameter-user-parameter-error"),a["token-parameter"]?"username"!==a["token-parameter"]&&"salt"!==a["token-parameter"]&&"type"!==a["token-parameter"]&&"iat"!==a["token-parameter"]&&"expires_in"!==a["token-parameter"]&&"scope"!==a["token-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-invalid-error"):(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-error")})),!this.state.mod.parameters["introspection-revocation-allowed"]||this.state.mod.parameters["introspection-revocation-allow-target-client"]||this.state.mod.parameters["introspection-revocation-auth-scope"].length||(t=!0,e["introspection-revocation"]="admin.mod-glwd-introspection-revocation-error",e.token=!0),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=[],o=[],s=[],l=document.location.href.split("?")[0].split("#")[0]+this.state.config.api_prefix+"/"+(this.state.mod.name||""),c=l+"/auth",m=l+"/token",d=l+"/profile";"sha"===this.state.mod.parameters["jwt-type"]?e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("input",{type:"password",className:this.state.errorList.key?"form-control is-invalid":"form-control",id:"mod-glwd-key",onChange:function(e){return a.changeParam(e,"key")},value:this.state.mod.parameters.key,placeholder:i.a.t("admin.mod-glwd-key-ph")})),this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""):(e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return a.uploadFile(e,"key")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},i.a.t("admin.choose-file")))),this.state.mod.parameters.key?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.key.substring(0,40)):"",this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""),t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-cert"},i.a.t("admin.mod-glwd-cert"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return a.uploadFile(e,"cert")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},i.a.t("admin.choose-file")))),this.state.mod.parameters.cert?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.cert.substring(0,40)):"",this.state.errorList.cert?n.a.createElement("span",{className:"error-input"},this.state.errorList.cert):"")),this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){var r=0;a.state.mod.parameters.scope.forEach((function(t){t.name===e&&(r=1)})),r||o.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return a.setNewScopeOverride(t,e)}},e))}))}));var p=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.newScopeOverride||i.a.t("admin.mod-glwd-scope-override-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-override-scope"},o));this.state.mod.parameters.scope.forEach((function(e,t){r.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e.name),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-duration-"+e.name},i.a.t("admin.mod-glwd-scope-override-refresh-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-glwd-scope-override-refresh-duration-"+e.name,onChange:function(t){return a.changeScopeOverrideRefreshDuration(t,e)},value:e["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-scope-override-refresh-duration-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-rolling-"+e.name},i.a.t("admin.mod-scope-override-refresh-rolling"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-refresh-rolling-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.glwd-scope-override-refresh-rolling-value-"+e["refresh-token-rolling"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+(void 0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,void 0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-undefined")),n.a.createElement("a",{className:"dropdown-item"+(!0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,!0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-true")),n.a.createElement("a",{className:"dropdown-item"+(!1===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,!1)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-false")))))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteScopeOverride(t,e.name)},title:i.a.t("admin.mod-scope-override-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["additional-parameters"].forEach((function(e,t){var r=a.state.errorList["additional-parameters"]&&a.state.errorList["additional-parameters"][t]&&a.state.errorList["additional-parameters"][t].user,o=a.state.errorList["additional-parameters"]&&a.state.errorList["additional-parameters"][t]&&a.state.errorList["additional-parameters"][t].token;s.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e["user-parameter"]||i.a.t("admin.mod-additional-parameter-new")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-user-parameter"))),n.a.createElement("input",{type:"text",className:r?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"],onChange:function(e){return a.setAdditionalPropertyUserParameter(e,t)},value:e["user-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-user-parameter-ph")}),r?n.a.createElement("span",{className:"error-input"},a.state.errorList["additional-parameters"][t].user):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-token-parameter"))),n.a.createElement("input",{type:"text",className:o?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"],onChange:function(e){return a.setAdditionalPropertyTokenParameter(e,t)},value:e["token-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-token-parameter-ph")})),o?n.a.createElement("span",{className:"error-input"},a.state.errorList["additional-parameters"][t].token):""),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.deleteAdditionalProperty(e,t)},title:i.a.t("admin.mod-additional-parameter-token-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))}));o=[];var u=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){o.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return a.addScope(t,e)},disabled:!a.state.mod.parameters["introspection-revocation-allowed"]},e))}))})),this.state.mod.parameters["introspection-revocation-auth-scope"].forEach((function(e,t){a.state.mod.parameters["introspection-revocation-allowed"]?u.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return a.deleteScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):u.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var h=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["introspection-revocation-allowed"]},i.a.t("admin.mod-glwd-introspection-revocation-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},o),n.a.createElement("div",null,u));return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-auth"))),n.a.createElement("code",null,c))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-token"))),n.a.createElement("code",null,m))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-profile"))),n.a.createElement("code",null,d))),n.a.createElement("hr",null),n.a.createElement("div",{className:"accordion",id:"accordionSignature"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSignature","aria-expanded":"true","aria-controls":"collapseSignature"},this.state.errorList.signature?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-sign-title")))),n.a.createElement("div",{id:"collapseSignature",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSignature"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-jwt-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-type-"+this.state.mod.parameters["jwt-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+("rsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"rsa")}},i.a.t("admin.mod-glwd-jwt-type-rsa")),n.a.createElement("a",{className:"dropdown-item"+("ecdsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"ecdsa")}},i.a.t("admin.mod-glwd-jwt-type-ecdsa")),n.a.createElement("a",{className:"dropdown-item"+("sha"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"sha")}},i.a.t("admin.mod-glwd-jwt-type-sha")),n.a.createElement("a",{className:"dropdown-item"+("rsa-pss"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"rsa-pss")}},i.a.t("admin.mod-glwd-jwt-type-rsa-pss")),n.a.createElement("a",{className:"dropdown-item"+("eddsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"eddsa")}},i.a.t("admin.mod-glwd-jwt-type-eddsa"))))),this.state.errorList["jwt-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-key-size"},i.a.t("admin.mod-glwd-jwt-key-size"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-key-size","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-key-size-"+this.state.mod.parameters["jwt-key-size"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("256"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"256")}},i.a.t("admin.mod-glwd-jwt-key-size-256")),n.a.createElement("a",{className:"dropdown-item"+("384"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"384")}},i.a.t("admin.mod-glwd-jwt-key-size-384")),n.a.createElement("a",{className:"dropdown-item"+("512"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"512")}},i.a.t("admin.mod-glwd-jwt-key-size-512"))))),this.state.errorList["jwt-key-size"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-key-size"]):""),e,t)))),n.a.createElement("div",{className:"accordion",id:"accordionToken"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseToken","aria-expanded":"true","aria-controls":"collapseToken"},this.state.errorList.token?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-token-title")))),n.a.createElement("div",{id:"collapseToken",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionToken"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-access-token-duration"},i.a.t("admin.mod-glwd-access-token-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["access-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-access-token-duration",onChange:function(e){return a.changeNumberParam(e,"access-token-duration")},value:this.state.mod.parameters["access-token-duration"],placeholder:i.a.t("admin.mod-glwd-access-token-duration-ph")})),this.state.errorList["access-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["access-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-duration"},i.a.t("admin.mod-glwd-refresh-token-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["refresh-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-refresh-token-duration",onChange:function(e){return a.changeNumberParam(e,"refresh-token-duration")},value:this.state.mod.parameters["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-refresh-token-duration-ph")})),this.state.errorList["refresh-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["refresh-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-code-duration"},i.a.t("admin.mod-glwd-code-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-code-duration",onChange:function(e){return a.changeNumberParam(e,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-glwd-code-duration-ph")})),this.state.errorList["code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-refresh-token-rolling",onChange:function(e){return a.toggleParam(e,"refresh-token-rolling")},checked:this.state.mod.parameters["refresh-token-rolling"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-refresh-token-rolling"},i.a.t("admin.mod-glwd-refresh-token-rolling"))))))),n.a.createElement("div",{className:"accordion",id:"accordionAuthType"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAuthType","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList["auth-type"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-auth-type-title")))),n.a.createElement("div",{id:"collapseAuthType",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAuthType"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-code-enabled")},checked:this.state.mod.parameters["auth-type-code-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-enabled"},i.a.t("admin.mod-glwd-auth-type-code-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-implicit-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-implicit-enabled")},checked:this.state.mod.parameters["auth-type-implicit-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-implicit-enabled"},i.a.t("admin.mod-glwd-auth-type-implicit-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-password-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-password-enabled")},checked:this.state.mod.parameters["auth-type-password-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-password-enabled"},i.a.t("admin.mod-glwd-auth-type-password-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-client-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-client-enabled")},checked:this.state.mod.parameters["auth-type-client-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-client-enabled"},i.a.t("admin.mod-glwd-auth-type-client-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-device-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-device-enabled")},checked:this.state.mod.parameters["auth-type-device-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-device-enabled"},i.a.t("admin.mod-glwd-auth-type-device-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-refresh-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-refresh-enabled")},checked:this.state.mod.parameters["auth-type-refresh-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-refresh-enabled"},i.a.t("admin.mod-glwd-auth-type-refresh-enabled"))))))),n.a.createElement("div",{className:"accordion",id:"accordionScope"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseScope","aria-expanded":"true","aria-controls":"collapseScope"},this.state.errorList["scope-override"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-scope-override")))),n.a.createElement("div",{id:"collapseScope",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionScope"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-scope-override-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},p),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeOverride,title:i.a.t("admin.mod-glwd-scope-add")},n.a.createElement("i",{className:"fas fa-plus"}))),r)))),n.a.createElement("div",{className:"accordion",id:"accordionAddParam"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddParam","aria-expanded":"true","aria-controls":"collapseAddParam"},this.state.errorList["additional-parameters"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-additional-parameter")))),n.a.createElement("div",{id:"collapseAddParam",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAddParam"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-additional-parameter-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addAdditionalParameter,title:i.a.t("admin.mod-glwd-additional-parameter-add")},n.a.createElement("i",{className:"fas fa-plus"}))),s)))),n.a.createElement("div",{className:"accordion",id:"accordionPkce"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePkce","aria-expanded":"true","aria-controls":"collapsePkce"},this.state.errorList.pkce?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-pkce-title")))),n.a.createElement("div",{id:"collapsePkce",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPkce"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-allowed",onChange:function(e){return a.toggleParam(e,"pkce-allowed")},checked:this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-allowed"},i.a.t("admin.mod-glwd-pkce-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-method-plain-allowed",onChange:function(e){return a.toggleParam(e,"pkce-method-plain-allowed")},checked:this.state.mod.parameters["pkce-method-plain-allowed"],disabled:!this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-method-plain-allowed"},i.a.t("admin.mod-glwd-pkce-method-plain-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionIntrospect"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseIntrospect","aria-expanded":"true","aria-controls":"collapseIntrospect"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-introspection-revocation-title")))),n.a.createElement("div",{id:"collapseIntrospect",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionIntrospect"},n.a.createElement("div",{className:"card-body"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["introspection-revocation"])):"",n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allowed",onChange:function(e){return a.toggleParam(e,"introspection-revocation-allowed")},checked:this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allowed"},i.a.t("admin.mod-glwd-introspection-revocation-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allow-target-client",onChange:function(e){return a.toggleParam(e,"introspection-revocation-allow-target-client")},checked:this.state.mod.parameters["introspection-revocation-allow-target-client"],disabled:!this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allow-target-client"},i.a.t("admin.mod-glwd-introspection-revocation-allow-target-client"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-introspection-revocation-scope-required"))),h)))))),n.a.createElement("div",{className:"accordion",id:"accordionDeviceAuthorization"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDeviceAuthorization","aria-expanded":"true","aria-controls":"collapseDeviceAuthorization"},i.a.t("admin.mod-glwd-device-authorization-title")))),n.a.createElement("div",{id:"collapseDeviceAuthorization",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDeviceAuthorization"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-expiration"},i.a.t("admin.mod-glwd-device-authorization-expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-expiration",onChange:function(e){return a.changeNumberParam(e,"device-authorization-expiration")},value:this.state.mod.parameters["device-authorization-expiration"],placeholder:i.a.t("admin.mod-glwd-device-authorization-expiration-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-interval"},i.a.t("admin.mod-glwd-device-authorization-interval"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-interval",onChange:function(e){return a.changeNumberParam(e,"device-authorization-interval")},value:this.state.mod.parameters["device-authorization-interval"],placeholder:i.a.t("admin.mod-glwd-device-authorization-interval-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))))))))}}])&&Xt(e.prototype,t),o}();function ea(e){return(ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ta(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aa(e,t){return(aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var oa=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&aa(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=na(e);return r=this,!(n=t?(a=na(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ea(n)&&"function"!=typeof n?ra(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod.parameters||(e.mod.parameters={}),e.mod.parameters["jwt-type"]||(e.mod.parameters["jwt-type"]="rsa"),e.mod.parameters["jwt-key-size"]||(e.mod.parameters["jwt-key-size"]="256"),e.mod.parameters["jwks-uri"]||(e.mod.parameters["jwks-uri"]=""),e.mod.parameters["jwks-private"]||(e.mod.parameters["jwks-private"]=""),e.mod.parameters["default-kid"]||(e.mod.parameters["default-kid"]=""),e.mod.parameters["client-sign_kid-parameter"]||(e.mod.parameters["client-sign_kid-parameter"]=""),e.mod.parameters.key||(e.mod.parameters.key=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters["access-token-duration"]||(e.mod.parameters["access-token-duration"]=3600),e.mod.parameters["refresh-token-duration"]||(e.mod.parameters["refresh-token-duration"]=1209600),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["refresh-token-one-use"]&&(e.mod.parameters["refresh-token-one-use"]="never"),void 0===e.mod.parameters["client-refresh-token-one-use-parameter"]&&(e.mod.parameters["client-refresh-token-one-use-parameter"]="refresh-token-one-use"),void 0===e.mod.parameters["allow-non-oidc"]&&(e.mod.parameters["allow-non-oidc"]=!1),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-token-enabled"]&&(e.mod.parameters["auth-type-token-enabled"]=!0),e.mod.parameters["auth-type-id-token-enabled"]=!0,void 0===e.mod.parameters["auth-type-none-enabled"]&&(e.mod.parameters["auth-type-none-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!1),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),e.mod.parameters.scope||(e.mod.parameters.scope=[]),e.mod.parameters["additional-parameters"]||(e.mod.parameters["additional-parameters"]=[]),e.mod.parameters.claims||(e.mod.parameters.claims=[]),void 0===e.mod.parameters["service-documentation"]&&(e.mod.parameters["service-documentation"]="https://github.com/babelouest/glewlwyd/tree/master/docs"),void 0===e.mod.parameters["op-policy-uri"]&&(e.mod.parameters["op-policy-uri"]=""),void 0===e.mod.parameters["op-tos-uri"]&&(e.mod.parameters["op-tos-uri"]=""),void 0===e.mod.parameters["jwks-show"]&&(e.mod.parameters["jwks-show"]=!0),void 0===e.mod.parameters["jwks-x5c"]&&(e.mod.parameters["jwks-x5c"]=[]),void 0===e.mod.parameters["request-parameter-allow"]&&(e.mod.parameters["request-parameter-allow"]=!0),void 0===e.mod.parameters["request-uri-allow-https-non-secure"]&&(e.mod.parameters["request-uri-allow-https-non-secure"]=!1),e.mod.parameters["secret-type"]||(e.mod.parameters["secret-type"]="pairwise"),e.mod.parameters["address-claim"]||(e.mod.parameters["address-claim"]={type:"no",formatted:"",street_address:"",locality:"",region:"",postal_code:"",country:"",mandatory:!1}),e.mod.parameters["name-claim"]||(e.mod.parameters["name-claim"]="on-demand"),e.mod.parameters["name-claim-scope"]||(e.mod.parameters["name-claim-scope"]=[]),e.mod.parameters["email-claim"]||(e.mod.parameters["email-claim"]="no"),e.mod.parameters["email-claim-scope"]||(e.mod.parameters["email-claim-scope"]=[]),e.mod.parameters["allowed-scope"]||(e.mod.parameters["allowed-scope"]=["openid"]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["register-client-allowed"]&&(e.mod.parameters["register-client-allowed"]=!1),void 0===e.mod.parameters["register-client-auth-scope"]&&(e.mod.parameters["register-client-auth-scope"]=[]),void 0===e.mod.parameters["register-client-credentials-scope"]&&(e.mod.parameters["register-client-credentials-scope"]=[]),void 0===e.mod.parameters["register-client-management-allowed"]&&(e.mod.parameters["register-client-management-allowed"]=!0),void 0===e.mod.parameters["session-management-allowed"]&&(e.mod.parameters["session-management-allowed"]=!1),void 0===e.mod.parameters["client-pubkey-parameter"]&&(e.mod.parameters["client-pubkey-parameter"]=""),void 0===e.mod.parameters["client-jwks-parameter"]&&(e.mod.parameters["client-jwks-parameter"]="jwks"),void 0===e.mod.parameters["client-jwks_uri-parameter"]&&(e.mod.parameters["client-jwks_uri-parameter"]="jwks_uri"),void 0===e.mod.parameters["request-maximum-exp"]&&(e.mod.parameters["request-maximum-exp"]=3600),void 0===e.mod.parameters["encrypt-out-token-allow"]&&(e.mod.parameters["encrypt-out-token-allow"]=!1),void 0===e.mod.parameters["client-enc-parameter"]&&(e.mod.parameters["client-enc-parameter"]="enc"),void 0===e.mod.parameters["client-alg-parameter"]&&(e.mod.parameters["client-alg-parameter"]="alg"),void 0===e.mod.parameters["client-alg_kid-parameter"]&&(e.mod.parameters["client-alg_kid-parameter"]="alg_kid"),void 0===e.mod.parameters["client-encrypt_code-parameter"]&&(e.mod.parameters["client-encrypt_code-parameter"]="encrypt_code"),void 0===e.mod.parameters["client-encrypt_at-parameter"]&&(e.mod.parameters["client-encrypt_at-parameter"]="encrypt_at"),void 0===e.mod.parameters["client-encrypt_userinfo-parameter"]&&(e.mod.parameters["client-encrypt_userinfo-parameter"]="encrypt_userinfo"),void 0===e.mod.parameters["client-encrypt_id_token-parameter"]&&(e.mod.parameters["client-encrypt_id_token-parameter"]="encrypt_id_token"),void 0===e.mod.parameters["client-encrypt_refresh_token-parameter"]&&(e.mod.parameters["client-encrypt_refresh_token-parameter"]="encrypt_refresh_token"),void 0===e.mod.parameters["client-encrypt_introspection-parameter"]&&(e.mod.parameters["client-encrypt_introspection-parameter"]="encrypt_introspection"),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),void 0===e.mod.parameters["client-cert-header-name"]&&(e.mod.parameters["client-cert-header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["client-cert-use-endpoint-aliases"]&&(e.mod.parameters["client-cert-use-endpoint-aliases"]=!1),void 0===e.mod.parameters["client-cert-self-signed-allowed"]&&(e.mod.parameters["client-cert-self-signed-allowed"]=!1),t.state={config:e.config,mod:e.mod,role:e.role,check:e.check,errorList:{},newScopeOverride:!1},t.state.check&&t.checkParameters(),t.checkParameters=t.checkParameters.bind(ra(t)),t.changeParam=t.changeParam.bind(ra(t)),t.changeParamWithValue=t.changeParamWithValue.bind(ra(t)),t.changeNumberParam=t.changeNumberParam.bind(ra(t)),t.emptyParameter=t.emptyParameter.bind(ra(t)),t.toggleParam=t.toggleParam.bind(ra(t)),t.changeJwtType=t.changeJwtType.bind(ra(t)),t.changeSecretType=t.changeSecretType.bind(ra(t)),t.setNewScopeOverride=t.setNewScopeOverride.bind(ra(t)),t.addScopeOverride=t.addScopeOverride.bind(ra(t)),t.changeScopeOverrideRefreshDuration=t.changeScopeOverrideRefreshDuration.bind(ra(t)),t.toggleScopeOverrideRolling=t.toggleScopeOverrideRolling.bind(ra(t)),t.addAdditionalParameter=t.addAdditionalParameter.bind(ra(t)),t.setAdditionalPropertyUserParameter=t.setAdditionalPropertyUserParameter.bind(ra(t)),t.setAdditionalPropertyTokenParameter=t.setAdditionalPropertyTokenParameter.bind(ra(t)),t.deleteAdditionalProperty=t.deleteAdditionalProperty.bind(ra(t)),t.addClaim=t.addClaim.bind(ra(t)),t.deleteClaim=t.deleteClaim.bind(ra(t)),t.setClaimName=t.setClaimName.bind(ra(t)),t.setClaimUserProperty=t.setClaimUserProperty.bind(ra(t)),t.setClaimType=t.setClaimType.bind(ra(t)),t.setClaimBooleanTrue=t.setClaimBooleanTrue.bind(ra(t)),t.setClaimBooleanFalse=t.setClaimBooleanFalse.bind(ra(t)),t.toggleClaimMandatory=t.toggleClaimMandatory.bind(ra(t)),t.toggleClaimOnDemand=t.toggleClaimOnDemand.bind(ra(t)),t.uploadFile=t.uploadFile.bind(ra(t)),t.uploadX5cFile=t.uploadX5cFile.bind(ra(t)),t.handleRemoveX5c=t.handleRemoveX5c.bind(ra(t)),t.changeAddressClaimParam=t.changeAddressClaimParam.bind(ra(t)),t.changeAddressClaim=t.changeAddressClaim.bind(ra(t)),t.toggleAddrClaimMandatory=t.toggleAddrClaimMandatory.bind(ra(t)),t.addScopeClaim=t.addScopeClaim.bind(ra(t)),t.deleteScopeClaim=t.deleteScopeClaim.bind(ra(t)),t.addNameScope=t.addNameScope.bind(ra(t)),t.deleteNameScope=t.deleteNameScope.bind(ra(t)),t.addEmailScope=t.addEmailScope.bind(ra(t)),t.deleteEmailScope=t.deleteEmailScope.bind(ra(t)),t.addAllowedScope=t.addAllowedScope.bind(ra(t)),t.deleteAllowedScope=t.deleteAllowedScope.bind(ra(t)),t.addScope=t.addScope.bind(ra(t)),t.deleteScope=t.deleteScope.bind(ra(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters||(e.mod.parameters={}),e.mod.parameters["jwt-type"]||(e.mod.parameters["jwt-type"]="rsa"),e.mod.parameters["jwt-key-size"]||(e.mod.parameters["jwt-key-size"]="256"),e.mod.parameters["jwks-uri"]||(e.mod.parameters["jwks-uri"]=""),e.mod.parameters["jwks-private"]||(e.mod.parameters["jwks-private"]=""),e.mod.parameters["default-kid"]||(e.mod.parameters["default-kid"]=""),e.mod.parameters["client-sign_kid-parameter"]||(e.mod.parameters["client-sign_kid-parameter"]=""),e.mod.parameters.key||(e.mod.parameters.key=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters.cert||(e.mod.parameters.cert=""),e.mod.parameters["access-token-duration"]||(e.mod.parameters["access-token-duration"]=3600),e.mod.parameters["refresh-token-duration"]||(e.mod.parameters["refresh-token-duration"]=1209600),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["refresh-token-one-use"]&&(e.mod.parameters["refresh-token-one-use"]="never"),void 0===e.mod.parameters["client-refresh-token-one-use-parameter"]&&(e.mod.parameters["client-refresh-token-one-use-parameter"]="refresh-token-one-use"),void 0===e.mod.parameters["allow-non-oidc"]&&(e.mod.parameters["allow-non-oidc"]=!1),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-token-enabled"]&&(e.mod.parameters["auth-type-token-enabled"]=!0),e.mod.parameters["auth-type-id-token-enabled"]=!0,void 0===e.mod.parameters["auth-type-none-enabled"]&&(e.mod.parameters["auth-type-none-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!1),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),e.mod.parameters.scope||(e.mod.parameters.scope=[]),e.mod.parameters["additional-parameters"]||(e.mod.parameters["additional-parameters"]=[]),e.mod.parameters.claims||(e.mod.parameters.claims=[]),void 0===e.mod.parameters["service-documentation"]&&(e.mod.parameters["service-documentation"]="https://github.com/babelouest/glewlwyd/tree/master/docs"),void 0===e.mod.parameters["op-policy-uri"]&&(e.mod.parameters["op-policy-uri"]=""),void 0===e.mod.parameters["op-tos-uri"]&&(e.mod.parameters["op-tos-uri"]=""),void 0===e.mod.parameters["jwks-show"]&&(e.mod.parameters["jwks-show"]=!0),void 0===e.mod.parameters["jwks-x5c"]&&(e.mod.parameters["jwks-x5c"]=[]),void 0===e.mod.parameters["request-parameter-allow"]&&(e.mod.parameters["request-parameter-allow"]=!0),void 0===e.mod.parameters["request-uri-allow-https-non-secure"]&&(e.mod.parameters["request-uri-allow-https-non-secure"]=!1),e.mod.parameters["secret-type"]||(e.mod.parameters["secret-type"]="pairwise"),e.mod.parameters["address-claim"]||(e.mod.parameters["address-claim"]={type:"no",formatted:"",street_address:"",locality:"",region:"",postal_code:"",country:"",mandatory:!1}),e.mod.parameters["name-claim"]||(e.mod.parameters["name-claim"]="on-demand"),e.mod.parameters["name-claim-scope"]||(e.mod.parameters["name-claim-scope"]=[]),e.mod.parameters["email-claim"]||(e.mod.parameters["email-claim"]="no"),e.mod.parameters["email-claim-scope"]||(e.mod.parameters["email-claim-scope"]=[]),e.mod.parameters["allowed-scope"]||(e.mod.parameters["allowed-scope"]=["openid"]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["register-client-allowed"]&&(e.mod.parameters["register-client-allowed"]=!1),void 0===e.mod.parameters["register-client-auth-scope"]&&(e.mod.parameters["register-client-auth-scope"]=[]),void 0===e.mod.parameters["register-client-credentials-scope"]&&(e.mod.parameters["register-client-credentials-scope"]=[]),void 0===e.mod.parameters["register-client-management-allowed"]&&(e.mod.parameters["register-client-management-allowed"]=!0),void 0===e.mod.parameters["session-management-allowed"]&&(e.mod.parameters["session-management-allowed"]=!1),void 0===e.mod.parameters["client-pubkey-parameter"]&&(e.mod.parameters["client-pubkey-parameter"]=""),void 0===e.mod.parameters["client-jwks-parameter"]&&(e.mod.parameters["client-jwks-parameter"]="jwks"),void 0===e.mod.parameters["client-jwks_uri-parameter"]&&(e.mod.parameters["client-jwks_uri-parameter"]="jwks_uri"),void 0===e.mod.parameters["request-maximum-exp"]&&(e.mod.parameters["request-maximum-exp"]=3600),void 0===e.mod.parameters["encrypt-out-token-allow"]&&(e.mod.parameters["encrypt-out-token-allow"]=!1),void 0===e.mod.parameters["client-enc-parameter"]&&(e.mod.parameters["client-enc-parameter"]="enc"),void 0===e.mod.parameters["client-alg-parameter"]&&(e.mod.parameters["client-alg-parameter"]="alg"),void 0===e.mod.parameters["client-alg_kid-parameter"]&&(e.mod.parameters["client-alg_kid-parameter"]="alg_kid"),void 0===e.mod.parameters["client-encrypt_code-parameter"]&&(e.mod.parameters["client-encrypt_code-parameter"]="encrypt_code"),void 0===e.mod.parameters["client-encrypt_at-parameter"]&&(e.mod.parameters["client-encrypt_at-parameter"]="encrypt_at"),void 0===e.mod.parameters["client-encrypt_userinfo-parameter"]&&(e.mod.parameters["client-encrypt_userinfo-parameter"]="encrypt_userinfo"),void 0===e.mod.parameters["client-encrypt_id_token-parameter"]&&(e.mod.parameters["client-encrypt_id_token-parameter"]="encrypt_id_token"),void 0===e.mod.parameters["client-encrypt_refresh_token-parameter"]&&(e.mod.parameters["client-encrypt_refresh_token-parameter"]="encrypt_refresh_token"),void 0===e.mod.parameters["client-encrypt_introspection-parameter"]&&(e.mod.parameters["client-encrypt_introspection-parameter"]="encrypt_introspection"),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),void 0===e.mod.parameters["client-cert-header-name"]&&(e.mod.parameters["client-cert-header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["client-cert-use-endpoint-aliases"]&&(e.mod.parameters["client-cert-use-endpoint-aliases"]=!1),void 0===e.mod.parameters["client-cert-self-signed-allowed"]&&(e.mod.parameters["client-cert-self-signed-allowed"]=!1),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"changeParamWithValue",value:function(e,t){var a=this.state.mod;a.parameters[e]=t,this.setState({mod:a})}},{key:"changeNumberParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=parseInt(e.target.value),this.setState({mod:a})}},{key:"emptyParameter",value:function(e){var t=this.state.mod;delete t.parameters[e],this.setState({mod:t})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"changeJwtType",value:function(e,t){var a=this.state.mod;a.parameters["jwt-type"]=t,this.setState({mod:a})}},{key:"changeSecretType",value:function(e,t){var a=this.state.mod;a.parameters["secret-type"]=t,this.setState({mod:a})}},{key:"changeJwtKeySize",value:function(e,t){var a=this.state.mod;a.parameters["jwt-key-size"]=t,this.setState({mod:a})}},{key:"uploadFile",value:function(e,t){var a=this,r=this.state.mod,n=e.target.files[0],o=new FileReader;o.onload=function(e){r.parameters[t]=e.target.result,a.setState({mod:r})},o.readAsText(n)}},{key:"uploadX5cFile",value:function(e){var t=this,a=this.state.mod,r=e.target.files[0],n=new FileReader;n.onload=function(e){a.parameters["jwks-x5c"].push(e.target.result),t.setState({mod:a})},n.readAsText(r)}},{key:"handleRemoveX5c",value:function(e,t){var a;e.preventDefault(),this.state.mod.parameters["jwks-show"]&&((a=this.state.mod).parameters["jwks-x5c"].splice(t,1),this.setState({mod:a}))}},{key:"setNewScopeOverride",value:function(e,t){this.setState({newScopeOverride:t})}},{key:"addScopeOverride",value:function(){var e;this.state.newScopeOverride&&((e=this.state.mod).parameters.scope.push({name:this.state.newScopeOverride,"refresh-token-rolling":this.state.mod.parameters["refresh-token-rolling"],"refresh-token-duration":0}),this.setState({mod:e,newScopeOverride:!1}))}},{key:"changeScopeOverrideRefreshDuration",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(a){a.name===t.name&&(a["refresh-token-duration"]=parseInt(e.target.value))})),this.setState({mod:a})}},{key:"toggleScopeOverrideRolling",value:function(e,t,a){var r=this.state.mod;r.parameters.scope.forEach((function(e){e.name===t&&(void 0===a?delete e["refresh-token-rolling"]:e["refresh-token-rolling"]=a)})),this.setState({mod:r})}},{key:"deleteScopeOverride",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(e,r){e.name===t&&a.parameters.scope.splice(r,1)})),this.setState({mod:a})}},{key:"addAdditionalParameter",value:function(){var e=this.state.mod;e.parameters["additional-parameters"].push({"user-parameter":"","token-parameter":"","token-changed":!1}),this.setState({mod:e,newScopeOverride:!1})}},{key:"setAdditionalPropertyUserParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["user-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]||(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value)),this.setState({mod:a,newScopeOverride:!1})}},{key:"setAdditionalPropertyTokenParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]=!0),this.setState({mod:a,newScopeOverride:!1})}},{key:"deleteAdditionalProperty",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&a.parameters["additional-parameters"].splice(t,1),this.setState({mod:a,newScopeOverride:!1})}},{key:"addClaim",value:function(){var e=this.state.mod;e.parameters.claims.push({name:"","user-property":"",type:"string","boolean-value-true":"","boolean-value-false":"",mandatory:!1,"on-demand":!1,scope:[]}),this.setState({mod:e})}},{key:"deleteClaim",value:function(e,t){var a=this.state.mod;a.parameters.claims.splice(t,1),this.setState({mod:a})}},{key:"setClaimName",value:function(e,t){var a=this.state.mod;a.parameters.claims[t].name=e.target.value,this.setState({mod:a})}},{key:"setClaimUserProperty",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["user-property"]=e.target.value,this.setState({mod:a})}},{key:"setClaimType",value:function(e,t,a){var r=this.state.mod;r.parameters.claims[t].type=a,this.setState({mod:r})}},{key:"setClaimBooleanTrue",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["boolean-value-true"]=e.target.value,this.setState({mod:a})}},{key:"setClaimBooleanFalse",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["boolean-value-false"]=e.target.value,this.setState({mod:a})}},{key:"toggleClaimMandatory",value:function(e,t){var a=this.state.mod;a.parameters.claims[t].mandatory=!a.parameters.claims[t].mandatory,this.setState({mod:a})}},{key:"toggleClaimOnDemand",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["on-demand"]=!a.parameters.claims[t]["on-demand"],this.setState({mod:a})}},{key:"changeAddressClaimParam",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"][t]=e.target.value,this.setState({mod:a})}},{key:"changeAddressClaim",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"].type=t,this.setState({mod:a})}},{key:"toggleAddrClaimMandatory",value:function(){var e=this.state.mod;e.parameters["address-claim"].mandatory=!e.parameters["address-claim"].mandatory,this.setState({mod:e})}},{key:"addScopeClaim",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.claims[t].scope.push(a),this.setState({mod:r})}},{key:"deleteScopeClaim",value:function(e,t,a){var r;e.preventDefault(),this.state.mod.parameters.claims[t].mandatory||((r=this.state.mod).parameters.claims[t].scope.splice(a,1),this.setState({mod:r}))}},{key:"addNameScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["name-claim-scope"].push(t),this.setState({mod:a})}},{key:"deleteNameScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["name-claim-scope"].splice(t,1),this.setState({mod:a})}},{key:"addEmailScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["email-claim-scope"].push(t),this.setState({mod:a})}},{key:"deleteEmailScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["email-claim-scope"].splice(t,1),this.setState({mod:a})}},{key:"addAllowedScope",value:function(e,t){e.preventDefault();var a=this.state.mod;t?a.parameters["allowed-scope"].push(t):(a.parameters["allowed-scope"]=["openid"],this.state.config.scopes.forEach((function(e){"openid"!==e.name&&a.parameters["allowed-scope"].push(e.name)}))),this.setState({mod:a})}},{key:"deleteAllowedScope",value:function(e,t){var a;e.preventDefault(),"openid"!==this.state.mod.parameters["allowed-scope"][t]&&((a=this.state.mod).parameters["allowed-scope"].splice(t,1),this.setState({mod:a}))}},{key:"addScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t].push(a),this.setState({mod:r})}},{key:"deleteScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t].splice(a,1),this.setState({mod:r})}},{key:"changeMtlsClientSource",value:function(e,t){var a=this.state.mod;t?a.parameters["client-cert-source"]=t:delete a.parameters["client-cert-source"],this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.iss||(t=!0,e.iss="admin.mod-glwd-iss-error",e.general=!0),this.state.mod.parameters["jwks-private"]||(this.state.mod.parameters.key||(t=!0,e.key="admin.mod-glwd-key-error",e.signature=!0),"sha"===this.state.mod.parameters["jwt-type"]||this.state.mod.parameters.cert||(t=!0,e.cert="admin.mod-glwd-cert-error",e.signature=!0)),this.state.mod.parameters["access-token-duration"]||(t=!0,e["access-token-duration"]="admin.mod-glwd-access-token-duration-error",e.token=!0),this.state.mod.parameters["refresh-token-duration"]||(t=!0,e["refresh-token-duration"]="admin.mod-glwd-refresh-token-duration-error",e.token=!0),this.state.mod.parameters["code-duration"]||(t=!0,e["code-duration"]="admin.mod-glwd-code-duration-error",e.token=!0),this.state.mod.parameters["additional-parameters"].forEach((function(a,r){a["user-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].user="admin.mod-glwd-additional-parameter-user-parameter-error"),a["token-parameter"]?"username"!==a["token-parameter"]&&"salt"!==a["token-parameter"]&&"type"!==a["token-parameter"]&&"iat"!==a["token-parameter"]&&"expires_in"!==a["token-parameter"]&&"scope"!==a["token-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-invalid-error"):(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-error")})),this.state.mod.parameters.claims.forEach((function(a,r){""===a.name?(t=!0,e.claims||(e.claims=[]),e.claims[r]||(e.claims[r]={}),e.claims[r].name="admin.mod-glwd-claims-name-error"):-1<["iss","sub","aud","exp","iat","auth_time","nonce","acr","amr","azp","name","email","address"].indexOf(a.name)&&(t=!0,e.claims||(e.claims=[]),e.claims[r]||(e.claims[r]={}),e.claims[r].name="admin.mod-glwd-claims-name-forbidden-error"),""===a["user-property"]&&(t=!0,e.claims||(e.claims=[]),e.claims[r]||(e.claims[r]={}),e.claims[r]["user-property"]="admin.mod-glwd-claims-user-property-error"),"boolean"===a.type&&""===a["boolean-value-true"]&&(t=!0,e.claims||(e.claims=[]),e.claims[r]||(e.claims[r]={}),e.claims[r]["boolean-value-true"]="admin.mod-glwd-claims-boolean-value-true-error"),"boolean"===a.type&&""===a["boolean-value-false"]&&(t=!0,e.claims||(e.claims=[]),e.claims[r]||(e.claims[r]={}),e.claims[r]["boolean-value-false"]="admin.mod-glwd-claims-boolean-value-false-error")})),!this.state.mod.parameters["introspection-revocation-allowed"]||this.state.mod.parameters["introspection-revocation-allow-target-client"]||this.state.mod.parameters["introspection-revocation-auth-scope"].length||(t=!0,e["introspection-revocation"]="admin.mod-glwd-introspection-revocation-error",e.token=!0),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a,r=this,o=[],s=[],l=[],c=[],m=[],d=document.location.href.split("?")[0].split("#")[0]+this.state.config.api_prefix+"/"+(this.state.mod.name||""),p=d+"/.well-known/openid-configuration",u=d+"/auth",h=d+"/token",f=d+"/userinfo";"sha"===this.state.mod.parameters["jwt-type"]?e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("input",{type:"password",className:this.state.errorList.key?"form-control is-invalid":"form-control",id:"mod-glwd-key",onChange:function(e){return r.changeParam(e,"key")},value:this.state.mod.parameters.key,placeholder:i.a.t("admin.mod-glwd-key-ph")})),this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""):(e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-key",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return r.uploadFile(e,"key")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-key"},i.a.t("admin.choose-file")))),this.state.mod.parameters.key?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.key.substring(0,40),n.a.createElement("button",{type:"button",onClick:function(){return r.emptyParameter("key")},className:"close"},n.a.createElement("span",{"aria-hidden":"true"},n.a.createElement("i",{className:"fas fa-trash"})))):"",this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""),t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-cert"},i.a.t("admin.mod-glwd-cert"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-cert",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return r.uploadFile(e,"cert")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-cert"},i.a.t("admin.choose-file")))),this.state.mod.parameters.cert?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.cert.substring(0,40),n.a.createElement("button",{type:"button",onClick:function(){return r.emptyParameter("cert")},className:"close"},n.a.createElement("span",{"aria-hidden":"true"},n.a.createElement("i",{className:"fas fa-trash"})))):"",this.state.errorList.cert?n.a.createElement("span",{className:"error-input"},this.state.errorList.cert):"")),this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){var a=0;r.state.mod.parameters.scope.forEach((function(t){t.name===e&&(a=1)})),a||s.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.setNewScopeOverride(t,e)}},e))}))}));var g=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.newScopeOverride||i.a.t("admin.mod-glwd-scope-override-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-override-scope"},s));this.state.mod.parameters.scope.forEach((function(e,t){o.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e.name),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-duration-"+e.name},i.a.t("admin.mod-glwd-scope-override-refresh-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-glwd-scope-override-refresh-duration-"+e.name,onChange:function(t){return r.changeScopeOverrideRefreshDuration(t,e)},value:e["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-scope-override-refresh-duration-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-rolling-"+e.name},i.a.t("admin.mod-scope-override-refresh-rolling"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-refresh-rolling-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.glwd-scope-override-refresh-rolling-value-"+e["refresh-token-rolling"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+(void 0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,void 0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-undefined")),n.a.createElement("a",{className:"dropdown-item"+(!0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,!0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-true")),n.a.createElement("a",{className:"dropdown-item"+(!1===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,!1)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-false")))))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return r.deleteScopeOverride(t,e.name)},title:i.a.t("admin.mod-scope-override-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["additional-parameters"].forEach((function(e,t){var a=r.state.errorList["additional-parameters"]&&r.state.errorList["additional-parameters"][t]&&r.state.errorList["additional-parameters"][t].user,o=r.state.errorList["additional-parameters"]&&r.state.errorList["additional-parameters"][t]&&r.state.errorList["additional-parameters"][t].token;l.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e["user-parameter"]||i.a.t("admin.mod-additional-parameter-new")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-user-parameter"))),n.a.createElement("input",{type:"text",className:a?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"],onChange:function(e){return r.setAdditionalPropertyUserParameter(e,t)},value:e["user-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-user-parameter-ph")}),a?n.a.createElement("span",{className:"error-input"},r.state.errorList["additional-parameters"][t].user):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-token-parameter"))),n.a.createElement("input",{type:"text",className:o?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"],onChange:function(e){return r.setAdditionalPropertyTokenParameter(e,t)},value:e["token-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-token-parameter-ph")})),o?n.a.createElement("span",{className:"error-input"},r.state.errorList["additional-parameters"][t].token):""),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.deleteAdditionalProperty(e,t)},title:i.a.t("admin.mod-additional-parameter-token-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))}));var b=[n.a.createElement("a",{className:"dropdown-item",key:-1,href:"#",onClick:function(e){return r.addAllowedScope(e,!1)}},i.a.t("admin.mod-glwd-allowed-scope-all"))];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["allowed-scope"].indexOf(e.name)&&"openid"!==e.name&&b.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addAllowedScope(t,e.name)}},e.name))}));var y=[];this.state.mod.parameters["allowed-scope"].forEach((function(e,t){y.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteAllowedScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var v=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["name-claim-scope"].indexOf(e.name)&&v.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addNameScope(t,e.name)}},e.name))}));var E=[];this.state.mod.parameters["name-claim-scope"].forEach((function(e,t){E.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteNameScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var w=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["email-claim-scope"].indexOf(e.name)&&w.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addEmailScope(t,e.name)}},e.name))}));var N=[];this.state.mod.parameters["email-claim-scope"].forEach((function(e,t){N.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteEmailScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),this.state.mod.parameters["jwks-x5c"].forEach((function(e,t){m.push(n.a.createElement("a",{disabled:!r.state.mod.parameters["jwks-show"],href:"#",key:t,onClick:function(e){return r.handleRemoveX5c(e,t)}},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e.substring(0,40),n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),this.state.mod.parameters.claims.forEach((function(e,t){var a=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t].name,o=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["user-property"],s=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["boolean-value-true"],l=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["boolean-value-false"],m="";"boolean"===e.type&&(m=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-boolean-value-true-"+e.name},i.a.t("admin.mod-glwd-claims-boolean-value-true"))),n.a.createElement("input",{type:"text",className:s?"form-control is-invalid":"form-control",id:"mod-glwd-claims-boolean-value-true-"+e.name,onChange:function(e){return r.setClaimBooleanTrue(e,t)},value:e["boolean-value-true"],placeholder:i.a.t("admin.mod-glwd-claims-boolean-value-true-ph")}),s?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["boolean-value-true"]):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-boolean-value-false-"+e.name},i.a.t("admin.mod-glwd-claims-boolean-value-false"))),n.a.createElement("input",{type:"text",className:l?"form-control is-invalid":"form-control",id:"mod-glwd-claims-boolean-value-false-"+e.name,onChange:function(e){return r.setClaimBooleanFalse(e,t)},value:e["boolean-value-false"],placeholder:i.a.t("admin.mod-glwd-claims-boolean-value-false-ph")}),l?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["boolean-value-false"]):""))));var d=[];r.state.config.scopes.forEach((function(a,o){-1===e.scope.indexOf(a.name)&&d.push(n.a.createElement("a",{className:"dropdown-item",key:o,href:"#",onClick:function(e){return r.addScopeClaim(e,t,a.name)}},a.name))}));var p=[];e.scope.forEach((function(e,a){p.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteScopeClaim(e,t,a)},key:a},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),c.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e.name||i.a.t("admin.mod-claims-new")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-name-"+e.name},i.a.t("admin.mod-glwd-claims-name"))),n.a.createElement("input",{type:"text",className:a?"form-control is-invalid":"form-control",id:"mod-glwd-claims-name-"+e.name,onChange:function(e){return r.setClaimName(e,t)},value:e.name,placeholder:i.a.t("admin.mod-glwd-claims-name-ph")}),a?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t].name):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-user-property-"+e.name},i.a.t("admin.mod-glwd-claims-user-property"))),n.a.createElement("input",{type:"text",className:o?"form-control is-invalid":"form-control",id:"mod-glwd-claims-user-property-"+e.name,onChange:function(e){return r.setClaimUserProperty(e,t)},value:e["user-property"],placeholder:i.a.t("admin.mod-glwd-claims-user-property-ph")}),o?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["user-property"]):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-type"},i.a.t("admin.mod-glwd-claims-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-claims-type-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-claims-type-"+e.type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-claims-type"},n.a.createElement("a",{className:"dropdown-item"+("string"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"string")}},i.a.t("admin.mod-glwd-claims-type-string")),n.a.createElement("a",{className:"dropdown-item"+("number"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"number")}},i.a.t("admin.mod-glwd-claims-type-number")),n.a.createElement("a",{className:"dropdown-item"+("boolean"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"boolean")}},i.a.t("admin.mod-glwd-claims-type-boolean"))))),m,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-claims-mandatory-"+e.name,onChange:function(e){return r.toggleClaimMandatory(e,t)},checked:e.mandatory}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-claims-mandatory-"+e.name},i.a.t("admin.mod-glwd-claims-mandatory"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-claims-on-demand-"+e.name,onChange:function(e){return r.toggleClaimOnDemand(e,t)},checked:e["on-demand"],disabled:e.mandatory}),n.a.createElement("label",{disabled:!0,className:"form-check-label",htmlFor:"mod-glwd-claims-on-demand-"+e.name},i.a.t("admin.mod-glwd-claims-on-demand"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-claim"},i.a.t("admin.mod-glwd-scope-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:e.mandatory},i.a.t("admin.mod-glwd-scope-claim-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},d)),p))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.deleteClaim(e,t)},title:i.a.t("admin.mod-claims-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),"no"!==this.state.mod.parameters["address-claim"].type&&(a=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-formatted"},i.a.t("admin.mod-glwd-addr-claim-formatted"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-formatted",onChange:function(e){return r.changeAddressClaimParam(e,"formatted")},value:this.state.mod.parameters["address-claim"].formatted,placeholder:i.a.t("admin.mod-glwd-addr-claim-formatted-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-street-address"},i.a.t("admin.mod-glwd-addr-claim-street-address"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-street-address",onChange:function(e){return r.changeAddressClaimParam(e,"street_address")},value:this.state.mod.parameters["address-claim"].street_address,placeholder:i.a.t("admin.mod-glwd-addr-claim-street-address-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-locality"},i.a.t("admin.mod-glwd-addr-claim-locality"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-locality",onChange:function(e){return r.changeAddressClaimParam(e,"locality")},value:this.state.mod.parameters["address-claim"].locality,placeholder:i.a.t("admin.mod-glwd-addr-claim-locality-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-region"},i.a.t("admin.mod-glwd-addr-claim-region"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-region",onChange:function(e){return r.changeAddressClaimParam(e,"region")},value:this.state.mod.parameters["address-claim"].region,placeholder:i.a.t("admin.mod-glwd-addr-claim-region-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-postal-code"},i.a.t("admin.mod-glwd-addr-claim-postal-code"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-postal-code",onChange:function(e){return r.changeAddressClaimParam(e,"postal_code")},value:this.state.mod.parameters["address-claim"].postal_code,placeholder:i.a.t("admin.mod-glwd-addr-claim-postal-code-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-country"},i.a.t("admin.mod-glwd-addr-claim-country"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-country",onChange:function(e){return r.changeAddressClaimParam(e,"country")},value:this.state.mod.parameters["address-claim"].country,placeholder:i.a.t("admin.mod-glwd-addr-claim-country-ph")}))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-addr-claim-mandatory",onChange:function(e){return r.toggleAddrClaimMandatory(e)},checked:this.state.mod.parameters["address-claim"].mandatory}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-addr-claim-mandatory"},i.a.t("admin.mod-glwd-addr-claim-mandatory")))));var k=[],C=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){k.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"introspection-revocation-auth-scope",e)},disabled:!r.state.mod.parameters["introspection-revocation-allowed"]},e))}))})),this.state.mod.parameters["introspection-revocation-auth-scope"].forEach((function(e,t){r.state.mod.parameters["introspection-revocation-allowed"]?C.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"introspection-revocation-auth-scope",t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):C.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var S=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["introspection-revocation-allowed"]},i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},k),n.a.createElement("div",null,C)),P=[],x=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){P.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"register-client-auth-scope",e)},disabled:!r.state.mod.parameters["register-client-allowed"]},e))}))})),this.state.mod.parameters["register-client-auth-scope"].length||x.push(n.a.createElement("span",{key:0,className:"badge badge-danger btn-icon-right"},i.a.t("admin.mod-glwd-register-client-auth-scope-open"))),this.state.mod.parameters["register-client-auth-scope"].forEach((function(e,t){r.state.mod.parameters["register-client-allowed"]?x.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"register-client-auth-scope",t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):x.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var M=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},P),n.a.createElement("div",null,x)),_=[],L=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){_.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"register-client-credentials-scope",e)},disabled:!r.state.mod.parameters["register-client-allowed"]},e))}))})),this.state.mod.parameters["register-client-credentials-scope"].forEach((function(e,t){r.state.mod.parameters["register-client-allowed"]?L.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"register-client-credentials-scope",t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):L.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var j=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},_),n.a.createElement("div",null,L));return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-oidc-config"))),n.a.createElement("code",null,p))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-auth"))),n.a.createElement("code",null,u))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-token"))),n.a.createElement("code",null,h))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-userinfo"))),n.a.createElement("code",null,f))),n.a.createElement("hr",null),n.a.createElement("div",{className:"accordion",id:"accordionGenral"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseGenral","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList.general?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oidc-general-title")))),n.a.createElement("div",{id:"collapseGenral",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionGenral"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-iss"},i.a.t("admin.mod-glwd-iss"))),n.a.createElement("input",{type:"text",className:this.state.errorList.iss?"form-control is-invalid":"form-control",id:"mod-glwd-iss",onChange:function(e){return r.changeParam(e,"iss")},value:this.state.mod.parameters.iss,placeholder:i.a.t("admin.mod-glwd-iss-ph")})),this.state.errorList.iss?n.a.createElement("span",{className:"error-input"},this.state.errorList.iss):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-secret-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-secret-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-secret-type-"+this.state.mod.parameters["secret-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-secret-type"},n.a.createElement("a",{className:"dropdown-item"+("public"===this.state.mod.parameters["secret-type"]?" active":""),href:"#",onClick:function(e){return r.changeSecretType(e,"public")}},i.a.t("admin.mod-glwd-secret-type-public")),n.a.createElement("a",{className:"dropdown-item"+("pairwise"===this.state.mod.parameters["secret-type"]?" active":""),href:"#",onClick:function(e){return r.changeSecretType(e,"pairwise")}},i.a.t("admin.mod-glwd-secret-type-pairwise")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-allowed-scope"},i.a.t("admin.mod-glwd-allowed-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-allowed-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},b)),y)))))),n.a.createElement("div",{className:"accordion",id:"accordionSignature"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSignature","aria-expanded":"true","aria-controls":"collapseSignature"},this.state.errorList.signature?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-sign-title")))),n.a.createElement("div",{id:"collapseSignature",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSignature"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("h5",null,i.a.t("admin.mod-glwd-specify-jwks"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-uri"},i.a.t("admin.mod-glwd-jwks-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwks-uri",onChange:function(e){return r.changeParam(e,"jwks-uri")},value:this.state.mod.parameters["jwks-uri"],placeholder:i.a.t("admin.mod-glwd-jwks-uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-private"},i.a.t("admin.mod-glwd-jwks"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-jwks-private",className:"custom-file-input",onChange:function(e){return r.uploadFile(e,"jwks-private")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-private"},i.a.t("admin.choose-file"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("textarea",{className:"form-control",id:"mod-glwd-jwks-private",onChange:function(e){return r.changeParam(e,"jwks-private")}},this.state.mod.parameters["jwks-private"]))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-default-kid"},i.a.t("admin.mod-glwd-default-kid"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-default-kid",onChange:function(e){return r.changeParam(e,"default-kid")},value:this.state.mod.parameters["default-kid"],placeholder:i.a.t("admin.mod-glwd-default-kid-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-client-sign_kid-parameter"},i.a.t("admin.mod-glwd-client-sign_kid-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-client-sign_kid-parameter",onChange:function(e){return r.changeParam(e,"client-sign_kid-parameter")},value:this.state.mod.parameters["client-sign_kid-parameter"],placeholder:i.a.t("admin.mod-glwd-client-sign_kid-parameter-ph")}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("h5",null,i.a.t("admin.mod-glwd-specify-keys"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-jwt-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-type-"+this.state.mod.parameters["jwt-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+("rsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"rsa")}},i.a.t("admin.mod-glwd-jwt-type-rsa")),n.a.createElement("a",{className:"dropdown-item"+("ecdsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"ecdsa")}},i.a.t("admin.mod-glwd-jwt-type-ecdsa")),n.a.createElement("a",{className:"dropdown-item"+("sha"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"sha")}},i.a.t("admin.mod-glwd-jwt-type-sha")),n.a.createElement("a",{className:"dropdown-item"+("rsa-pss"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"rsa-pss")}},i.a.t("admin.mod-glwd-jwt-type-rsa-pss")),n.a.createElement("a",{className:"dropdown-item"+("eddsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"eddsa")}},i.a.t("admin.mod-glwd-jwt-type-eddsa"))))),this.state.errorList["jwt-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-key-size"},i.a.t("admin.mod-glwd-jwt-key-size"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-key-size","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:"eddsa"===this.state.mod.parameters["jwt-type"]},i.a.t("admin.mod-glwd-jwt-key-size-"+this.state.mod.parameters["jwt-key-size"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("256"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"256")}},i.a.t("admin.mod-glwd-jwt-key-size-256")),n.a.createElement("a",{className:"dropdown-item"+("384"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"384")}},i.a.t("admin.mod-glwd-jwt-key-size-384")),n.a.createElement("a",{className:"dropdown-item"+("512"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"512")}},i.a.t("admin.mod-glwd-jwt-key-size-512"))))),this.state.errorList["jwt-key-size"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-key-size"]):""),e,t)))),n.a.createElement("div",{className:"accordion",id:"accordionToken"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseToken","aria-expanded":"true","aria-controls":"collapseToken"},this.state.errorList.general?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-token-title")))),n.a.createElement("div",{id:"collapseToken",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionToken"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-access-token-duration"},i.a.t("admin.mod-glwd-access-token-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["access-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-access-token-duration",onChange:function(e){return r.changeNumberParam(e,"access-token-duration")},value:this.state.mod.parameters["access-token-duration"],placeholder:i.a.t("admin.mod-glwd-access-token-duration-ph")})),this.state.errorList["access-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["access-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-duration"},i.a.t("admin.mod-glwd-refresh-token-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["refresh-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-refresh-token-duration",onChange:function(e){return r.changeNumberParam(e,"refresh-token-duration")},value:this.state.mod.parameters["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-refresh-token-duration-ph")})),this.state.errorList["refresh-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["refresh-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-code-duration"},i.a.t("admin.mod-glwd-code-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-code-duration",onChange:function(e){return r.changeNumberParam(e,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-glwd-code-duration-ph")})),this.state.errorList["code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-refresh-token-rolling",onChange:function(e){return r.toggleParam(e,"refresh-token-rolling")},checked:this.state.mod.parameters["refresh-token-rolling"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-refresh-token-rolling"},i.a.t("admin.mod-glwd-refresh-token-rolling"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-one-use"},i.a.t("admin.mod-glwd-refresh-token-one-use"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-refresh-token-one-use","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-refresh-token-one-use-"+this.state.mod.parameters["refresh-token-one-use"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-refresh-token-one-use"},n.a.createElement("a",{className:"dropdown-item"+("never"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("refresh-token-one-use","never")}},i.a.t("admin.mod-glwd-refresh-token-one-use-never")),n.a.createElement("a",{className:"dropdown-item"+("always"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("refresh-token-one-use","always")}},i.a.t("admin.mod-glwd-refresh-token-one-use-always")),n.a.createElement("a",{className:"dropdown-item"+("client-driven"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("refresh-token-one-use","client-driven")}},i.a.t("admin.mod-glwd-refresh-token-one-use-client-driven")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-client-refresh-token-one-use-parameter"},i.a.t("admin.mod-glwd-client-refresh-token-one-use-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-client-refresh-token-one-use-parameter-parameter",onChange:function(e){return r.changeParam(e,"client-refresh-token-one-use-parameter")},value:this.state.mod.parameters["client-refresh-token-one-use-parameter"],placeholder:i.a.t("admin.mod-glwd-client-refresh-token-one-use-parameter-ph"),disabled:"client-driven"!==this.state.mod.parameters["refresh-token-one-use"]})))))),n.a.createElement("div",{className:"accordion",id:"accordionAuthType"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAuthType","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList.token?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-auth-type-title")))),n.a.createElement("div",{id:"collapseAuthType",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAuthType"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-allow-non-oidc",onChange:function(e){return r.toggleParam(e,"allow-non-oidc")},checked:this.state.mod.parameters["allow-non-oidc"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-allow-non-oidc"},i.a.t("admin.mod-glwd-allow-non-oidc")))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-code-enabled")},checked:this.state.mod.parameters["auth-type-code-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-enabled"},i.a.t("admin.mod-glwd-auth-type-code-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-token-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-token-enabled")},checked:this.state.mod.parameters["auth-type-token-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-token-enabled"},i.a.t("admin.mod-glwd-auth-type-token-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{disabled:!0,type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-id-token-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-id-token-enabled")},checked:this.state.mod.parameters["auth-type-id-token-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-id-token-enabled"},i.a.t("admin.mod-glwd-auth-type-id-token-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-none-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-none-enabled")},checked:this.state.mod.parameters["auth-type-none-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-none-enabled"},i.a.t("admin.mod-glwd-auth-type-none-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-password-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-password-enabled")},checked:this.state.mod.parameters["auth-type-password-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-password-enabled"},i.a.t("admin.mod-glwd-auth-type-password-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-client-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-client-enabled")},checked:this.state.mod.parameters["auth-type-client-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-client-enabled"},i.a.t("admin.mod-glwd-auth-type-client-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-device-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-device-enabled")},checked:this.state.mod.parameters["auth-type-device-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-device-enabled"},i.a.t("admin.mod-glwd-auth-type-device-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-refresh-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-refresh-enabled")},checked:this.state.mod.parameters["auth-type-refresh-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-refresh-enabled"},i.a.t("admin.mod-glwd-auth-type-refresh-enabled"))))))),n.a.createElement("div",{className:"accordion",id:"accordionOpenidConfig"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOpenidConfig","aria-expanded":"true","aria-controls":"collapseOpenidConfig"},this.state.errorList.configuration?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-openid-configuration-title")))),n.a.createElement("div",{id:"collapseOpenidConfig",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionOpenidConfig"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-service-documentation"},i.a.t("admin.mod-glwd-service-documentation"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-service-documentation",onChange:function(e){return r.changeParam(e,"service-documentation")},value:this.state.mod.parameters["service-documentation"],placeholder:i.a.t("admin.mod-glwd-service-documentation-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-op-policy-uri"},i.a.t("admin.mod-glwd-op-policy-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-op-policy-uri",onChange:function(e){return r.changeParam(e,"op-policy-uri")},value:this.state.mod.parameters["op-policy-uri"],placeholder:i.a.t("admin.mod-glwd-op-policy-uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-op-tos-uri"},i.a.t("admin.mod-glwd-op-tos-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-op-tos-uri",onChange:function(e){return r.changeParam(e,"op-tos-uri")},value:this.state.mod.parameters["op-tos-uri"],placeholder:i.a.t("admin.mod-glwd-op-tos-uri-ph")}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("h5",null,i.a.t("admin.mod-glwd-jwks-title"))))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-jwks-show",onChange:function(e){return r.toggleParam(e,"jwks-show")},checked:this.state.mod.parameters["jwks-show"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-jwks-show"},i.a.t("admin.mod-glwd-jwks-show"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-x5c"},i.a.t("admin.mod-glwd-jwks-x5c"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{disabled:!this.state.mod.parameters["jwks-show"],type:"file",className:"custom-file-input",id:"mod-glwd-jwks-x5c",onChange:function(e){return r.uploadX5cFile(e)}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-x5c"},i.a.t("admin.choose-file")))),m))))),n.a.createElement("div",{className:"accordion",id:"accordionScope"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["scope-override"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-scope-override")))),n.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionScope"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-scope-override-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},g),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeOverride,title:i.a.t("admin.mod-glwd-scope-add")},n.a.createElement("i",{className:"fas fa-plus"}))),o)))),n.a.createElement("div",{className:"accordion",id:"accordionAddParam"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAdditionalParam","aria-expanded":"true","aria-controls":"collapseAdditionalParam"},this.state.errorList["additional-parameters"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-additional-parameter")))),n.a.createElement("div",{id:"collapseAdditionalParam",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAddParam"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-additional-parameter-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addAdditionalParameter,title:i.a.t("admin.mod-glwd-additional-parameter-add")},n.a.createElement("i",{className:"fas fa-plus"}))),l)))),n.a.createElement("div",{className:"accordion",id:"accordionAddClaim"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddClaim","aria-expanded":"true","aria-controls":"collapseAddParam"},this.state.errorList.claims?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-claims")))),n.a.createElement("div",{id:"collapseAddClaim",className:"collapse","aria-labelledby":"addClaimCard","data-parent":"#accordionAddClaim"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-claims-message")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-claim"},i.a.t("admin.mod-glwd-name-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["name-claim"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("name-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("name-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("name-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-scope"},i.a.t("admin.mod-glwd-name-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},v)),E)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-email-claim"},i.a.t("admin.mod-glwd-email-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-email-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["email-claim"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("email-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("email-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(){return r.changeParamWithValue("email-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-scope"},i.a.t("admin.mod-glwd-email-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},w)),N)),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addClaim,title:i.a.t("admin.mod-glwd-claim-add")},n.a.createElement("i",{className:"fas fa-plus"}))),c)))),n.a.createElement("div",{className:"accordion",id:"accordionAddressClaim"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddressClaim","aria-expanded":"true","aria-controls":"collapseAddressClaim"},i.a.t("admin.mod-glwd-address-claim")))),n.a.createElement("div",{id:"collapseAddressClaim",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionAddressClaim"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-address-claim-message")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mod-glwd-address-claim"},i.a.t("admin.mod-glwd-address-claim-use"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-address-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["address-claim"].type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-address-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),a)))),n.a.createElement("div",{className:"accordion",id:"accordionJwtRequestPubkey"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseJwtRequestPubkey","aria-expanded":"true","aria-controls":"collapseJwtRequestPubkey"},i.a.t("admin.mod-glwd-jwt-request-pubkey")))),n.a.createElement("div",{id:"collapseJwtRequestPubkey",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionJwtRequestPubkey"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-allow",onChange:function(e){return r.toggleParam(e,"request-parameter-allow")},checked:this.state.mod.parameters["request-parameter-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-allow"},i.a.t("admin.mod-glwd-request-parameter-allow"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-encryption-allow",onChange:function(e){return r.toggleParam(e,"request-parameter-encryption-allow")},checked:this.state.mod.parameters["request-parameter-encryption-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-encryption-allow"},i.a.t("admin.mod-glwd-request-parameter-encryption-allow"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-uri-allow-https-non-secure",onChange:function(e){return r.toggleParam(e,"request-uri-allow-https-non-secure")},checked:this.state.mod.parameters["request-uri-allow-https-non-secure"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-uri-allow-https-non-secure"},i.a.t("admin.mod-glwd-request-uri-allow-https-non-secure"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-maximum-exp"},i.a.t("admin.mod-glwd-jwt-request-maximum-exp"))),n.a.createElement("input",{type:"number",className:"form-control",id:"mod-glwd-jwt-request-maximum-exp",onChange:function(e){return r.changeParam(e,"request-maximum-exp",1)},value:this.state.mod.parameters["request-maximum-exp"],placeholder:i.a.t("admin.mod-glwd-jwt-request-maximum-exp-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-pubkey-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-pubkey-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-pubkey-parameter",onChange:function(e){return r.changeParam(e,"client-pubkey-parameter")},value:this.state.mod.parameters["client-pubkey-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-pubkey-parameter-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-jwks-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-jwks-parameter",onChange:function(e){return r.changeParam(e,"client-jwks-parameter")},value:this.state.mod.parameters["client-jwks-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks-parameter-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter",onChange:function(e){return r.changeParam(e,"client-jwks_uri-parameter")},value:this.state.mod.parameters["client-jwks_uri-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter-ph")}))))))),n.a.createElement("div",{className:"accordion",id:"accordionEncryptOutToken"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseEncryptOutToken","aria-expanded":"true","aria-controls":"collapseEncryptOutToken"},i.a.t("admin.mod-glwd-jwt-request-encrypt-out-tokens")))),n.a.createElement("div",{id:"collapseEncryptOutToken",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionEncryptOutToken"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-encrypt-out-token-allow",onChange:function(e){return r.toggleParam(e,"encrypt-out-token-allow")},checked:this.state.mod.parameters["encrypt-out-token-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-encrypt-out-token-allow"},i.a.t("admin.mod-glwd-encrypt-out-token-allow"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-enc-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-enc-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-enc-parameter",onChange:function(e){return r.changeParam(e,"client-enc-parameter")},value:this.state.mod.parameters["client-enc-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-enc-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-alg-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-alg-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-alg-parameter",onChange:function(e){return r.changeParam(e,"client-alg-parameter")},value:this.state.mod.parameters["client-alg-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-alg-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-alg_kid-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-alg_kid-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-alg_kid-parameter",onChange:function(e){return r.changeParam(e,"client-alg_kid-parameter")},value:this.state.mod.parameters["client-alg_kid-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-alg_kid-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_code-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_code-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_code-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_code-parameter")},value:this.state.mod.parameters["client-encrypt_code-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_code-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_at-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_at-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_at-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_at-parameter")},value:this.state.mod.parameters["client-encrypt_at-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_at-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_userinfo-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_userinfo-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_userinfo-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_userinfo-parameter")},value:this.state.mod.parameters["client-encrypt_userinfo-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_userinfo-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_id_token-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_id_token-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_id_token-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_id_token-parameter")},value:this.state.mod.parameters["client-encrypt_id_token-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_id_token-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_refresh_token-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_refresh_token-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_refresh_token-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_refresh_token-parameter")},value:this.state.mod.parameters["client-encrypt_refresh_token-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_refresh_token-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_introspection-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_introspection-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_introspection-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_introspection-parameter")},value:this.state.mod.parameters["client-encrypt_introspection-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_introspection-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))))))),n.a.createElement("div",{className:"accordion",id:"accordionPkce"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePkce","aria-expanded":"true","aria-controls":"collapsePkce"},this.state.errorList.pkce?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-pkce-title")))),n.a.createElement("div",{id:"collapsePkce",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPkce"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-allowed",onChange:function(e){return r.toggleParam(e,"pkce-allowed")},checked:this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-allowed"},i.a.t("admin.mod-glwd-pkce-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-method-plain-allowed",onChange:function(e){return r.toggleParam(e,"pkce-method-plain-allowed")},checked:this.state.mod.parameters["pkce-method-plain-allowed"],disabled:!this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-method-plain-allowed"},i.a.t("admin.mod-glwd-pkce-method-plain-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionIntrospect"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseIntrospect","aria-expanded":"true","aria-controls":"collapseIntrospect"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-introspection-revocation-title")))),n.a.createElement("div",{id:"collapseIntrospect",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionIntrospect"},n.a.createElement("div",{className:"card-body"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["introspection-revocation"])):"",n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allowed",onChange:function(e){return r.toggleParam(e,"introspection-revocation-allowed")},checked:this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allowed"},i.a.t("admin.mod-glwd-introspection-revocation-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allow-target-client",onChange:function(e){return r.toggleParam(e,"introspection-revocation-allow-target-client")},checked:this.state.mod.parameters["introspection-revocation-allow-target-client"],disabled:!this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allow-target-client"},i.a.t("admin.mod-glwd-introspection-revocation-allow-target-client"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-introspection-revocation-scope-required"))),S)))))),n.a.createElement("div",{className:"accordion",id:"accordionRegister"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRegister","aria-expanded":"true","aria-controls":"collapseRegister"},this.state.errorList.registration?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-registration-title")))),n.a.createElement("div",{id:"collapseRegister",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionRegister"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-allowed",onChange:function(e){return r.toggleParam(e,"register-client-allowed")},checked:this.state.mod.parameters["register-client-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-allowed"},i.a.t("admin.mod-glwd-register-client-allowed"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-register-client-auth-scope"))),M)),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-register-client-credentials-scope"))),j)),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-management-allowed",onChange:function(e){return r.toggleParam(e,"register-client-management-allowed")},checked:this.state.mod.parameters["register-client-management-allowed"],disabled:!this.state.mod.parameters["register-client-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-management-allowed"},i.a.t("admin.mod-glwd-register-client-management-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionSessionManagement"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSessionManagement","aria-expanded":"true","aria-controls":"collapseSessionManagement"},i.a.t("admin.mod-glwd-session-management-title")))),n.a.createElement("div",{id:"collapseSessionManagement",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSessionManagement"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-session-management-allowed",onChange:function(e){return r.toggleParam(e,"session-management-allowed")},checked:this.state.mod.parameters["session-management-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-session-management-allowed"},i.a.t("admin.mod-glwd-session-management-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionDeviceAuthorization"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDeviceAuthorization","aria-expanded":"true","aria-controls":"collapseDeviceAuthorization"},i.a.t("admin.mod-glwd-device-authorization-title")))),n.a.createElement("div",{id:"collapseDeviceAuthorization",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDeviceAuthorization"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-expiration"},i.a.t("admin.mod-glwd-device-authorization-expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-expiration",onChange:function(e){return r.changeNumberParam(e,"device-authorization-expiration")},value:this.state.mod.parameters["device-authorization-expiration"],placeholder:i.a.t("admin.mod-glwd-device-authorization-expiration-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-interval"},i.a.t("admin.mod-glwd-device-authorization-interval"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-interval",onChange:function(e){return r.changeNumberParam(e,"device-authorization-interval")},value:this.state.mod.parameters["device-authorization-interval"],placeholder:i.a.t("admin.mod-glwd-device-authorization-interval-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))))))),n.a.createElement("div",{className:"accordion",id:"accordionMtlsClient"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseMtlsClient","aria-expanded":"true","aria-controls":"collapseMtlsClient"},i.a.t("admin.mod-glwd-mtls-client-title")))),n.a.createElement("div",{id:"collapseMtlsClient",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionMtlsClient"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mod-glwd-mtls-client-source"},i.a.t("admin.mod-glwd-mtls-client-source"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-mtls-client-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-mtls-client-source-"+(this.state.mod.parameters["client-cert-source"]?this.state.mod.parameters["client-cert-source"]:"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-mtls-client-source"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["client-cert-source"]?"":" active"),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,!1)}},i.a.t("admin.mod-glwd-mtls-client-source-no")),n.a.createElement("a",{className:"dropdown-item"+("TLS"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"TLS")}},i.a.t("admin.mod-glwd-mtls-client-source-TLS")),n.a.createElement("a",{className:"dropdown-item"+("header"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"header")}},i.a.t("admin.mod-glwd-mtls-client-source-header")),n.a.createElement("a",{className:"dropdown-item"+("both"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"both")}},i.a.t("admin.mod-glwd-mtls-client-source-both")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-mtls-client-cert-header-name"},i.a.t("admin.mod-glwd-mtls-client-cert-header-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-mtls-client-cert-header-name",onChange:function(e){return r.changeParam(e,"client-cert-header-name")},value:this.state.mod.parameters["client-cert-header-name"],placeholder:i.a.t("admin.mod-glwd-mtls-client-cert-header-name-ph"),disabled:!this.state.mod.parameters["client-cert-source"]||"TLS"===this.state.mod.parameters["client-cert-source"]}))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-mtls-client-cert-use-endpoint-aliases",onChange:function(e){return r.toggleParam(e,"client-cert-use-endpoint-aliases")},checked:this.state.mod.parameters["client-cert-use-endpoint-aliases"],disabled:!this.state.mod.parameters["client-cert-source"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-mtls-client-cert-use-endpoint-aliases"},i.a.t("admin.mod-glwd-mtls-client-cert-use-endpoint-aliases"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-mtls-client-cert-self-signed-allowed",onChange:function(e){return r.toggleParam(e,"client-cert-self-signed-allowed")},checked:this.state.mod.parameters["client-cert-self-signed-allowed"],disabled:!this.state.mod.parameters["client-cert-source"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-mtls-client-cert-self-signed-allowed"},i.a.t("admin.mod-glwd-mtls-client-cert-self-signed-allowed"))))))))}}])&&ta(e.prototype,t),o}();function sa(e){return(sa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ia(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ca(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ma(e){return(ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var da=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=ma(e);return r=this,!(n=t?(a=ma(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==sa(n)&&"function"!=typeof n?ca(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),t=a.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["verification-code-length"]||(e.mod.parameters["verification-code-length"]=8),e.mod.parameters["verification-code-duration"]||(e.mod.parameters["verification-code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters["verify-email"]&&(e.mod.parameters["verify-email"]=!1),void 0===e.mod.parameters["email-is-username"]&&(e.mod.parameters["email-is-username"]=!1),void 0===e.mod.parameters.scope&&(e.mod.parameters.scope=[e.config.profile_scope]),e.mod.parameters["set-password"]||(e.mod.parameters["set-password"]="always"),void 0===e.mod.parameters.schemes&&(e.mod.parameters.schemes=[]),e.mod.parameters["session-key"]||(e.mod.parameters["session-key"]="G_REGISTER_SESSION"),e.mod.parameters["session-duration"]||(e.mod.parameters["session-duration"]=3600),e.mod.parameters.subject||(e.mod.parameters.subject="Confirm registration"),e.mod.parameters["content-type"]||(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"Confirm registration","body-pattern":e.mod.parameters["body-pattern"]||"The code is {CODE}\n\n"+window.location.href.split("?")[0].split("#")[0]+"/profile.html?register=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),t.state={config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},currentLang:i.a.language,newLang:""},t.state.check&&t.checkParameters(),t.checkParameters=t.checkParameters.bind(ca(t)),t.addScope=t.addScope.bind(ca(t)),t.deleteScope=t.deleteScope.bind(ca(t)),t.addScheme=t.addScheme.bind(ca(t)),t.changeLang=t.changeLang.bind(ca(t)),t.toggleLangDefault=t.toggleLangDefault.bind(ca(t)),t.changeNewLang=t.changeNewLang.bind(ca(t)),t.addLang=t.addLang.bind(ca(t)),t.removeLang=t.removeLang.bind(ca(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),e.mod.parameters["verification-code-length"]||(e.mod.parameters["verification-code-length"]=8),e.mod.parameters["verification-code-duration"]||(e.mod.parameters["verification-code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters["verify-email"]&&(e.mod.parameters["verify-email"]=!1),void 0===e.mod.parameters["email-is-username"]&&(e.mod.parameters["email-is-username"]=!1),void 0===e.mod.parameters.scope&&(e.mod.parameters.scope=[e.config.profile_scope]),e.mod.parameters["set-password"]||(e.mod.parameters["set-password"]="always"),void 0===e.mod.parameters.schemes&&(e.mod.parameters.schemes=[]),e.mod.parameters["session-key"]||(e.mod.parameters["session-key"]="G_REGISTER_SESSION"),e.mod.parameters["session-duration"]||(e.mod.parameters["session-duration"]=3600),e.mod.parameters["content-type"]||(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"Confirm registration","body-pattern":e.mod.parameters["body-pattern"]||"The code is {CODE}\n\n"+window.location.href.split("?")[0].split("#")[0]+"/profile.html?register=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),this.setState({config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"addScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.scope.push(t),this.setState({mod:a})}},{key:"deleteScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.scope.splice(t,1),this.setState({mod:a})}},{key:"setPassword",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["set-password"]=t,this.setState({mod:a})}},{key:"addScheme",value:function(){var e=this,t=!1,a=this.state.mod;this.state.modSchemes.forEach((function(r,n){var o=!1;e.state.mod.parameters.schemes.forEach((function(e){r.name===e.name&&(o=!0)})),o||t||(a.parameters.schemes.push({module:r.module,name:r.name,display_name:r.display_name,register:"yes"}),t=!0)})),this.setState({mod:a})}},{key:"deleteScheme",value:function(e){var t=this.state.mod;t.parameters.schemes.splice(e,1),this.setState({mod:t})}},{key:"setSchemeName",value:function(e,t,a){e.preventDefault();var r=this.state.mod;this.state.modSchemes.forEach((function(e){e.name===a&&(r.parameters.schemes[t].module=e.module,r.parameters.schemes[t].name=e.name,r.parameters.schemes[t].display_name=e.display_name)})),this.setState({mod:r})}},{key:"setSchemeRegister",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.schemes[t].register=a,this.setState({mod:r})}},{key:"changeNewLang",value:function(e){this.setState({newLang:e.target.value})}},{key:"addLang",value:function(){var e=this,t=this.state.mod,a=!1;Object.keys(t.parameters.templates).forEach((function(t){t===e.state.newLang&&(a=!0)})),!a&&this.state.newLang&&(t.parameters.templates[this.state.newLang]={subject:"","body-pattern":"",defaultLang:!1},this.setState({mod:t,newLang:"",currentLang:this.state.newLang}))}},{key:"removeLang",value:function(e){var t=this.state.mod,a=!1;delete t.parameters.templates[e],e==this.state.currentLang?(Object.keys(t.parameters.templates).forEach((function(e){a=a||e})),this.setState({mod:t,currentLang:a})):this.setState({mod:t})}},{key:"changeLang",value:function(e,t){var a=this.state.mod;a.parameters.templates[t]||(a.parameters.templates[t]={subject:"","body-pattern":"",defaultLang:!1}),this.setState({currentLang:t})}},{key:"changeTemplate",value:function(e,t){var a=this.state.mod;a.parameters.templates[this.state.currentLang][t]=e.target.value,this.setState({mod:a})}},{key:"toggleLangDefault",value:function(){var e=this,t=this.state.mod;Object.keys(t.parameters.templates).forEach((function(a){t.parameters.templates[a].defaultLang=a===e.state.currentLang})),this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1,r=!1;this.state.mod.parameters["session-key"]||(a=!0,t["session-key"]=i.a.t("admin.mod-register-session-key-error")),this.state.mod.parameters["session-duration"]||(a=!0,t["session-duration"]=i.a.t("admin.mod-register-session-duration-error")),this.state.mod.parameters.scope.length||(a=!0,t.scope=i.a.t("admin.mod-register-scope-error")),this.state.mod.parameters.schemes.forEach((function(e){e.name||(a=!0,t.schemes=i.a.t("admin.mod-register-scheme-error")),"always"===e.register&&(r=!0)})),this.state.mod.parameters["verify-email"]&&(this.state.mod.parameters["verification-code-length"]||(a=!0,t["verification-code-length"]=i.a.t("admin.mod-register-verification-code-length-error")),this.state.mod.parameters["verification-code-duration"]||(a=!0,t["verification-code-duration"]=i.a.t("admin.mod-register-verification-code-duration-error")),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error")),this.state.mod.parameters.from||(a=!0,t.from=i.a.t("admin.mod-email-from-error")),t.subject="",t["body-pattern"]="",Object.keys(this.state.mod.parameters.templates).forEach((function(r){e.state.mod.parameters.templates[r].subject||(a=!0,t.subject+=i.a.t("admin.mod-email-subject-error",{lang:r})),e.state.mod.parameters.templates[r]["body-pattern"]&&e.state.mod.parameters.templates[r]["body-pattern"].search("{CODE}")||(a=!0,t["body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}))}))),"always"===this.state.mod.parameters["set-password"]||r||(a=!0,t["has-mandatory"]=i.a.t("admin.mod-register-has-mandatory-error")),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];t.push(n.a.createElement("div",{key:-2,className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(t){return e.changeNewLang(t)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",onClick:this.addLang,className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),t.push(n.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templates).forEach((function(a,r){t.push(n.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},n.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},a),n.a.createElement("button",{type:"button",onClick:function(){return e.removeLang(a)},className:"btn btn-primary",disabled:e.state.mod.parameters.templates[a].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),n.a.createElement("button",{type:"button",onClick:function(t){return e.changeLang(t,a)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),t.push(n.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))}));var a=[],r=[],o=[];this.state.config.pattern.user.forEach((function(t){"scope"===t.name&&t.listElements.forEach((function(t,r){a.push(n.a.createElement("a",{key:r,className:"dropdown-item",href:"#",onClick:function(a){return e.addScope(a,t)}},t))}))})),this.state.mod.parameters.scope.forEach((function(t,a){r.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(t){return e.deleteScope(t,a)},key:a},n.a.createElement("span",{className:"badge badge-primary"},t,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var s=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},a),n.a.createElement("div",null,r));return this.state.mod.parameters.schemes.forEach((function(t,a){var r=[];e.state.modSchemes.forEach((function(t,o){var s=!1;e.state.mod.parameters.schemes.forEach((function(e){t.name===e.name&&(s=!0)})),s||r.push(n.a.createElement("a",{key:o,className:"dropdown-item",href:"#",onClick:function(r){return e.setSchemeName(r,a,t.name)}},t.display_name))})),o.push(n.a.createElement("div",{className:"form-group",key:a},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-name-"+a},i.a.t("admin.mod-register-scheme-name")),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-name-"+a,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.display_name),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-name"},r))),n.a.createElement("label",{className:"input-group-text btn-icon-left",htmlFor:"mod-register-scheme-register-"+a},i.a.t("admin.mod-register-scheme-register")),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scheme-register-"+a,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-"+("always"===t.register?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scheme-register"},n.a.createElement("a",{className:"dropdown-item"+("always"===t.register?" active":""),href:"#",onClick:function(t){return e.setSchemeRegister(t,a,"always")}},i.a.t("admin.mod-register-yes")),n.a.createElement("a",{className:"dropdown-item"+("yes"===t.register?" active":""),href:"#",onClick:function(t){return e.setSchemeRegister(t,a,"yes")}},i.a.t("admin.mod-register-no"))))),n.a.createElement("button",{className:"btn btn-secondary btn-icon-right",type:"button",onClick:function(){return e.deleteScheme(a)}},n.a.createElement("i",{className:"fas fa-trash"})))))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-session-key"},i.a.t("admin.mod-register-session-key"))),n.a.createElement("input",{type:"text",className:this.state.errorList["session-key"]?"form-control is-invalid":"form-control",id:"mod-register-session-key",onChange:function(t){return e.changeParam(t,"session-key")},value:this.state.mod.parameters["session-key"],placeholder:i.a.t("admin.mod-register-session-key")})),this.state.errorList["session-key"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["session-key"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-session-duration"},i.a.t("admin.mod-register-session-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["session-duration"]?"form-control is-invalid":"form-control",id:"mod-register-session-duration",onChange:function(t){return e.changeParam(t,"session-duration",!0)},value:this.state.mod.parameters["session-duration"],placeholder:i.a.t("admin.mod-register-session-duration-ph")})),this.state.errorList["session-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["session-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-set-password"},i.a.t("admin.mod-register-set-password"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-set-password","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-"+this.state.mod.parameters["set-password"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-set-password"},n.a.createElement("a",{className:"dropdown-item"+("always"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"always")}},i.a.t("admin.mod-register-always")),n.a.createElement("a",{className:"dropdown-item"+("yes"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"yes")}},i.a.t("admin.mod-register-yes")),n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"no")}},i.a.t("admin.mod-register-no")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-register-scope-add"))),s),this.state.errorList.scope?n.a.createElement("span",{className:"error-input"},this.state.errorList.scope):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScheme,disabled:this.state.mod.parameters.schemes.length===this.state.modSchemes.length},i.a.t("admin.mod-register-add-scheme"))),o,this.state.errorList.schemes?n.a.createElement("span",{className:"error-input"},this.state.errorList.schemes):"",n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-verify-email",onChange:function(t){return e.toggleParam(t,"verify-email")},checked:this.state.mod.parameters["verify-email"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-verify-email"},i.a.t("admin.mod-register-verify-email"))),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["verify-email"]?" show":""),id:"verifyEmailCollapse"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["verify-email"],className:"form-check-input",id:"mod-register-email-is-username",onChange:function(t){return e.toggleParam(t,"email-is-username")},checked:this.state.mod.parameters["email-is-username"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-email-is-username"},i.a.t("admin.mod-register-email-is-username"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-verification-code-length"},i.a.t("admin.mod-register-verification-code-length"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["verification-code-length"]?"form-control is-invalid":"form-control",id:"mod-register-verification-code-length",onChange:function(t){return e.changeParam(t,"verification-code-length")},value:this.state.mod.parameters["verification-code-length"],placeholder:i.a.t("admin.mod-register-verification-code-length-ph")})),this.state.errorList["verification-code-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["verification-code-length"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-verification-code-duration"},i.a.t("admin.mod-register-verification-code-duration"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["verification-code-duration"]?"form-control is-invalid":"form-control",id:"mod-register-verification-code-duration",onChange:function(t){return e.changeParam(t,"verification-code-duration")},value:this.state.mod.parameters["verification-code-duration"],placeholder:i.a.t("admin.mod-register-verification-code-duration-ph")})),this.state.errorList["verification-code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["verification-code-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-host"},i.a.t("admin.mod-email-host"))),n.a.createElement("input",{type:"text",className:this.state.errorList.host?"form-control is-invalid":"form-control",id:"mod-register-host",onChange:function(t){return e.changeParam(t,"host")},value:this.state.mod.parameters.host,placeholder:i.a.t("admin.mod-email-host-ph")})),this.state.errorList.host?n.a.createElement("span",{className:"error-input"},this.state.errorList.host):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-port"},i.a.t("admin.mod-email-port"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList.port?"form-control is-invalid":"form-control",id:"mod-register-port",onChange:function(t){return e.changeParam(t,"port",!0)},value:this.state.mod.parameters.port,placeholder:i.a.t("admin.mod-email-port-ph")})),this.state.errorList.port?n.a.createElement("span",{className:"error-input"},this.state.errorList.port):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-use-tls",onChange:function(t){return e.toggleParam(t,"use-tls")},checked:this.state.mod.parameters["use-tls"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-use-tls"},i.a.t("admin.mod-email-use-tls"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["use-tls"],id:"mod-register-check-certificate",onChange:function(t){return e.toggleParam(t,"check-certificate")},checked:this.state.mod.parameters["check-certificate"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-user"},i.a.t("admin.mod-email-user"))),n.a.createElement("input",{type:"text",className:this.state.errorList.user?"form-control is-invalid":"form-control",id:"mod-register-user",onChange:function(t){return e.changeParam(t,"user")},value:this.state.mod.parameters.user,placeholder:i.a.t("admin.mod-email-user-ph")})),this.state.errorList.user?n.a.createElement("span",{className:"error-input"},this.state.errorList.user):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-password"},i.a.t("admin.mod-email-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"mod-register-password",onChange:function(t){return e.changeParam(t,"password")},value:this.state.mod.parameters.password,placeholder:i.a.t("admin.mod-email-password-ph")})),this.state.errorList.password?n.a.createElement("span",{className:"error-input"},this.state.errorList.password):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-from"},i.a.t("admin.mod-email-from"))),n.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-register-from",onChange:function(t){return e.changeParam(t,"from")},value:this.state.mod.parameters.from,placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList.from?n.a.createElement("span",{className:"error-input"},this.state.errorList.from):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-content-type"},i.a.t("admin.mod-email-content-type"))),n.a.createElement("input",{type:"text",className:this.state.errorList["content-type"]?"form-control is-invalid":"form-control",id:"mod-register-content-type",onChange:function(t){return e.changeParam(t,"content-type")},value:this.state.mod.parameters["content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["content-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["content-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLang),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},t)))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(){return e.toggleLangDefault()},checked:this.state.mod.parameters.templates[this.state.currentLang].defaultLang}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),n.a.createElement("input",{type:"text",className:this.state.errorList.subject?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(t){return e.changeTemplate(t,"subject")},value:this.state.mod.parameters.templates[this.state.currentLang].subject,placeholder:i.a.t("admin.mod-email-subject-ph")})),this.state.errorList.subject?n.a.createElement("span",{className:"error-input"},this.state.errorList.subject):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern"))),n.a.createElement("textarea",{className:this.state.errorList["body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern")},placeholder:i.a.t("admin.mod-email-body-pattern-ph"),value:this.state.mod.parameters.templates[this.state.currentLang]["body-pattern"]})),this.state.errorList["body-pattern"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["body-pattern"]):"")),this.state.errorList["has-mandatory"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["has-mandatory"]):"")}}])&&ia(e.prototype,t),o}();function pa(e){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ua(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ha(e,t){return(ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(e){return(fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ga=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ha(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=fa(e);return r=this,!(n=t?(a=fa(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==pa(n)&&"function"!=typeof n?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check},t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check})}},{key:"render",value:function(){return"mock"===this.state.mod.module?n.a.createElement(Gt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oauth2-glewlwyd"===this.state.mod.module?n.a.createElement(Zt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oidc"===this.state.mod.module?n.a.createElement(oa,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"register"===this.state.mod.module?n.a.createElement(da,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config,modSchemes:this.state.modSchemes}):""}}])&&ua(e.prototype,t),o}();function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ya(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function va(e,t){return(va=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ea(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Na=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&va(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=wa(e);return r=this,!(n=t?(a=wa(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ba(n)&&"function"!=typeof n?Ea(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={config:e.config,modSchemes:e.modSchemes,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1},d.a.subscribe("ModPlugin",(function(e){"modValid"===e.type?t.setState({check:!1,hasError:!1},(function(){t.state.add&&!t.state.mod.name?t.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-mandatory"),typeInvalidMessage:!1,hasError:!0}):t.state.mod.module?t.state.parametersValid&&(t.state.add?m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.state.mod.name),"GET").then((function(){t.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-exist"),typeInvalidMessage:!1,hasError:!0})})).fail((function(e){404===e.status?t.state.callback(!0,t.state.mod):d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})})):t.state.callback(!0,t.state.mod)):t.setState({nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:i.a.t("admin.error-mod-type-mandatory"),hasError:!0})})):"modInvalid"===e.type&&t.setState({check:!1,hasError:!0})})),t.closeModal=t.closeModal.bind(Ea(t)),t.changeName=t.changeName.bind(Ea(t)),t.changeDisplayName=t.changeDisplayName.bind(Ea(t)),t.changeType=t.changeType.bind(Ea(t)),t.changeParameters=t.changeParameters.bind(Ea(t)),t}return e=o,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,modSchemes:e.modSchemes,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1})}},{key:"closeModal",value:function(e,t){this.state.callback&&(t?this.setState({check:!0}):this.state.callback(t))}},{key:"changeName",value:function(e){var t=this.state.mod;t.name=e.target.value,this.setState({mod:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.mod;t.display_name=e.target.value,this.setState({mod:t})}},{key:"changeType",value:function(e,t){var a=this.state.mod;a.module=t,this.setState({mod:a})}},{key:"changeParameters",value:function(e,t){var a=this.state.mod;a.parameters=e,this.setState({mod:a,parametersValid:t})}},{key:"render",value:function(){var e,t,a,r=this,o=[];return this.state.add?(t=i.a.t("admin.mod-type-select"),this.state.modTypes.forEach((function(e,a){r.state.mod.module===e.name?(t=e.display_name,o.push(n.a.createElement("a",{className:"dropdown-item active",key:a,href:"#",onClick:function(t){return r.changeType(t,e.name)}},e.display_name))):o.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(t){return r.changeType(t,e.name)}},e.display_name))})),e=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownModType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownModType"},o))):this.state.modTypes.forEach((function(t,a){r.state.mod.module===t.name&&(e=n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.display_name))})),"scheme"!==this.state.role&&(this.state.mod.readonly,i.a.t("admin.mod-readonly")),this.state.hasError&&(a=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input"))),n.a.createElement("div",{className:"modal fade",id:"editPluginModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return r.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-type"},i.a.t("admin.mod-type"))),e),n.a.createElement("span",{className:"error-input"+(this.state.typeInvalidMessage?"":" hidden")},this.state.typeInvalidMessage)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-name"},i.a.t("admin.mod-name"))),n.a.createElement("input",{type:"text",className:"form-control"+(this.state.nameInvalid?" is-invalid":""),id:"mod-name",placeholder:i.a.t("admin.mod-name-ph"),maxLength:"128",value:this.state.mod.name||"",onChange:function(e){return r.changeName(e)},disabled:!this.state.add})),n.a.createElement("span",{className:"error-input"+(this.state.nameInvalid?"":" hidden")},this.state.nameInvalidMessage)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-display-name"},i.a.t("admin.mod-display-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-display-name",placeholder:i.a.t("admin.mod-display-name-ph"),maxLength:"256",value:this.state.mod.display_name||"",onChange:function(e){return r.changeDisplayName(e)}}))),n.a.createElement(ga,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config,modSchemes:this.state.modSchemes}))),n.a.createElement("div",{className:"modal-footer"},a,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return r.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}])&&ya(e.prototype,t),o}();function ka(e){return(ka="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ca(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ma(e,t){t=t||window.location.href,e=e.replace(/[\[\]]/g,"\\$&");var a=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return a?a[2]?decodeURIComponent(a[2].replace(/\+/g," ")):"":null}var _a=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(o,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=xa(e);return r=this,!(n=t?(a=xa(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==ka(n)&&"function"!=typeof n?Pa(r):n}}(o);function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=a.call(this,e)).state={lang:i.a.language,config:e.config,passwordMinLength:e.config.PasswordMinLength||8,curNav:"users",loggedIn:!1,users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curUser:!1,clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curClient:!1,scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curScope:!1,confirmModal:{title:"",message:""},editModal:{title:"",pattern:[],source:[],data:{},callback:!1,validateCallback:!1,add:!1},scopeModal:{title:"",data:{name:"",display_name:"",description:"",password_required:!0,scheme:{}},callback:!1,add:!1},curMod:!1,modUsers:[],ModModal:{title:"",role:!1,data:{},types:[],add:!1,callback:!1},modClients:[],modSchemes:[],plugins:[],PluginModal:{title:"",data:{},types:[],add:!1,callback:!1},modTypes:{user:[],client:[],scheme:[],plugin:[]},profileList:!1,invalidCredentialMessage:!1},t.fetchApi=t.fetchApi.bind(Pa(t)),t.fetchUsers=t.fetchUsers.bind(Pa(t)),t.confirmDeleteUser=t.confirmDeleteUser.bind(Pa(t)),t.confirmEditUser=t.confirmEditUser.bind(Pa(t)),t.confirmAddUser=t.confirmAddUser.bind(Pa(t)),t.validateUser=t.validateUser.bind(Pa(t)),t.fetchClients=t.fetchClients.bind(Pa(t)),t.confirmDeleteClient=t.confirmDeleteClient.bind(Pa(t)),t.confirmEditClient=t.confirmEditClient.bind(Pa(t)),t.confirmAddClient=t.confirmAddClient.bind(Pa(t)),t.validateClient=t.validateClient.bind(Pa(t)),t.fetchScopes=t.fetchScopes.bind(Pa(t)),t.fetchAllScopes=t.fetchAllScopes.bind(Pa(t)),t.confirmDeleteScope=t.confirmDeleteScope.bind(Pa(t)),t.confirmEditScope=t.confirmEditScope.bind(Pa(t)),t.confirmAddScope=t.confirmAddScope.bind(Pa(t)),t.fetchModTypes=t.fetchModTypes.bind(Pa(t)),t.fetchUserMods=t.fetchUserMods.bind(Pa(t)),t.fetchClientMods=t.fetchClientMods.bind(Pa(t)),t.fetchSchemeMods=t.fetchSchemeMods.bind(Pa(t)),t.fetchPlugins=t.fetchPlugins.bind(Pa(t)),t.confirmAddUserMod=t.confirmAddUserMod.bind(Pa(t)),t.confirmEditUserMod=t.confirmEditUserMod.bind(Pa(t)),t.confirmDeleteUserMod=t.confirmDeleteUserMod.bind(Pa(t)),t.confirmAddClientMod=t.confirmAddClientMod.bind(Pa(t)),t.confirmEditClientMod=t.confirmEditClientMod.bind(Pa(t)),t.confirmDeleteClientMod=t.confirmDeleteClientMod.bind(Pa(t)),t.confirmAddSchemeMod=t.confirmAddSchemeMod.bind(Pa(t)),t.confirmEditSchemeMod=t.confirmEditSchemeMod.bind(Pa(t)),t.confirmDeleteSchemeMod=t.confirmDeleteSchemeMod.bind(Pa(t)),t.confirmAddPluginMod=t.confirmAddPluginMod.bind(Pa(t)),t.confirmEditPluginMod=t.confirmEditPluginMod.bind(Pa(t)),t.confirmDeletePluginMod=t.confirmDeletePluginMod.bind(Pa(t)),d.a.subscribe("App",(function(e){var a,r,n,o,s,l,c,p;"nav"===e.type?t.setState({curNav:e.message}):"profile"===e.type?t.fetchApi():"loggedIn"===e.type?t.setState({loggedIn:e.message},(function(){console.log("loggedIn",t.state.loggedIn),t.state.loggedIn||t.fetchApi()})):"lang"===e.type?t.setState({lang:i.a.language}):"delete"===e.type?"user"===e.role?(a={title:i.a.t("admin.confirm-delete-user-title",{user:e.user.name}),message:i.a.t("admin.confirm-delete-user",{username:e.user.username,name:e.user.name}),callback:t.confirmDeleteUser},t.setState({confirmModal:a,curUser:e.user},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"client"===e.role?(a={title:i.a.t("admin.confirm-delete-client-title",{client:e.client.name}),message:i.a.t("admin.confirm-delete-client",{clientId:e.client.client_id,name:e.client.name}),callback:t.confirmDeleteClient},t.setState({confirmModal:a,curClient:e.client},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(a={title:i.a.t("admin.confirm-delete-scope-title",{scope:e.scope.name}),message:i.a.t("admin.confirm-delete-scope",{scope:e.scope.name,name:e.scope.display_name}),callback:t.confirmDeleteScope},t.setState({confirmModal:a,curScope:e.scope},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(a={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:t.confirmDeleteUserMod},t.setState({confirmModal:a,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(a={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:t.confirmDeleteClientMod},t.setState({confirmModal:a,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(a={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:t.confirmDeleteSchemeMod},t.setState({confirmModal:a,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role&&(a={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:t.confirmDeletePluginMod},t.setState({confirmModal:a,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"edit"===e.type?"user"===e.role?(r={title:i.a.t("admin.edit-user-title",{user:e.user.name}),pattern:t.state.config.pattern.user,source:t.state.modUsers,data:e.user,callback:t.confirmEditUser,validateCallback:t.validateUser},t.setState({editModal:r},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"client"===e.role?(r={title:i.a.t("admin.edit-client-title",{client:e.client.name}),pattern:t.state.config.pattern.client,data:e.client,source:t.state.modClients,callback:t.confirmEditClient,validateCallback:t.validateClient},t.setState({editModal:r},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(n={title:i.a.t("admin.edit-scope-title",{scope:e.scope.scope}),data:e.scope,callback:t.confirmEditScope},t.setState({scopeModal:n},(function(){$("#editScopeModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(o={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,role:"user",types:t.state.modTypes.user,callback:t.confirmEditUserMod},t.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(o={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:t.state.modTypes.client,role:"client",callback:t.confirmEditClientMod},t.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(o={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:t.state.modTypes.scheme,role:"scheme",callback:t.confirmEditSchemeMod},t.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role&&(s={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:t.state.modTypes.plugin,callback:t.confirmEditPluginMod},t.setState({PluginModal:s},(function(){$("#editPluginModal").modal({keyboard:!1,show:!0})}))):"add"===e.type?"user"===e.role?(r={title:i.a.t("admin.add-user-title"),pattern:t.state.config.pattern.user,source:t.state.modUsers,data:{username:"",name:"",password:"",email:"",enabled:!0,scope:[]},callback:t.confirmAddUser,validateCallback:t.validateUser,add:!0},t.setState({editModal:r},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"client"===e.role?(r={title:i.a.t("admin.add-client-title"),pattern:t.state.config.pattern.client,source:t.state.modClients,data:{client_id:"",confidential:!1,client_secret:"",enabled:!0,name:"",password:"",redirect_uri:[],scope:[]},callback:t.confirmAddClient,validateCallback:t.validateClient,add:!0},t.setState({editModal:r},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(n={title:i.a.t("admin.add-scope-title"),data:{name:"",display_name:"",description:"",password_required:!0,password_max_age:0,scheme:{}},callback:t.confirmAddScope,add:!0},t.setState({scopeModal:n},(function(){$("#editScopeModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(o={title:i.a.t("admin.add-mod-title"),data:{order_rank:t.state.modUsers.length,parameters:{}},types:t.state.modTypes.user,role:"user",callback:t.confirmAddUserMod,add:!0},t.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(o={title:i.a.t("admin.add-mod-title"),data:{order_rank:t.state.modClients.length,parameters:{}},types:t.state.modTypes.client,role:"client",callback:t.confirmAddClientMod,add:!0},t.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(o={title:i.a.t("admin.add-mod-title"),data:{parameters:{}},types:t.state.modTypes.scheme,role:"scheme",callback:t.confirmAddSchemeMod,add:!0},t.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role&&(s={title:i.a.t("admin.add-mod-title"),data:{parameters:{}},types:t.state.modTypes.plugin,callback:t.confirmAddPluginMod,add:!0},t.setState({PluginModal:s},(function(){$("#editPluginModal").modal({keyboard:!1,show:!0})}))):"swap"===e.type?"userMod"===e.role?m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){t.fetchUserMods(),t.fetchUsers()})):"clientMod"===e.role&&m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){t.fetchClientMods(),t.fetchClients()})):"search"===e.type?"user"===e.role?((l=t.state.users).searchPattern=e.searchPattern,l.offset=e.offset,l.limit=e.limit,t.setState({users:l},(function(){t.fetchUsers()}))):"client"===e.role?((c=t.state.clients).searchPattern=e.searchPattern,c.offset=e.offset,c.limit=e.limit,t.setState({clients:c},(function(){t.fetchClients()}))):"scope"===e.role&&((p=t.state.scopes).searchPattern=e.searchPattern,p.offset=e.offset,p.limit=e.limit,t.setState({scopes:p},(function(){t.fetchScopes()}))):"refresh"===e.type&&("schemeMod"===e.role?t.fetchSchemeMods():"userMod"===e.role?t.fetchUserMods():"clientMod"===e.role?t.fetchClientMods():"pluginMod"===e.role&&t.fetchPlugins())})),t.state.config&&t.fetchApi(),t}return e=o,(t=[{key:"fetchApi",value:function(){var e=this;m.a.glewlwydRequest("/profile_list").then((function(t){e.setState({profileList:t},(function(){e.fetchUsers().then((function(){e.setState({invalidCredentialMessage:!1},(function(){e.fetchClients().always((function(){e.fetchScopes()})),e.fetchModTypes(),e.fetchUserMods(),e.fetchClientMods(),e.fetchSchemeMods(),e.fetchPlugins(),e.fetchAllScopes()}))})).fail((function(t){e.setState({modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}))})).fail((function(t){e.setState({invalidCredentialMessage:!0},(function(){e.setState({modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]},(function(){401===t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}):d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})}))}))}))}},{key:"fetchUsers",value:function(){var e=this;return m.a.glewlwydRequest("/user?offset="+this.state.users.offset+"&limit="+this.state.users.limit+(this.state.users.searchPattern?"&pattern="+this.state.users.searchPattern:"")).then((function(t){var a=e.state.users;a.list=t,a.pattern=e.state.config.pattern.user,e.setState({users:a,loggedIn:!0})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]}))}))}},{key:"fetchClients",value:function(){var e=this;return m.a.glewlwydRequest("/client?offset="+this.state.clients.offset+"&limit="+this.state.clients.limit+(this.state.clients.searchPattern?"&pattern="+this.state.clients.searchPattern:"")).then((function(t){var a=e.state.clients;a.list=t,a.pattern=e.state.config.pattern.client,e.setState({clients:a})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchScopes",value:function(){var e=this;return m.a.glewlwydRequest("/scope?offset="+this.state.scopes.offset+"&limit="+this.state.scopes.limit+(this.state.scopes.searchPattern?"&pattern="+this.state.scopes.searchPattern:"")).then((function(t){var a=e.state.scopes;a.list=t,e.setState({scopes:a})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchAllScopes",value:function(){var e=this;return m.a.glewlwydRequest("/scope?limit=0").then((function(t){var a=[],r=e.state.users,n=e.state.clients,o=e.state.config;t.forEach((function(e){a.push(e.name)})),r.pattern.forEach((function(e){"scope"===e.name&&(e.listElements=a)})),n.pattern.forEach((function(e){"scope"===e.name&&(e.listElements=a)})),o.scopes=t,e.setState({users:r,clients:n,config:o})}))}},{key:"fetchUserMods",value:function(){var e=this;return m.a.glewlwydRequest("/mod/user").then((function(t){e.setState({modUsers:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchModTypes",value:function(){var e=this;return m.a.glewlwydRequest("/mod/type").then((function(t){e.setState({modTypes:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchClientMods",value:function(){var e=this;return m.a.glewlwydRequest("/mod/client").then((function(t){e.setState({modClients:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchSchemeMods",value:function(){var e=this;return m.a.glewlwydRequest("/mod/scheme").then((function(t){e.setState({modSchemes:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchPlugins",value:function(){var e=this;return m.a.glewlwydRequest("/mod/plugin").then((function(t){e.setState({plugins:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"confirmDeleteUser",value:function(e){var t=this;e?m.a.glewlwydRequest("/user/"+encodeURIComponent(this.state.curUser.username),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-user")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-user")})})).always((function(){t.fetchUsers().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmDeleteClient",value:function(e){var t=this;e?m.a.glewlwydRequest("/client/"+encodeURIComponent(this.state.curClient.client_id),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-client")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-client")})})).always((function(){t.fetchClients().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmDeleteScope",value:function(e){var t=this;e?m.a.glewlwydRequest("/scope/"+encodeURIComponent(this.state.curScope.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-scope")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-scope")})})).always((function(){t.fetchScopes().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmEditUser",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/user/"+encodeURIComponent(t.username),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-user")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-user")})})).always((function(){a.fetchUsers().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1}},(function(){$("#editRecordModal").modal("hide")}))}))})):this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmEditClient",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/client/"+encodeURIComponent(t.client_id),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-client")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-client")})})).always((function(){a.fetchClients().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1}},(function(){$("#editRecordModal").modal("hide")}))}))})):this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmEditScope",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/scope/"+encodeURIComponent(t.name),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-scope")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-scope")})})).always((function(){a.fetchScopes().always((function(){a.setState({scopeModal:{data:{},callback:!1}},(function(){$("#editScopeModal").modal("hide")}))}))})):this.setState({scopeModal:{data:{},callback:!1}},(function(){$("#editScopeModal").modal("hide")}))}},{key:"confirmAddUser",value:function(e,t){var a,r=this;e?(a=t.source?"?source="+t.source:"",m.a.glewlwydRequest("/user/"+a,"POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-user")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-user")})})).always((function(){r.fetchUsers().always((function(){r.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}))}))):this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmAddClient",value:function(e,t){var a,r=this;e?(a=t.source?"?source="+t.source:"",m.a.glewlwydRequest("/client/"+a,"POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-client")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-client")})})).always((function(){r.fetchClients().always((function(){r.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}))}))):this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmAddScope",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/scope/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-scope")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-scope")})})).always((function(){a.fetchScopes().always((function(){a.setState({scopeModal:{data:{},callback:!1}},(function(){$("#editScopeModal").modal("hide")}))}))})):$("#editScopeModal").modal("hide")}},{key:"validateUser",value:function(e,t,a,r){var n=!0,o={};a?(void 0===e.password&&void 0===t.password||(e.password!==t.password?(n=!1,o.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(n=!1,o.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength}))),e.username?m.a.glewlwydRequest("/user/"+encodeURIComponent(e.username)).then((function(){n=!1,o.username=i.a.t("admin.user-username-exists")})).always((function(){r(n,o)})):(n=!1,o.username=i.a.t("admin.user-username-mandatory"),r(n,o))):(void 0===e.password&&void 0===t.password||(e.password||t.password)&&(e.password!==t.password?(n=!1,o.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(n=!1,o.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength}))),r(n,o))}},{key:"validateClient",value:function(e,t,a,r){var n=!0,o={};e.confidential&&(e.password||t.password)&&(e.password||t.password?e.password!==t.password?(n=!1,o.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(n=!1,o.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength})):!e.password&&a&&(n=!1,o.password=i.a.t("admin.user-password-mandatory"))),a?e.client_id?m.a.glewlwydRequest("/client/"+encodeURIComponent(e.client_id)).then((function(){n=!1,o.client_id=i.a.t("admin.client-client-id-exists")})).always((function(){r(n,o)})):(n=!1,o.client_id=i.a.t("admin.client-client-id-mandatory"),r(n,o)):r(n,o)}},{key:"confirmAddUserMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/user/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")})})).always((function(){a.fetchUserMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditUserMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.fetchUserMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})):$("#editModModal").modal("hide")}},{key:"confirmDeleteUserMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchUserMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchUsers()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddClientMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/client/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")})})).always((function(){a.fetchClientMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchClients()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditClientMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.fetchClientMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchClients()}))}))}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})):$("#editModModal").modal("hide")}},{key:"confirmDeleteClientMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchClientMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchClients()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddSchemeMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/scheme/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")})})).always((function(){a.fetchSchemeMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide")}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditSchemeMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.fetchSchemeMods()}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide")}))})):$("#editModModal").modal("hide")}},{key:"confirmDeleteSchemeMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchSchemeMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddPluginMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/plugin/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){a.fetchPlugins().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editPluginModal").modal("hide")}))}))})):$("#editPluginModal").modal("hide")}},{key:"confirmEditPluginMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){a.fetchPlugins().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editPluginModal").modal("hide")}))}))}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})):$("#editPluginModal").modal("hide")}},{key:"confirmDeletePluginMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchPlugins().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"render",value:function(){var e;return this.state.invalidCredentialMessage&&(e=n.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.t("admin.error-credential-message"))),this.state.config?n.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"relative",minHeight:"200px"}},n.a.createElement("div",{className:"card center",id:"userCard",tabIndex:"-1",role:"dialog",style:{marginTop:"20px",marginBottom:"20px"}},n.a.createElement("div",{className:"card-header"},n.a.createElement(P,{active:this.state.curNav,config:this.state.config,loggedIn:this.state.loggedIn,profileList:this.state.profileList})),e,n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{id:"carouselBody",className:"carousel slide","data-ride":"carousel"},n.a.createElement("div",{className:"carousel-inner"},n.a.createElement("div",{className:"carousel-item"+("users"===this.state.curNav?" active":"")},n.a.createElement(O,{config:this.state.config,users:this.state.users,source:this.state.modUsers,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("clients"===this.state.curNav?" active":"")},n.a.createElement(U,{config:this.state.config,clients:this.state.clients,source:this.state.modClients,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("scopes"===this.state.curNav?" active":"")},n.a.createElement(B,{config:this.state.config,scopes:this.state.scopes,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("users-mod"===this.state.curNav?" active":"")},n.a.createElement(ee,{mods:this.state.modUsers,types:this.state.modTypes.user,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("clients-mod"===this.state.curNav?" active":"")},n.a.createElement(se,{mods:this.state.modClients,types:this.state.modTypes.client,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("auth-schemes"===this.state.curNav?" active":"")},n.a.createElement(pe,{mods:this.state.modSchemes,types:this.state.modTypes.scheme,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("plugins"===this.state.curNav?" active":"")},n.a.createElement(ye,{mods:this.state.plugins,types:this.state.modTypes.plugin,loggedIn:this.state.loggedIn})))))),n.a.createElement(p.a,{loggedIn:this.state.loggedIn}),n.a.createElement(u.a,{title:this.state.confirmModal.title,message:this.state.confirmModal.message,callback:this.state.confirmModal.callback}),n.a.createElement(v,{title:this.state.editModal.title,pattern:this.state.editModal.pattern,source:this.state.editModal.source,data:this.state.editModal.data,callback:this.state.editModal.callback,validateCallback:this.state.editModal.validateCallback,add:this.state.editModal.add}),n.a.createElement(Se,{title:this.state.scopeModal.title,scope:this.state.scopeModal.data,add:this.state.scopeModal.add,modSchemes:this.state.modSchemes,callback:this.state.scopeModal.callback}),n.a.createElement(zt,{title:this.state.ModModal.title,role:this.state.ModModal.role,mod:this.state.ModModal.data,add:this.state.ModModal.add,types:this.state.ModModal.types,callback:this.state.ModModal.callback,config:this.state.config}),n.a.createElement(Na,{title:this.state.PluginModal.title,mod:this.state.PluginModal.data,add:this.state.PluginModal.add,modSchemes:this.state.modSchemes,types:this.state.PluginModal.types,callback:this.state.PluginModal.callback,config:this.state.config})):n.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"relative",minHeight:"200px"}},n.a.createElement("div",{className:"card center",id:"userCard",tabIndex:"-1",role:"dialog",style:{marginTop:"20px",marginBottom:"20px"}},n.a.createElement("div",{className:"card-header"},n.a.createElement("h4",null,n.a.createElement("span",{className:"badge badge-danger"},i.a.t("error-api-connect"))))))}}])&&Ca(e.prototype,t),o}();try{i.a.use(l.a).use(c.a).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){m.a.request("config.json").then((function(e){e.lang||(e.lang=["en","fr","nl"]),m.a.request(e.GlewlwydUrl+"config/").then((function(t){m.a.setConfig(e.GlewlwydUrl+t.api_prefix);var a=Object.assign({params:{scope:Ma("scope"),client_id:Ma("client_id"),callback_url:Ma("callback_url")},scopes:[]},e,t);s.a.render(n.a.createElement(_a,{config:a}),document.getElementById("root"))})).fail((function(e){s.a.render(n.a.createElement(_a,{config:!1}),document.getElementById("root"))}))}))}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Glewlwyd SSO</span></div>')}},2:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}var t,a;return t=e,(a=[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,a){e({type:"broadcast",message:t})}));else for(var a in this.subscriberList)0<=e.indexOf(a)&&this.subscriberList[a](t)}}])&&r(t.prototype,a),e}());t.a=n},3:function(e,t,a){"use strict";var r=a(2);function n(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.GlewlwydApiPrefix="",this.GlewlwydApiPrefixSub=""}var t,a;return t=e,(a=[{key:"setConfig",value:function(e){this.GlewlwydApiPrefix=e}},{key:"getConfig",value:function(){return this.GlewlwydApiPrefix}},{key:"setConfigSub",value:function(e){this.GlewlwydApiPrefixSub=e}},{key:"getConfigSub",value:function(){return this.GlewlwydApiPrefixSub}},{key:"request",value:function(e,t,a){var r=1<arguments.length&&void 0!==t?t:"GET",n=2<arguments.length&&void 0!==a&&a;return n&&"GET"!==r?$.ajax({method:r,url:e,data:JSON.stringify(n),contentType:"application/json; charset=utf-8"}):$.ajax({method:r,url:e})}},{key:"glewlwydRequest",value:function(e,t,a,n){var o=1<arguments.length&&void 0!==t?t:"GET",s=2<arguments.length&&void 0!==a&&a,i=3<arguments.length&&void 0!==n&&n;return this.request(this.GlewlwydApiPrefix+e,o,s).fail((function(e){i&&401===e.status&&r.a.sendMessage("App",{type:"loggedIn",message:!1})}))}},{key:"glewlwydRequestSub",value:function(e,t,a){var r=1<arguments.length&&void 0!==t?t:"GET",n=2<arguments.length&&void 0!==a&&a;return this.request(this.GlewlwydApiPrefixSub+e,r,n)}}])&&n(t.prototype,a),e}());t.a=o},4:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(d,r.Component);var e,t,a=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r,n,o=m(e);return r=this,!(n=t?(a=m(this).constructor,Reflect.construct(o,arguments,a)):o.apply(this,arguments))||"object"!==s(n)&&"function"!=typeof n?c(r):n}}(d);function d(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=a.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},o.a.subscribe("Notification",(function(e){var a;e.type&&((a=t.state.message).push({type:e.type,message:e.message,id:t.state.counter}),t.setState({message:a,counter:t.state.counter+1},(function(){t.timeoutClose(t.state.counter-1)})))})),t.close=t.close.bind(c(t)),t.timeoutClose=t.timeoutClose.bind(c(t)),t}return e=d,(t=[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedIn:e.loggedIn})}},{key:"timeoutClose",value:function(e){var t=this;setTimeout((function(){t.close(e)}),5e3)}},{key:"close",value:function(e){var t=this,a=this.state.message;a.forEach((function(r,n){r.id===e&&(a.splice(n,1),t.setState({message:a}))}))}},{key:"render",value:function(){var e=this,t=[];return this.state.loggedIn&&this.state.message.forEach((function(a,r){var o="success"===a.type?n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-success btn-icon"},n.a.createElement("i",{className:"fas fa-check-circle"})),"Glewlwyd"):"danger"===a.type?n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-danger btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):"warning"===a.type?n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-warning btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-info btn-icon"},n.a.createElement("i",{className:"fas fa-info-circle"})),"Glewlwyd");t.push(n.a.createElement("div",{className:"toast-container",style:{top:85+90*r,right:5},key:r},n.a.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},n.a.createElement("div",{className:"toast-header"},o,n.a.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:function(){return e.close(a.id)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"toast-body"},a.message))))})),n.a.createElement("div",null,t)}}])&&i(e.prototype,t),d}();t.a=d}})}));