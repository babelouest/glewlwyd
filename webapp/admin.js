!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var r in a)("object"==typeof exports?exports:e)[r]=a[r]}}(window,(function(){return function(e){function t(t){for(var r,s,i=t[0],l=t[1],c=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(m&&m(t);p.length;)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==n[l]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={1:0},o=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var m=l;return o.push([24,0]),a()}({12:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m(e);if(t){var n=m(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,message:e.message,cb:e.callback},r.closeModal=r.closeModal.bind(c(r)),r}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,message:e.message,cb:e.callback})}},{key:"closeModal",value:function(e,t){this.state.cb&&this.state.cb(t)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"modal fade on-top",id:"confirmModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":o.a.t("modal.close"),onClick:function(t){return e.closeModal(t,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},this.state.message),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.closeModal(t,!1)}},o.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.closeModal(t,!0)}},o.a.t("modal.ok"))))))}}]),a}();t.a=d},2:function(e,t,a){"use strict";function r(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var n=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subscriberList={}}return function(e,t,a){t&&r(e.prototype,t)}(e,[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,a){e({type:"broadcast",message:t})}));else for(var a in this.subscriberList)e.indexOf(a)>=0&&this.subscriberList[a](t)}}]),e}());t.a=n},24:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(5),s=a.n(o),i=a(1),l=a(10),c=a(11),m=a(3),d=a(2),p=a(4),u=a(12),h=a(9);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=v(e);if(t){var n=v(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?y(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,pattern:e.pattern,source:e.source,data:e.data,cb:e.callback,validateCb:e.validateCallback,profile:e.profile,add:e.add,listAddValue:r.initListAdd(e.pattern,e.data),listEltConfirm:r.initListConfirm(e.pattern),listError:{},hasError:!1,listPwd:r.initListPwd(e.pattern,e.data,e.add),multiplePasswords:r.hasMultiplePasswords(e.source,e.data)},r.closeModal=r.closeModal.bind(y(r)),r.changeSource=r.changeSource.bind(y(r)),r.editElt=r.editElt.bind(y(r)),r.changeElt=r.changeElt.bind(y(r)),r.toggleBooleanElt=r.toggleBooleanElt.bind(y(r)),r.deleteListElt=r.deleteListElt.bind(y(r)),r.createData=r.createData.bind(y(r)),r.changeListAddElt=r.changeListAddElt.bind(y(r)),r.AddListElt=r.AddListElt.bind(y(r)),r.initListAdd=r.initListAdd.bind(y(r)),r.initListConfirm=r.initListConfirm.bind(y(r)),r.initListPwd=r.initListPwd.bind(y(r)),r.changeEltConfirm=r.changeEltConfirm.bind(y(r)),r.changeTextArea=r.changeTextArea.bind(y(r)),r.uploadFile=r.uploadFile.bind(y(r)),r.uploadImage=r.uploadImage.bind(y(r)),r.removeImage=r.removeImage.bind(y(r)),r.setPwd=r.setPwd.bind(y(r)),r.hasMultiplePasswords=r.hasMultiplePasswords.bind(y(r)),r.state.add&&r.createData(),r}return function(e,t,a){t&&g(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({title:e.title,pattern:e.pattern,source:e.source,data:e.data,cb:e.callback,validateCb:e.validateCallback,profile:e.profile,add:e.add,listAddValue:this.initListAdd(e.pattern),listEltConfirm:this.initListConfirm(e.pattern,e.data),listError:{},hasError:!1,listPwd:this.initListPwd(e.pattern,e.data,e.add),multiplePasswords:this.hasMultiplePasswords(e.source,e.data)},(function(){e.add&&t.createData()}))}},{key:"closeModal",value:function(e,t){var a=this;if(this.state.cb)if(t)if(this.state.validateCb){var r=this.state.data;for(var n in r)if(Array.isArray(r[n])&&"password"!==n)if(r[n].length)for(var o=r[n],s=o.length-1;s>=0;s--)""===o[s]&&o.splice(s,1);else delete r[n];var l=!1,c=[];for(var n in this.state.listAddValue)""!==this.state.listAddValue[n]&&(l=!0,c[n]=i.a.t("admin.add-elt-mandatory"));l?this.setState({listError:c,hasError:!0}):this.state.validateCb(r,this.state.listEltConfirm,this.state.add,(function(e,n){e?a.state.cb(t,r):a.setState({listError:n,hasError:!0})}))}else this.state.cb(t,r);else this.state.cb(t,{})}},{key:"changeSource",value:function(e,t){var a=this.state.data,r=this.state.listEltConfirm,n=this.state.listPwd;a.source=t;for(var o=!1,s=0;s<this.state.source.length;s++)t===this.state.source[s].name&&(o=this.state.source[s].multiple_passwords)&&(a.password=[""],r.password=[""],n.password=["set"]);this.setState({data:a,listEltConfirm:r,listPwd:n,multiplePasswords:o})}},{key:"editElt",value:function(e,t,a){var r,o,s=this,l=[],c=!1;if((void 0!==t||"password"===e.type||e.forceShow)&&(!this.state.profile||e.profile)){var m="",d="";if(this.state.listError[e.name]&&(m=" is-invalid",d=n.a.createElement("span",{className:"error-input"},i.a.t(this.state.listError[e.name]))),r=n.a.createElement("label",{className:"input-group-text",htmlFor:"modal-edit-"+e.name},i.a.t(e.label)),e.list){if(t||(t=[]),e.listElements){var p=[];e.listElements.forEach((function(t,a){p.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return s.AddListElt(a,e.name,t)}},t))})),o=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-edit-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-edit-"+e.name},p))}else if("textarea"===e.type)o=n.a.createElement("textarea",{className:"form-control"+m,onChange:function(t){return s.changeTextArea(t,e.name,!0)},value:t.join("\n"),placeholder:e.placeholder?i.a.t(e.placeholder):""});else if("file"===e.type)o=e.edit||this.state.add?n.a.createElement("input",{type:"file",className:"form-control"+m,onChange:function(t){return s.uploadFile(t,e.name,!0)}}):n.a.createElement("input",{type:"file",disabled:!0,className:"form-control"});else if(e.type&&e.type.startsWith("image")){var u=[];t.forEach((function(t,a){u.push(n.a.createElement("a",{key:a,href:"#",onClick:function(t){return s.removeImage(t,e.name,a)},title:i.a.t("remove")},n.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name+"-"+a}),n.a.createElement("span",{className:"badge badge-secondary align-top"},n.a.createElement("i",{className:"fas fa-trash"}))))})),e.edit||this.state.add?o=n.a.createElement("div",null,n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",accept:"image/*",className:"custom-file-input"+m,onChange:function(t){return s.uploadImage(t,e.name,!0)},id:"modal-image-"+e.name}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"modal-image-"+e.name},i.a.t("browse"))),u):(u=[],t.forEach((function(t,a){u.push(n.a.createElement("img",{key:a,className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name+"-"+a}))})),o=u)}else o=n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",className:"form-control"+m,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return s.changeListAddElt(t,e.name)},value:this.state.listAddValue[e.name]||""}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(t){return s.AddListElt(t,e.name)},title:i.a.t("modal.list-add-title")},n.a.createElement("i",{className:"fas fa-plus"}))));(e.type&&"textarea"!==e.type&&!e.type.startsWith("image")||!e.type)&&t.forEach((function(t,a){var r=t;"file"===e.type&&(r=t.substring(0,t.indexOf("/"))),!1!==e.edit||s.state.add?l.push(n.a.createElement("a",{href:"#",onClick:function(t){return s.deleteListElt(t,e.name,a)},key:a},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},r,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):l.push(n.a.createElement("span",{className:"badge badge-primary btn-icon-right",key:a},r,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))}))}else if("boolean"===e.type)c=!1!==e.edit||this.state.add?n.a.createElement("div",{className:"form-group form-check",key:a},n.a.createElement("input",{type:"checkbox",className:"form-check-input"+m,id:"modal-edit-"+e.name,onChange:function(t){return s.toggleBooleanElt(t,e.name)},checked:t}),n.a.createElement("label",{className:"form-check-label",htmlFor:"modal-edit-"+e.name},i.a.t(e.label))):n.a.createElement("div",{className:"form-group form-check",key:a},n.a.createElement("input",{disabled:!0,type:"checkbox",className:"form-check-input",id:"modal-edit-"+e.name,checked:t}),n.a.createElement("label",{className:"form-check-label",htmlFor:"modal-edit-"+e.name},i.a.t(e.label)));else if("textarea"===e.type)o=!1!==e.edit||this.state.add?n.a.createElement("textarea",{className:"form-control"+m,onChange:function(t){return s.changeTextArea(t,e.name,!1)},value:t||"",placeholder:e.placeholder?i.a.t(e.placeholder):""}):n.a.createElement("textarea",{className:"form-control",disabled:!0,value:t||""});else if("file"===e.type)t&&l.push(n.a.createElement("a",{href:"#",key:0,onClick:function(t){return s.deleteFile(t,e.name,-1)}},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.substring(0,t.indexOf("/")),n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))),o=e.edit||this.state.add?n.a.createElement("input",{type:"file",className:"form-control"+m,onChange:function(t){return s.uploadFile(t,e.name)}}):n.a.createElement("input",{type:"file",disabled:!0,className:"form-control"});else if(e.type&&e.type.startsWith("image"))t&&(u=n.a.createElement("a",{href:"#",onClick:function(t){return s.removeImage(t,e.name,-1)},title:i.a.t("remove")},n.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name}),n.a.createElement("span",{className:"badge badge-secondary align-top"},n.a.createElement("i",{className:"fas fa-trash"})))),o=e.edit||this.state.add?n.a.createElement("div",null,n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",accept:"image/*",className:"custom-file-input"+m,onChange:function(t){return s.uploadImage(t,e.name)},id:"modal-image-"+e.name}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"modal-image-"+e.name},i.a.t("browse"))),u):n.a.createElement("img",{className:"btn-icon-right img-thumb",src:"data:"+e.type+";base64,"+t,alt:e.name});else if(!1!==e.edit||this.state.add)if(e.listElements)p=[],e.listElements.forEach((function(t,a){p.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return s.changeElt({target:{value:t}},e.name)}},i.a.t(t)))})),o=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-edit-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t(t||"login.select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-edit-"+e.name},p));else if("password"===e.type)if(this.state.multiplePasswords){var h=[],f=0;t.forEach((function(t,a){if(null!==t){f++;var r=s.state.listEltConfirm[e.name][a]||"";"set"!==s.state.listPwd[e.name][a]&&(t="",r="");var o="";s.state.add||(o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"keep",a)}},i.a.t("modal.pwd-keep")));var l=n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-pwd-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("span",{className:"badge badge-light btn-icon"},f),i.a.t("modal.pwd-"+s.state.listPwd[e.name][a])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-pwd-"+e.name},o,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"set",a)}},i.a.t("modal.pwd-set")))),n.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:function(t){return s.deletePasswordAt(e.name,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))));h.push(n.a.createElement("div",{key:a},l,n.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===s.state.listPwd[e.name][a]||"keep"===s.state.listPwd[e.name][a],className:"form-control"+m,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return s.changeElt(t,e.name,a)},value:t}),n.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===s.state.listPwd[e.name][a]||"keep"===s.state.listPwd[e.name][a],className:"form-control"+m,id:"modal-edit-confirm"+e.name,placeholder:i.a.t(e.placeholderConfirm),value:r,onChange:function(t){return s.changeEltConfirm(t,e.name,a)}})))}})),o=n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-body"},h,n.a.createElement("hr",null),n.a.createElement("button",{className:"btn btn-secondary",type:"button",onClick:function(t){return s.addPassword(e.name)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"}))))}else{var g="";this.state.add||(g=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"keep")}},i.a.t("modal.pwd-keep")));var b=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-pwd-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("modal.pwd-"+(this.state.listPwd[e.name]||(this.state.add?"set":"keep")))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-pwd-"+e.name},g,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"set")}},i.a.t("modal.pwd-set")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return s.setPwd(t,e.name,"disabled")}},i.a.t("modal.pwd-disabled"))));o=n.a.createElement("div",null,b,n.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===this.state.listPwd[e.name]||"keep"===this.state.listPwd[e.name],className:"form-control"+m,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",onChange:function(t){return s.changeElt(t,e.name)},value:"change"===this.state.listPwd[e.name]&&t||""}),n.a.createElement("input",{type:"password",autoComplete:"new-password",disabled:"disabled"===this.state.listPwd[e.name]||"keep"===this.state.listPwd[e.name],className:"form-control"+m,id:"modal-edit-confirm"+e.name,placeholder:i.a.t(e.placeholderConfirm),onChange:function(t){return s.changeEltConfirm(t,e.name)},value:"change"===this.state.listPwd[e.name]&&this.state.listEltConfirm[e.name]||""}))}else o="jwks"===e.type?n.a.createElement("input",{type:"text",className:"form-control"+m,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:this.state.listEltConfirm[e.name]||"",onChange:function(t){return s.setJwks(t,e.name)}}):n.a.createElement("input",{type:e.type||"text",className:"form-control"+m,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:t||"",onChange:function(t){return s.changeElt(t,e.name)}});else o=n.a.createElement("input",{disabled:!0,type:e.type||"text",className:"form-control"+m,id:"modal-edit-"+e.name,placeholder:e.placeholder?i.a.t(e.placeholder):"",value:t||""})}return c||n.a.createElement("div",{className:"form-group",key:a},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},r),o,n.a.createElement("div",{className:"btn-icon-right"},l)),d)}},{key:"deleteListElt",value:function(e,t,a){var r=this.state.data;r[t]&&(r[t].splice(a,1),this.setState({data:r}))}},{key:"changeElt",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.state.data;a>=0?(void 0===r[t]&&(r[t]=[]),r[t][a]=e.target.value):r[t]=e.target.value,this.setState({data:r})}},{key:"setJwks",value:function(e,t){var a=this.state.data,r=this.state.listError,n=this.state.hasError,o=this.state.listEltConfirm,s=e.target.value;if(r[t]=!1,n=!1,s)try{a[t]=JSON.parse(s)}catch(e){r[t]=i.a.t("admin.invalid-json"),delete a[t],n=!0}o[t]=s,this.setState({data:a,listEltConfirm:o,hasError:n})}},{key:"toggleBooleanElt",value:function(e,t){var a=this.state.data;a[t]=!a[t],this.setState({data:a})}},{key:"createData",value:function(){var e={};this.state.pattern.forEach((function(t,a){t.list?e[t.name]=[]:void 0!==t.defaultValue?e[t.name]=t.defaultValue:"boolean"!==t.type&&(e[t.name]="")})),this.setState({data:e})}},{key:"changeListAddElt",value:function(e,t){var a=this.state.listAddValue;a[t]=e.target.value,this.setState({listAddValue:a})}},{key:"AddListElt",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e&&e.preventDefault(),a)(r=this.state.data)[t]||(r[t]=[]),r[t].push(a),this.setState({data:r});else if(this.state.listAddValue[t]){var r=this.state.data,n=this.state.listAddValue;r[t]||(r[t]=[]),r[t].push(this.state.listAddValue[t]),this.state.listAddValue[t]="",this.setState({data:r,listAddValue:n})}}},{key:"initListAdd",value:function(e){var t={};return e.forEach((function(e){e.list&&(t[e.name]="")})),t}},{key:"initListConfirm",value:function(e,t){var a={};return e.forEach((function(e){e.confirm?a[e.name]="":"password"===e.type&&t[e.name]?a[e.name]=[]:"jwks"===e.type&&(a[e.name]=JSON.stringify(t[e.name]))})),a}},{key:"initListPwd",value:function(e,t,a){var r={};return e.forEach((function(e){if("password"===e.type)if(t[e.name]){var n=t[e.name];t[e.name]=[],r[e.name]=[];for(var o=0;o<n;o++)t[e.name].push(""),a?r[e.name].push("set"):r[e.name].push("keep")}else r[e.name]=a?"set":"keep"})),r}},{key:"changeEltConfirm",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1,r=this.state.listEltConfirm;a>=0?r[t][a]=e.target.value:r[t]=e.target.value,this.setState({listEltConfirm:r})}},{key:"changeTextArea",value:function(e,t,a){var r=this.state.data;r[t]=a?e.target.value.split("\n"):e.target.value,this.setState({data:r})}},{key:"uploadFile",value:function(e,t,a){var r=this,n=this.state.data,o=e.target.files[0],s=new FileReader;s.onload=function(e){a?(n[t]||(n[t]=[]),n[t].push(o.name+"/"+btoa(e.target.result))):n[t]=o.name+"/"+btoa(e.target.result),r.setState({data:n})},s.readAsText(o)}},{key:"uploadImage",value:function(e,t,a){var r=this,n=this.state.data,o=e.target.files[0],s=new FileReader;s.onload=function(e){a?(n[t]||(n[t]=[]),n[t].push(btoa(e.target.result))):n[t]=btoa(e.target.result),r.setState({data:n})},s.readAsBinaryString(o)}},{key:"removeImage",value:function(e,t,a){var r=this.state.data;a>-1?r[t].splice(a,1):delete r[t],this.setState({data:r})}},{key:"deleteFile",value:function(e,t,a){var r=this.state.data;a>-1?r[t].splice(a,1):delete r[t],this.setState({data:r})}},{key:"setPwd",value:function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1;e.preventDefault();var n=this.state.listPwd,o=this.state.data,s=this.state.listEltConfirm;r>=0?(n[t][r]=a,o[t][r]="",void 0===s[t]&&(s[t]=[]),s[t][r]=""):(n[t]=a,"disabled"===a?(o[t]="",s[t]=""):(delete o[t],delete s[t])),this.setState({listPwd:n,listEltConfirm:s,data:o})}},{key:"addPassword",value:function(e){var t=this.state.data,a=this.state.listPwd,r=this.state.listEltConfirm;t[e].push(""),a[e].push("set"),r[e]||(r[e]=[""]),this.setState({data:t,listPwd:a,listEltConfirm:r})}},{key:"deletePasswordAt",value:function(e,t){var a=this.state.data;a[e][t]=null,this.setState({data:a})}},{key:"hasMultiplePasswords",value:function(e,t){for(var a=0;a<e.length;a++)if(t.source===e[a].name)return e[a].multiple_passwords;return!1}},{key:"render",value:function(){var e,t=this,a=[],r=[],o=!1;this.state.pattern.forEach((function(e,r){var n=t.editElt(e,t.state.data[e.name],r);n&&a.push(n)})),this.state.source.forEach((function(e,a){o||e.readonly||(o=""),e.name===t.state.data.source&&(o=e.display_name),e.readonly&&e.name!==t.state.data.source||r.push(n.a.createElement("a",{className:"dropdown-item",key:a,href:"#",onClick:function(a){return t.changeSource(a,e.name)}},e.display_name||e.name))})),this.state.hasError&&(e=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input")));var s=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"modal-source"},i.a.t("admin.source"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"modal-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.add},o||i.a.t("admin.source-dropdown")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"modal-source"},r))));return n.a.createElement("div",{className:"modal fade",id:"editRecordModal",tabIndex:"-1",role:"dialog","aria-labelledby":"editRecordModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"editRecordModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return t.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},s,a)),n.a.createElement("div",{className:"modal-footer"},e,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary ",onClick:function(e){return t.closeModal(e,!0)},disabled:!this.state.data||!this.state.data.source||this.state.data.source.readonly},i.a.t("modal.ok"))))))}}]),a}();function N(e){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function k(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=P(e);if(t){var n=P(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?S(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,curNav:"users",navDropdown:!1,profileList:e.profileList,loggedIn:e.loggedIn},d.a.subscribe("Navbar",(function(e){})),r.navigate=r.navigate.bind(S(r)),r.toggleLogin=r.toggleLogin.bind(S(r)),r.changeLang=r.changeLang.bind(S(r)),r.changeProfile=r.changeProfile.bind(S(r)),r.gotoManageUsers=r.gotoManageUsers.bind(S(r)),r}return function(e,t,a){t&&k(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedIn:e.loggedIn,profileList:e.profileList})}},{key:"navigate",value:function(e,t,a){e.preventDefault(),d.a.sendMessage("App",{type:"nav",message:t}),this.setState({curNav:t,navDropdown:a})}},{key:"toggleLogin",value:function(){if(this.state.loggedIn)m.a.glewlwydRequest("/auth/?username="+encodeURIComponent(this.state.profileList[0].username),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"info",message:i.a.t("login.success-delete-session")}),d.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})})).fail((function(e){401!==e.status&&d.a.sendMessage("Notification",{type:"danger",message:i.a.t("login.error-delete-session")}),d.a.sendMessage("App",{type:"loggedIn",loggedIn:!1})}));else{var e=!1;this.state.config.sessionSchemes.forEach((function(t){t.scheme_default&&t.scheme_default.forEach((function(a){"admin"===a&&(e=t.scheme_name)}))})),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+(e?"&scheme="+encodeURIComponent(e):"")}}},{key:"changeLang",value:function(e,t){var a=this;i.a.changeLanguage(t).then((function(){a.setState({lang:t}),d.a.sendMessage("App",{type:"lang"})}))}},{key:"changeProfile",value:function(e,t){if(e.preventDefault(),t)m.a.glewlwydRequest("/auth/","POST",{username:t.username}).then((function(){d.a.sendMessage("App",{type:"profile"})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("login.error-login")})}));else{var a=!1;this.state.config.sessionSchemes.forEach((function(e){e.scheme_default&&e.scheme_default.forEach((function(t){"admin"===t&&(a=e.scheme_name)}))})),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+(a?"&scheme="+encodeURIComponent(a):"")+"&prompt=login"}}},{key:"gotoManageUsers",value:function(e){e.preventDefault(),document.location.href=this.state.config.LoginUrl+"?callback_url="+encodeURIComponent([location.protocol,"//",location.host,location.pathname].join(""))+"&scope="+encodeURIComponent(this.state.config.admin_scope)+"&prompt=select_account"}},{key:"userHasScope",value:function(e,t){var a=!1;return t&&t.split(" ").forEach((function(t){e.scope.indexOf(t)>-1&&(a=!0)})),a}},{key:"render",value:function(){var e,t,a,r,o=this,s=[],l=[];if(this.state.config.lang.forEach((function(e,t){e===i.a.language?s.push(n.a.createElement("a",{className:"dropdown-item active",href:"#",key:t},e)):s.push(n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return o.changeLang(t,e)},key:t},e))})),this.state.profileList.length){if(this.state.profileList.forEach((function(e,t){o.userHasScope(e,o.state.config.admin_scope)?l.push(n.a.createElement("a",{className:"dropdown-item"+(t?"":" active"),href:"#",onClick:function(t){return o.changeProfile(t,e)},key:t},e.name||e.username)):l.push(n.a.createElement("a",{className:"dropdown-item glwd-nav-user-unavailable"+(t?"":" active"),key:t,href:"#",disabled:!0},e.name||e.username))})),l.push(n.a.createElement("div",{className:"dropdown-divider",key:l.length})),l.push(n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return o.changeProfile(e,null)},key:l.length},i.a.t("profile.menu-session-new"))),l.push(n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return o.gotoManageUsers(e)},key:l.length},i.a.t("login.manage-users"))),this.state.profileList&&this.state.profileList[0])if(this.state.config.profilePicture&&this.state.profileList[0][this.state.config.profilePicture.property]){var c=this.state.profileList[0][this.state.config.profilePicture.property];Array.isArray(c)&&(c=c[0]),r=n.a.createElement("div",{className:"glwd-nav-picture-div"},n.a.createElement("img",{className:"img-medium glwd-nav-picture-image",src:"data:image/*;base64,"+c}),this.state.profileList[0].username)}else r=n.a.createElement("div",{className:"glwd-nav-picture-div"},n.a.createElement("img",{className:"img-medium glwd-nav-picture-spacer",src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})," ",n.a.createElement("i",{className:"fas fa-user"}," "),this.state.profileList[0].username);t=n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownProfile","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("div",{className:"glwd-nav-picture-container"},r)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownProfile"},l))}return a=this.state.loggedIn?n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleLogin,title:i.a.t("title-logout")},n.a.createElement("i",{className:"fas btn-icon fa-sign-out-alt"})):n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.toggleLogin,title:i.a.t("title-login")},n.a.createElement("i",{className:"fas btn-icon fa-sign-in-alt"})),n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},n.a.createElement("a",{className:"navbar-brand",href:"#"},n.a.createElement("img",{className:"mr-3",src:"img/logo-admin.png",alt:"logo"}),i.a.t("admin.menu-title")),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav mr-auto"},n.a.createElement("li",{className:"nav-item"+("users"===this.state.curNav?" active":"")},n.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"users",!1)}},i.a.t("admin.menu-users"))),n.a.createElement("li",{className:"nav-item"+("clients"===this.state.curNav?" active":"")},n.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"clients",!1)}},i.a.t("admin.menu-clients"))),n.a.createElement("li",{className:"nav-item"+("scopes"===this.state.curNav?" active":"")},n.a.createElement("a",{className:"nav-link",href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"scopes",!1)}},i.a.t("admin.menu-scopes"))),n.a.createElement("li",{className:"nav-item dropdown"},n.a.createElement("a",(w(e={className:"nav-link dropdown-toggle"+(this.state.navDropdown?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",id:"navbarDropdown",role:"button"},"data-toggle","dropdown"),w(e,"aria-haspopup","true"),w(e,"aria-expanded","false"),e),i.a.t("admin.menu-parameters")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},n.a.createElement("a",{className:"dropdown-item"+("users-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"users-mod",!0)}},i.a.t("admin.menu-users-mod")),n.a.createElement("a",{className:"dropdown-item"+("clients-mod"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"clients-mod",!0)}},i.a.t("admin.menu-clients-mod")),n.a.createElement("div",{className:"dropdown-divider"}),n.a.createElement("a",{className:"dropdown-item"+("auth-schemes"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"auth-schemes",!0)}},i.a.t("admin.menu-auth-schemes")),n.a.createElement("div",{className:"dropdown-divider"}),n.a.createElement("a",{className:"dropdown-item"+("plugins"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"plugins",!0)}},i.a.t("admin.menu-plugins")),n.a.createElement("div",{className:"dropdown-divider"}),n.a.createElement("a",{className:"dropdown-item"+("api-key"===this.state.curNav?" active":""),href:"#","data-toggle":"collapse","data-target":".navbar-collapse.show",onClick:function(e){return o.navigate(e,"api-key",!0)}},i.a.t("admin.menu-api-key"))))),n.a.createElement("form",{className:"form-inline my-2 my-lg-0"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownLang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-language"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownLang"},s)),t,a))))}}]),a}();function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function L(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t){return(j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&j(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=O(e);if(t){var n=O(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?R(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,users:e.users,source:e.source,loggedIn:e.loggedIn},d.a.subscribe("Users",(function(e){})),r.addUser=r.addUser.bind(R(r)),r.editUser=r.editUser.bind(R(r)),r.deleteUser=r.deleteUser.bind(R(r)),r.handleChangeSearchPattern=r.handleChangeSearchPattern.bind(R(r)),r.searchUsers=r.searchUsers.bind(R(r)),r.navigate=r.navigate.bind(R(r)),r.navigatePerPage=r.navigatePerPage.bind(R(r)),r.delegateUser=r.delegateUser.bind(R(r)),r}return function(e,t,a){t&&L(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({users:e.users,source:e.source,loggedIn:e.loggedIn})}},{key:"addUser",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"add",role:"user"})}},{key:"editUser",value:function(e,t,a){e.preventDefault(),d.a.sendMessage("App",{type:"edit",role:"user",user:t,index:a})}},{key:"deleteUser",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"delete",role:"user",user:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.users;t.searchPattern=e.target.value,this.setState({users:t})}},{key:"searchUsers",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:this.state.users.limit})}},{key:"navigate",value:function(e,t){e.preventDefault(),t>0?d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset+this.state.users.limit,limit:this.state.users.limit}):this.state.users.offset&&d.a.sendMessage("App",{type:"search",role:"user",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset-this.state.users.limit,limit:this.state.users.limit})}},{key:"navigatePerPage",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"user",pattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:t})}},{key:"delegateUser",value:function(e,t){e.preventDefault(),window.open(this.state.config.ProfileUrl+"?delegate="+t.username,"_blank")}},{key:"render",value:function(){var e=this,t=[];return this.state.users.list.forEach((function(a,r){var o=!0;e.state.source.forEach((function(e){a.source===e.name&&(o=e.readonly)})),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.source),n.a.createElement("td",null,a.username),n.a.createElement("td",null,a.name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.email||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.delegateUser(t,a)},title:i.a.t("admin.delegate")},n.a.createElement("i",{className:"fas fa-id-card"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editUser(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteUser(t,a)},title:i.a.t("admin.delete"),disabled:o},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenu"+a.username,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenu"+a.username},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.delegateUser(t,a)},alt:i.a.t("admin.delegate")},n.a.createElement("i",{className:"fas fa-id-card btn-icon"}),i.a.t("admin.delegate")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editUser(t,a,r)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteUser(t,a)},alt:i.a.t("admin.delete"),disabled:o},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},n.a.createElement("h4",null,i.a.t("admin.user-list-title"))),n.a.createElement("th",{colSpan:"4"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchUsers(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",_({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.users.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.users.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",_({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.users.limit>this.state.users.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addUser(t)},title:i.a.t("admin.user-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.users.searchPattern||""}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchUsers(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addUser(t)},alt:i.a.t("admin.user-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.user-add")))))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.source")),n.a.createElement("th",null,i.a.t("admin.username")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.email")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.users.offset,limit:this.state.users.limit}))))))}}]),a}();function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function I(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=q(e);if(t){var n=q(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?U(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,clients:e.clients,source:e.source,loggedIn:e.loggedIn},d.a.subscribe("Clients",(function(e){})),r.addClient=r.addClient.bind(U(r)),r.editClient=r.editClient.bind(U(r)),r.deleteClient=r.deleteClient.bind(U(r)),r.handleChangeSearchPattern=r.handleChangeSearchPattern.bind(U(r)),r.searchClients=r.searchClients.bind(U(r)),r.navigate=r.navigate.bind(U(r)),r.navigatePerPage=r.navigatePerPage.bind(U(r)),r}return function(e,t,a){t&&I(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({clients:e.clients,source:e.source,loggedIn:e.loggedIn})}},{key:"addClient",value:function(e){d.a.sendMessage("App",{type:"add",role:"client"})}},{key:"editClient",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"client",client:t,index:a})}},{key:"deleteClient",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"client",client:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.clients;t.searchPattern=e.target.value,this.setState({clients:t})}},{key:"searchClients",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset,limit:this.state.clients.limit})}},{key:"navigate",value:function(e,t){t>0?d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset+this.state.clients.limit,limit:this.state.clients.limit}):this.state.clients.offset&&d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset-this.state.clients.limit,limit:this.state.clients.limit})}},{key:"navigatePerPage",value:function(e,t){d.a.sendMessage("App",{type:"search",role:"client",searchPattern:this.state.clients.searchPattern,offset:this.state.clients.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.clients.list.forEach((function(a,r){var o=!0;e.state.source.forEach((function(e){a.source===e.name&&(o=e.readonly)})),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.source),n.a.createElement("td",null,a.client_id),n.a.createElement("td",null,a.name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group pull-right",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editClient(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteClient(t,a)},title:i.a.t("admin.delete"),disabled:o},n.a.createElement("i",{className:"fas fa-trash"}))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},n.a.createElement("h4",null,i.a.t("admin.client-list-title"))),n.a.createElement("th",{colSpan:"3"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchClients(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",T({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.clients.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.clients.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",T({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.clients.limit>this.state.clients.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addClient(t)},title:i.a.t("admin.client-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.clients.searchPattern||""}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchClients(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addClient(t)},alt:i.a.t("admin.user-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.user-add")))))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.source")),n.a.createElement("th",null,i.a.t("admin.client_id")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5"},i.a.t("admin.nav-footer",{offset:this.state.clients.offset,limit:this.state.clients.limit})))))}}]),a}();function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function J(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=B(e);if(t){var n=B(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==K(t)&&"function"!=typeof t?G(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,scopes:e.scopes,curScope:{},add:!1,searchPattern:"",offset:0,limit:20,loggedIn:e.loggedIn},r.addScope=r.addScope.bind(G(r)),r.editScope=r.editScope.bind(G(r)),r.deleteScope=r.deleteScope.bind(G(r)),r.handleChangeSearchPattern=r.handleChangeSearchPattern.bind(G(r)),r.searchScopes=r.searchScopes.bind(G(r)),r.navigate=r.navigate.bind(G(r)),r.navigatePerPage=r.navigatePerPage.bind(G(r)),r}return function(e,t,a){t&&J(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({scopes:e.scopes,loggedIn:e.loggedIn})}},{key:"addScope",value:function(e){d.a.sendMessage("App",{type:"add",role:"scope"})}},{key:"editScope",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"scope",scope:t,index:a})}},{key:"deleteScope",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"scope",scope:t})}},{key:"handleChangeSearchPattern",value:function(e){this.setState({searchPattern:e.target.value})}},{key:"searchScopes",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset,limit:this.state.limit})}},{key:"navigate",value:function(e,t){t>0?d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset+this.state.limit,limit:this.state.limit}):this.state.offset&&d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset-this.state.limit,limit:this.state.limit})}},{key:"navigatePerPage",value:function(e,t){d.a.sendMessage("App",{type:"search",role:"scope",searchPattern:this.state.searchPattern,offset:this.state.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.scopes.list.forEach((function(a,r){t.push(n.a.createElement("tr",{key:r},n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.description||""),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editScope(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteScope(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"1"},n.a.createElement("h4",null,i.a.t("admin.scope-list-title"))),n.a.createElement("th",{colSpan:"3"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchScopes(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",V({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",V({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.limit>this.state.scopes.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addScope(t)},title:i.a.t("admin.scope-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.handleChangeSearchPattern}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchScopes(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addScope(t)},alt:i.a.t("admin.scope-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.scope-add")))))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.description")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.offset,limit:this.state.limit})))))}}]),a}();function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Q(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ee(e);if(t){var n=ee(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?Z(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(Z(r)),r.reloadMods=r.reloadMods.bind(Z(r)),r.editMod=r.editMod.bind(Z(r)),r.deleteMod=r.deleteMod.bind(Z(r)),r.switchModStatus=r.switchModStatus.bind(Z(r)),r}return function(e,t,a){t&&Y(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"userMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"userMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"userMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"userMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"userMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s,l="",c="",m="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(c=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),a.enabled?(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),s=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),s=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),n.a.createElement("td",null,l),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.readonly?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},m,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"})),c),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),o)))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"5"},n.a.createElement("h4",null,i.a.t("admin.user-mod-list-title"))),n.a.createElement("th",{colSpan:"1"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},n.a.createElement("i",{className:"fas fa-refresh"}))))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.readonly")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}]),a}();function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=se(e);if(t){var n=se(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?oe(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(oe(r)),r.reloadMods=r.reloadMods.bind(oe(r)),r.editMod=r.editMod.bind(oe(r)),r.deleteMod=r.deleteMod.bind(oe(r)),r.moveModUp=r.moveModUp.bind(oe(r)),r.switchModStatus=r.switchModStatus.bind(oe(r)),r}return function(e,t,a){t&&re(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"clientMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"clientMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"clientMod",mod:t})}},{key:"moveModUp",value:function(e,t,a){t.order_rank--,a.order_rank++,d.a.sendMessage("App",{type:"swap",role:"clientMod",mod:t,previousMod:a})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"clientMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s,l="",c="",m="";e.state.types.forEach((function(e){a.module===e.name&&(l=e.display_name)})),r&&(c=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.moveModUp(t,a,e.state.mods[r-1])},title:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return moveModUp(t,a,e.state.mods[r-1])},alt:i.a.t("admin.move-up")},n.a.createElement("i",{className:"fas fa-sort-up btn-icon"}),i.a.t("admin.move-up"))),a.enabled?(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),s=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(m=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),s=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.order_rank),n.a.createElement("td",null,l),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.readonly?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},m,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"})),c),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},s,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")),o)))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"5"},n.a.createElement("h4",null,i.a.t("admin.client-mod-list-title"))),n.a.createElement("th",{colSpan:"1"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},n.a.createElement("i",{className:"fas fa-refresh"}))))),n.a.createElement("tr",null,n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.order")),n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.readonly")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}]),a}();function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return(pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=pe(e);if(t){var n=pe(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?de(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(de(r)),r.reloadMods=r.reloadMods.bind(de(r)),r.editMod=r.editMod.bind(de(r)),r.deleteMod=r.deleteMod.bind(de(r)),r.switchModStatus=r.switchModStatus.bind(de(r)),r}return function(e,t,a){t&&ce(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"schemeMod"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"schemeMod",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"schemeMod",mod:t})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"schemeMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s="",l="";e.state.types.forEach((function(e){a.module===e.name&&(s=e.display_name)})),a.enabled?(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",null,s),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},l,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"4"},n.a.createElement("h4",null,i.a.t("admin.scheme-mod-list-title")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},n.a.createElement("i",{className:"fas fa-refresh"}))))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}]),a}();function he(e){return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t){return(ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ge(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ye(e);if(t){var n=ye(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?be(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mods:e.mods,curMod:{},types:e.types,loggedIn:e.loggedIn},r.addMod=r.addMod.bind(be(r)),r.reloadMods=r.reloadMods.bind(be(r)),r.editMod=r.editMod.bind(be(r)),r.deleteMod=r.deleteMod.bind(be(r)),r.switchModStatus=r.switchModStatus.bind(be(r)),r}return function(e,t,a){t&&fe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({mods:e.mods,types:e.types,loggedIn:e.loggedIn})}},{key:"addMod",value:function(e){d.a.sendMessage("App",{type:"add",role:"plugin"})}},{key:"reloadMods",value:function(e){d.a.sendMessage("App",{type:"reloadMods"})}},{key:"editMod",value:function(e,t,a){d.a.sendMessage("App",{type:"edit",role:"plugin",mod:t,index:a})}},{key:"deleteMod",value:function(e,t){d.a.sendMessage("App",{type:"delete",role:"plugin",mod:t})}},{key:"switchModStatus",value:function(e){var t=e.enabled?"disable":"enable";m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(e.name)+"/"+t+"/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){d.a.sendMessage("App",{type:"refresh",role:"pluginMod",mod:e})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mods.forEach((function(a,r){var o,s="",l="";e.state.types.forEach((function(e){a.module===e.name&&(s=e.display_name)})),a.enabled?(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-off")},n.a.createElement("i",{className:"fas fa-toggle-on btn-icon"}),i.a.t("admin.switch-off"))):(l=n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.switchModStatus(a)},title:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off"})),o=n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.switchModStatus(a)},alt:i.a.t("admin.switch-on")},n.a.createElement("i",{className:"fas fa-toggle-off btn-icon"}),i.a.t("admin.switch-on"))),t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",null,s),n.a.createElement("td",null,a.name),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.display_name||""),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.enabled?i.a.t("admin.yes"):i.a.t("admin.no")),n.a.createElement("td",null,n.a.createElement("div",{className:"btn-group d-none d-lg-table-cell",role:"group"},l,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.editMod(t,a,r)},title:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit"})),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteMod(t,a)},title:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash"}))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},o,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.editMod(t,a,r)},alt:i.a.t("admin.edit")},n.a.createElement("i",{className:"fas fa-edit btn-icon"}),i.a.t("admin.edit")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.deleteMod(t,a)},alt:i.a.t("admin.delete")},n.a.createElement("i",{className:"fas fa-trash btn-icon"}),i.a.t("admin.delete")))))))})),n.a.createElement("table",{className:"table table-responsive table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3"},n.a.createElement("h4",null,i.a.t("admin.plugin-mod-list-title"))),n.a.createElement("th",{colSpan:"1"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addMod(t)},title:i.a.t("admin.add")},n.a.createElement("i",{className:"fas fa-plus"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.reloadMods(t)},title:i.a.t("login.btn-reload")},n.a.createElement("i",{className:"fas fa-refresh"}))))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.type")),n.a.createElement("th",null,i.a.t("admin.name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.display-name")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.enabled")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t))}}]),a}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function we(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Se(e);if(t){var n=Se(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Ce(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,scope:e.scope,add:e.add,errorList:{},hasError:!1,modSchemes:e.modSchemes,callback:e.callback},r.closeModal=r.closeModal.bind(Ce(r)),r.changeName=r.changeName.bind(Ce(r)),r.changeDisplayName=r.changeDisplayName.bind(Ce(r)),r.changeDescription=r.changeDescription.bind(Ce(r)),r.changePwdMaxAge=r.changePwdMaxAge.bind(Ce(r)),r.togglePasswordRequired=r.togglePasswordRequired.bind(Ce(r)),r.addScheme=r.addScheme.bind(Ce(r)),r.handleRemoveScheme=r.handleRemoveScheme.bind(Ce(r)),r.handleSelectSchemeRequired=r.handleSelectSchemeRequired.bind(Ce(r)),r}return function(e,t,a){t&&we(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,scope:e.scope,add:e.add,errorList:{},hasError:!1,modSchemes:e.modSchemes,callback:e.callback})}},{key:"closeModal",value:function(e,t){var a=this.state.scope;t?this.state.callback&&(a.name?(a.display_name||delete a.display_name,a.description||delete a.description,this.state.callback(t,a)):this.setState({errorList:{name:i.a.t("admin.scope-error-name")},hasError:!0})):this.state.callback(t)}},{key:"changeName",value:function(e){var t=this.state.scope;t.name=e.target.value,this.setState({scope:t})}},{key:"changePwdMaxAge",value:function(e){var t=this.state.scope;t.password_max_age=parseInt(e.target.value),this.setState({scope:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.scope;t.display_name=e.target.value,this.setState({scope:t})}},{key:"changeDescription",value:function(e){var t=this.state.scope;t.description=e.target.value,this.setState({scope:t})}},{key:"togglePasswordRequired",value:function(e){var t=this.state.scope;t.password_required=!t.password_required,this.setState({scope:t})}},{key:"addScheme",value:function(e,t){var a=this.state.scope;if(!t){var r=0;for(var n in a.scheme)r++;for(t=""+r;void 0!==a.scheme[t];)t=""+ ++r;a.scheme[t]=[],a.scheme_required||(a.scheme_required={}),a.scheme_required[t]=1}var o={scheme_name:e};this.state.modSchemes.forEach((function(t){t.name===e&&(o.scheme_type=t.module,o.scheme_display_name=t.display_name)})),a.scheme[t].push(o),this.setState({scope:a})}},{key:"handleRemoveScheme",value:function(e,t,a){var r=this.state.scope;r.scheme[t]&&r.scheme[t].forEach((function(e,n){e.scheme_name===a.scheme_name&&(r.scheme[t].splice(n,1),r.scheme_required[t]>r.scheme[t].length&&(r.scheme_required[t]=r.scheme[t].length),r.scheme[t].length||(delete r.scheme[t],delete r.scheme_required[t]))})),this.setState({scope:r})}},{key:"handleSelectSchemeRequired",value:function(e,t,a){e.preventDefault();var r=this.state.scope;r.scheme_required||(r.scheme_required={}),r.scheme_required[t]=a,this.setState({scope:r})}},{key:"render",value:function(){var e,t,a,r,o,s,l=this,c=[],m=0,d=[],p=[];for(var u in this.state.hasError&&(s=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input"))),this.state.modSchemes.forEach((function(e){e.enabled&&(d.push(e.name),p.push(e.display_name||e.name))})),this.state.scope.scheme)this.state.scope.scheme[u].forEach((function(e,t){d.indexOf(e.scheme_name)>=0&&(p.splice(d.indexOf(e.scheme_name),1),d.splice(d.indexOf(e.scheme_name),1))}));return $.each(this.state.scope.scheme,(function(e,t){var r=[];o=[];var s=0;t.forEach((function(t,a){r.length&&r.push(n.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:s++},i.a.t("admin.or"))),r.push(n.a.createElement("a",{href:"#",key:s++,onClick:function(a){return l.handleRemoveScheme(a,e,t)}},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.scheme_display_name||t.scheme_name,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))),l.state.scope.scheme_required&&l.state.scope.scheme_required[e]===a+1||!a&&!l.state.scope.scheme_required?o.push(n.a.createElement("a",{className:"dropdown-item active",href:"#",key:a,disabled:!0},a+1)):o.push(n.a.createElement("a",{className:"dropdown-item",href:"#",key:a,onClick:function(t){return l.handleSelectSchemeRequired(t,e,a+1)}},a+1))})),c.length&&c.push(n.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:m++},i.a.t("admin.and"))),d.length&&(r.length&&r.push(n.a.createElement("span",{className:"badge badge-secondary btn-icon-right",key:s++},i.a.t("admin.or"))),a=[],d.forEach((function(t,r){a.push(n.a.createElement("a",{className:"dropdown-item",href:"#",key:r,onClick:function(){return l.addScheme(t,e)}},p[r]))})),r.push(n.a.createElement("div",{className:"dropdown",key:s++},n.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-add-scheme")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a)))),c.push(n.a.createElement("div",{className:"card glwd-group-card",key:m++},n.a.createElement("div",{className:"card-body"},r),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-scheme-required-count",{number:l.state.scope.scheme_required&&l.state.scope.scheme_required[e]?l.state.scope.scheme_required[e]:1})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},o))))})),d.length&&(a=[],d.forEach((function(e,t){a.push(n.a.createElement("a",{className:"dropdown-item",href:"#",key:t,onClick:function(){return l.addScheme(e,!1)}},p[t]))})),r=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary btn-sm dropdown-toggle",type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.scope-add-scheme-group")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a))),n.a.createElement("div",{className:"modal fade",id:"editScopeModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return l.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",(Ne(e={className:"input-group-text"},"className","input-group-text"),Ne(e,"htmlFor","scope-name"),e),i.a.t("admin.scope-name"))),n.a.createElement("input",{type:"text",className:this.state.errorList.name?"form-control is-invalid":"form-control",id:"scope-name",placeholder:i.a.t("admin.scope-name-ph"),maxLength:"128",value:this.state.scope.name||"",onChange:function(e){return l.changeName(e)},disabled:!this.state.add})),this.state.errorList.name?n.a.createElement("span",{className:"error-input"},this.state.errorList.name):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"scope-display-name"},i.a.t("admin.scope-display-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"scope-display-name",placeholder:i.a.t("admin.scope-display-name-ph"),maxLength:"256",value:this.state.scope.display_name||"",onChange:function(e){return l.changeDisplayName(e)}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"scope-description"},i.a.t("admin.scope-description"))),n.a.createElement("input",{type:"text",className:"form-control",id:"scope-description",placeholder:i.a.t("admin.scope-description-ph"),maxLength:"512",value:this.state.scope.description||"",onChange:function(e){return l.changeDescription(e)}}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("h4",null,i.a.t("admin.scope-auth-title"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"scope-scheme-password",onChange:function(e){return l.togglePasswordRequired(e)},checked:!!this.state.scope.password_required}),n.a.createElement("label",{className:"form-check-label",htmlFor:"scope-scheme-password"},i.a.t("admin.scope-scheme-password"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",(Ne(t={className:"input-group-text"},"className","input-group-text"),Ne(t,"htmlFor","scope-password-max-age"),t),i.a.t("admin.scope-password-max-age"))),n.a.createElement("input",{type:"number",step:"1",min:"0",disabled:!this.state.scope.password_required,className:"form-control",id:"password-max-age",placeholder:i.a.t("admin.scope-password-max-age-ph"),value:this.state.scope.password_max_age||0,onChange:function(e){return l.changePwdMaxAge(e)}}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("h4",null,i.a.t("admin.scope-auth-schemes-title"))),n.a.createElement("div",{className:"form-group"},c,r))),n.a.createElement("div",{className:"modal-footer"},s,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return l.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return l.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}]),a}();function xe(e){return(xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Me(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return(_e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return(je=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_e(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=je(e);if(t){var n=je(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==xe(t)&&"function"!=typeof t?Le(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={mod:e.mod,role:e.role,check:e.check,hasError:!1},r.state.check&&r.checkParameters(),r.changeMockUserValue=r.changeMockUserValue.bind(Le(r)),r.changeMockClientValue=r.changeMockClientValue.bind(Le(r)),r.changeMockSchemeValue=r.changeMockSchemeValue.bind(Le(r)),r.checkParameters=r.checkParameters.bind(Le(r)),r}return function(e,t,a){t&&Me(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeMockUserValue",value:function(e){var t=this.state.mod;t.parameters["username-prefix"]=e.target.value,this.setState({mod:t})}},{key:"changeMockClientValue",value:function(e){var t=this.state.mod;t.parameters["client-id-prefix"]=e.target.value,this.setState({mod:t})}},{key:"changeMockSchemeValue",value:function(e){var t=this.state.mod;t.parameters["mock-value"]=e.target.value,this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=!1;"scheme"===this.state.role&&(this.state.mod.parameters["mock-value"]||(e=!0)),e?this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t="",a="";return"user"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=n.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-username-prefix-required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-username-prefix"},i.a.t("admin.mod-username-prefix"))),n.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-username-prefix",placeholder:i.a.t("admin.mod-username-prefix-ph"),maxLength:"256",value:this.state.mod.parameters["username-prefix"]||"",onChange:function(t){return e.changeMockUserValue(t)}}),t))):"client"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=n.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-client-id-prefix-required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-client-id-prefix"},i.a.t("admin.mod-client-id-prefix"))),n.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-client-id-prefix",placeholder:i.a.t("admin.mod-client-id-prefix-ph"),maxLength:"256",value:this.state.mod.parameters["client-id-prefix"]||"",onChange:function(t){return e.changeMockClientValue(t)}}),t))):"scheme"===this.state.role?(this.state.hasError&&(a=" is-invalid",t=n.a.createElement("span",{className:"error-input"},i.a.t("admin.mod-mock-scheme-value-required"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mock-scheme-value"},i.a.t("admin.mod-scheme-value"))),n.a.createElement("input",{type:"text",className:"form-control"+a,id:"mod-mock-scheme-value",placeholder:i.a.t("admin.mod-scheme-value-ph"),maxLength:"256",value:this.state.mod.parameters["mock-value"]||"",onChange:function(t){return e.changeMockSchemeValue(t)}}),t))):""}}]),a}();function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ae(e,t){return(Ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var De=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ae(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ie(e);if(t){var n=Ie(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?Te(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod.parameters||(e.mod.parameters={}),void 0===e.mod.parameters["use-glewlwyd-connection"]&&(e.mod.parameters["use-glewlwyd-connection"]=!0),r.state={mod:e.mod,role:e.role,check:e.check,errorList:{}},r.state.check&&r.checkParameters(),r.toggleInternalConnection=r.toggleInternalConnection.bind(Te(r)),r.changeDbType=r.changeDbType.bind(Te(r)),r.getDbType=r.getDbType.bind(Te(r)),r.changeValue=r.changeValue.bind(Te(r)),r.addDataFormat=r.addDataFormat.bind(Te(r)),r.deleteDataFormat=r.deleteDataFormat.bind(Te(r)),r.checkParameters=r.checkParameters.bind(Te(r)),r.changedataFormatConvert=r.changedataFormatConvert.bind(Te(r)),r}return function(e,t,a){t&&Fe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters||(e.mod.parameters={}),e.mod&&e.mod.parameters&&void 0===e.mod.parameters["use-glewlwyd-connection"]&&(e.mod.parameters["use-glewlwyd-connection"]=!0),this.setState({mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"toggleInternalConnection",value:function(e){var t=this.state.mod;t.parameters["use-glewlwyd-connection"]=!t.parameters["use-glewlwyd-connection"],this.setState({mod:t})}},{key:"changeDbType",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["connection-type"]=t,this.setState({mod:a})}},{key:"getDbType",value:function(e){return"sqlite"===e?i.a.t("admin.mod-database-type-sqlite"):"mariadb"===e?i.a.t("admin.mod-database-type-mariadb"):"postgre"===e?i.a.t("admin.mod-database-type-postgre"):i.a.t("admin.mod-database-select-type")}},{key:"changeValue",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"addDataFormat",value:function(){var e=this.state.mod;e.parameters["data-format"]||(e.parameters["data-format"]={}),"user"===this.state.role?e.parameters["data-format"][""]={multiple:!1,read:!0,write:!0,"profile-read":!1,"profile-write":!1}:"client"===this.state.role&&(e.parameters["data-format"][""]={multiple:!1,read:!0,write:!0}),this.setState({mod:e})}},{key:"changeDataFormatProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][e.target.value]=a.parameters["data-format"][t],delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changedataFormatConvert",value:function(e,t,a){var r=this.state.mod;a?r.parameters["data-format"][t].convert=a:delete r.parameters["data-format"][t].convert,this.setState({mod:r})}},{key:"toggleDataFormatValue",value:function(e,t,a){var r=this.state.mod;r.parameters["data-format"][t][a]=!r.parameters["data-format"][t][a],this.setState({mod:r})}},{key:"deleteDataFormat",value:function(e,t){var a=this.state.mod;delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["use-glewlwyd-connection"]?this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){a||(t=!0,e["data-format"]=i.a.t("admin.mod-data-format-property-error"))})):("sqlite"===this.state.mod.parameters["connection-type"]?this.state.mod.parameters["sqlite-dbpath"]||(t=!0,e["sqlite-dbpath"]=i.a.t("admin.mod-database-sqlite-dbpath-error")):"mariadb"===this.state.mod.parameters["connection-type"]?(this.state.mod.parameters["mariadb-host"]||(t=!0,e["mariadb-host"]=i.a.t("admin.mod-database-mariadb-host-error")),this.state.mod.parameters["mariadb-user"]||(t=!0,e["mariadb-user"]=i.a.t("admin.mod-database-mariadb-user-error")),this.state.mod.parameters["mariadb-password"]||(t=!0,e["mariadb-password"]=i.a.t("admin.mod-database-mariadb-password-error")),this.state.mod.parameters["mariadb-dbname"]||(t=!0,e["mariadb-dbname"]=i.a.t("admin.mod-database-mariadb-dbname-error"))):"postgre"===this.state.mod.parameters["connection-type"]?this.state.mod.parameters["postgre-conninfo"]||(t=!0,e["postgre-conninfo"]=i.a.t("admin.mod-database-postgre-conninfo-error")):(t=!0,e["connection-type"]=i.a.t("admin.mod-database-connection-type-error")),this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){a||(t=!0,e["data-format"]=i.a.t("admin.mod-ldap-data-format-property-error"))}))),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-use-internal-connection",onChange:function(e){return a.toggleInternalConnection(e)},checked:this.state.mod.parameters["use-glewlwyd-connection"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-use-internal-connection"},i.a.t("admin.mod-database-use-internal-connection")));this.state.mod.parameters["use-glewlwyd-connection"]||(e=n.a.createElement("div",null,n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownDbType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.getDbType(this.state.mod.parameters["connection-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownDbType"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"sqlite")}},i.a.t("admin.mod-database-type-sqlite")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"mariadb")}},i.a.t("admin.mod-database-type-mariadb")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(e){return a.changeDbType(e,"postgre")}},i.a.t("admin.mod-database-type-postgre")))),this.state.errorList["connection-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["connection-type"]):""),"sqlite"===this.state.mod.parameters["connection-type"]?t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-sqlite-dbpath"},i.a.t("admin.mod-database-sqlite-dbpath"))),n.a.createElement("input",{type:"text",className:this.state.errorList["sqlite-dbpath"]?"form-control is-invalid":"form-control",id:"mod-database-sqlite-dbpath",onChange:function(e){return a.changeValue(e,"sqlite-dbpath")},value:this.state.mod.parameters["sqlite-dbpath"],placeholder:i.a.t("admin.mod-database-sqlite-dbpath-ph")})),this.state.errorList["sqlite-dbpath"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["sqlite-dbpath"]):""):"mariadb"===this.state.mod.parameters["connection-type"]?t=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-host"},i.a.t("admin.mod-database-mariadb-host"))),n.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-host"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-host",onChange:function(e){return a.changeValue(e,"mariadb-host")},value:this.state.mod.parameters["mariadb-host"],placeholder:i.a.t("admin.mod-database-mariadb-host-ph")})),this.state.errorList["mariadb-host"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-host"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-user"},i.a.t("admin.mod-database-mariadb-user"))),n.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-user"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-user",onChange:function(e){return a.changeValue(e,"mariadb-user")},value:this.state.mod.parameters["mariadb-user"],placeholder:i.a.t("admin.mod-database-mariadb-user-ph")})),this.state.errorList["mariadb-user"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-user"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-password"},i.a.t("admin.mod-database-mariadb-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList["mariadb-password"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-password",onChange:function(e){return a.changeValue(e,"mariadb-password")},value:this.state.mod.parameters["mariadb-password"],placeholder:i.a.t("admin.mod-database-mariadb-password-ph")})),this.state.errorList["mariadb-password"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-password"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-dbname"},i.a.t("admin.mod-database-mariadb-dbname"))),n.a.createElement("input",{type:"text",className:this.state.errorList["mariadb-dbname"]?"form-control is-invalid":"form-control",id:"mod-database-mariadb-dbname",onChange:function(e){return a.changeValue(e,"mariadb-dbname")},value:this.state.mod.parameters["mariadb-dbname"],placeholder:i.a.t("admin.mod-database-mariadb-dbname-ph")})),this.state.errorList["mariadb-dbname"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["mariadb-dbname"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-mariadb-port"},i.a.t("admin.mod-database-mariadb-port"))),n.a.createElement("input",{type:"number",min:"0",max:"65535",step:"1",className:"form-control",id:"mod-database-mariadb-port",onChange:function(e){return a.changeValue(e,"mariadb-port")},value:this.state.mod.parameters["mariadb-port"],placeholder:i.a.t("admin.mod-database-mariadb-port-ph")})))):"postgre"===this.state.mod.parameters["connection-type"]&&(t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-postgre-conninfo"},i.a.t("admin.mod-database-postgre-conninfo"))),n.a.createElement("input",{type:"text",className:this.state.errorList["postgre-conninfo"]?"form-control is-invalid":"form-control",id:"mod-database-postgre-conninfo",onChange:function(e){return a.changeValue(e,"postgre-conninfo")},value:this.state.mod.parameters["postgre-conninfo"],placeholder:i.a.t("admin.mod-database-postgre-conninfo-ph")})),this.state.errorList["postgre-conninfo"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["postgre-conninfo"]):"")));var o=[],s=0;this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(e){var t=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-name-"+e},i.a.t("admin.mod-database-data-format-property"))),n.a.createElement("input",{type:"text",className:a.state.errorList["data-format"]?"form-control is-invalid":"form-control",id:"mod-database-data-format-name-"+e,onChange:function(t){return a.changeDataFormatProperty(t,e)},value:e,placeholder:i.a.t("admin.mod-database-data-format-property-ph")})),a.state.errorList["data-format"]?n.a.createElement("span",{className:"error-input"},a.state.errorList["data-format"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-multiple-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"multiple")},checked:a.state.mod.parameters["data-format"][e].multiple}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-multiple-"+e},i.a.t("admin.mod-database-data-format-multiple"))));"user"===a.state.role?o.push(n.a.createElement("div",{key:s++},t,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"read")},checked:a.state.mod.parameters["data-format"][e].read}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+e},i.a.t("admin.mod-database-data-format-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"write")},checked:a.state.mod.parameters["data-format"][e].write}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+e},i.a.t("admin.mod-database-data-format-write"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"profile-read")},checked:a.state.mod.parameters["data-format"][e]["profile-read"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-read-"+e},i.a.t("admin.mod-database-data-format-profile-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"profile-write")},checked:a.state.mod.parameters["data-format"][e]["profile-write"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-write-"+e},i.a.t("admin.mod-database-data-format-profile-write"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteDataFormat(t,e)},title:i.a.t("admin.mod-data-format-delete")},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement("hr",null))):"client"===a.state.role&&o.push(n.a.createElement("div",{key:s++},t,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"read")},checked:a.state.mod.parameters["data-format"][e].read}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+e},i.a.t("admin.mod-database-data-format-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+e,onChange:function(t){return a.toggleDataFormatValue(t,e,"write")},checked:a.state.mod.parameters["data-format"][e].write}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+e},i.a.t("admin.mod-database-data-format-write"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteDataFormat(t,e)},title:i.a.t("admin.mod-data-format-delete")},n.a.createElement("i",{className:"fas fa-trash"})),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownFormatConvert-"+s},i.a.t("admin.mod-database-data-format-convert"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownFormatConvert-"+s,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-database-data-format-convert-"+(a.state.mod.parameters["data-format"][e].convert?a.state.mod.parameters["data-format"][e].convert:"none"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownFormatConvert-"+s},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.changedataFormatConvert(t,e,!1)}},i.a.t("admin.mod-database-data-format-convert-none")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return a.changedataFormatConvert(t,e,"jwks")}},i.a.t("admin.mod-database-data-format-convert-jwks")))))),n.a.createElement("hr",null)))}));var l=n.a.createElement("div",{className:"accordion",id:"accordionParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["data-format"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-data-format")))),n.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-data-format-message")),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},n.a.createElement("i",{className:"fas fa-plus"})),o))));return"user"===this.state.role||"client"===this.state.role?n.a.createElement("div",null,r,e,t,l):""}}]),a}();function Ue(e){return(Ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ze(e,t){return(ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ke(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ze(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ve(e);if(t){var n=Ve(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ue(t)&&"function"!=typeof t?Ke(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod.parameters["scope-match"]||(e.mod.parameters["scope-match"]=[]),e.mod.parameters["search-scope"]||(e.mod.parameters["search-scope"]="one"),r.state={mod:e.mod,role:e.role,check:e.check,errorList:{}},r.state.check&&r.checkParameters(),r.addDataFormat=r.addDataFormat.bind(Ke(r)),r.changeDataFormatProperty=r.changeDataFormatProperty.bind(Ke(r)),r.changeDataFormatLdapProperty=r.changeDataFormatLdapProperty.bind(Ke(r)),r.toggleDataFormatValue=r.toggleDataFormatValue.bind(Ke(r)),r.toggleDataFormatMultiple=r.toggleDataFormatMultiple.bind(Ke(r)),r.deleteDataFormat=r.deleteDataFormat.bind(Ke(r)),r.changeParam=r.changeParam.bind(Ke(r)),r.addScopeMatch=r.addScopeMatch.bind(Ke(r)),r.changeScopeMatchProperty=r.changeScopeMatchProperty.bind(Ke(r)),r.changeMatchType=r.changeMatchType.bind(Ke(r)),r.changedataFormatConvert=r.changedataFormatConvert.bind(Ke(r)),r.changePasswordAlgorithm=r.changePasswordAlgorithm.bind(Ke(r)),r.getMatchType=r.getMatchType.bind(Ke(r)),r.changePageSize=r.changePageSize.bind(Ke(r)),r.checkParameters=r.checkParameters.bind(Ke(r)),r.deleteScopeMatch=r.deleteScopeMatch.bind(Ke(r)),r.changeSearchScope=r.changeSearchScope.bind(Ke(r)),r}return function(e,t,a){t&&qe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod.parameters["scope-match"]||(e.mod.parameters["scope-match"]=[]),e.mod.parameters["search-scope"]||(e.mod.parameters["search-scope"]="one"),this.setState({mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"addDataFormat",value:function(){var e=this.state.mod;e.parameters["data-format"]||(e.parameters["data-format"]={}),e.parameters["data-format"][""]={property:"",multiple:!1,read:!0,write:!0,"profile-read":!1,"profile-write":!1},this.setState({mod:e})}},{key:"changeDataFormatProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][e.target.value]=a.parameters["data-format"][t],delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changeDataFormatLdapProperty",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][t].property=e.target.value,this.setState({mod:a})}},{key:"toggleDataFormatValue",value:function(e,t,a){var r=this.state.mod;r.parameters["data-format"][t][a]=!r.parameters["data-format"][t][a],this.setState({mod:r})}},{key:"toggleDataFormatMultiple",value:function(e,t){var a=this.state.mod;a.parameters["data-format"][t].multiple=!a.parameters["data-format"][t].multiple,this.setState({mod:a})}},{key:"changedataFormatConvert",value:function(e,t,a){var r=this.state.mod;a?r.parameters["data-format"][t].convert=a:delete r.parameters["data-format"][t].convert,this.setState({mod:r})}},{key:"deleteDataFormat",value:function(e,t){var a=this.state.mod;delete a.parameters["data-format"][t],this.setState({mod:a})}},{key:"changeParam",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.state.mod;r.parameters[t]=a?e.target.value.replace(/ /g,"").split(","):e.target.value,this.setState({mod:r})}},{key:"addScopeMatch",value:function(){var e=this.state.mod;e.parameters["scope-match"]||(e.parameters["scope-match"]=[]),e.parameters["scope-match"].push({"ldap-value":"","scope-value":"",match:"equals"}),this.setState({mod:e})}},{key:"changeScopeMatchProperty",value:function(e,t,a){var r=this.state.mod;r.parameters["scope-match"][t][a]=e.target.value,this.setState({mod:r})}},{key:"changeMatchType",value:function(e,t,a){var r=this.state.mod;r.parameters["scope-match"][t].match=a,this.setState({mod:r})}},{key:"changePasswordAlgorithm",value:function(e,t){var a=this.state.mod;a.parameters["password-algorithm"]=t,this.setState({mod:a})}},{key:"getMatchType",value:function(e){return"contains"===e?i.a.t("admin.mod-ldap-scope-match-contains"):"startswith"===e?i.a.t("admin.mod-ldap-scope-match-startswith"):"endswith"===e?i.a.t("admin.mod-ldap-scope-match-endswith"):i.a.t("admin.mod-ldap-scope-match-equals")}},{key:"changePageSize",value:function(e){var t=this.state.mod;t.parameters["page-size"]=parseInt(e.target.value),this.setState({mod:t})}},{key:"deleteScopeMatch",value:function(e){var t=this.state.mod;t.parameters["scope-match"].splice(e,1),this.setState({mod:t})}},{key:"changeSearchScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["search-scope"]=t,this.setState({mod:a})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;this.state.mod.parameters.uri||(a=!0,t.uri=i.a.t("admin.mod-ldap-uri-error")),this.state.mod.parameters["bind-dn"]||(a=!0,t["bind-dn"]=i.a.t("admin.mod-ldap-bind-dn-error")),this.state.mod.parameters["bind-password"]||(a=!0,t["bind-password"]=i.a.t("admin.mod-ldap-bind-password-error")),this.state.mod.parameters["base-search"]||(a=!0,t["base-search"]=i.a.t("admin.mod-ldap-base-search-error")),this.state.mod.parameters.filter||(a=!0,t.filter=i.a.t("admin.mod-ldap-filter-error")),this.state.mod.parameters["scope-property"]||(a=!0,t["scope-property"]=i.a.t("admin.mod-ldap-scope-property-error")),"user"===this.state.role?this.state.mod.parameters["username-property"]||(a=!0,t["username-property"]=i.a.t("admin.mod-ldap-username-property-error")):this.state.mod.parameters["client_id-property"]||(a=!0,t["client_id-property"]=i.a.t("admin.mod-ldap-client_id-property-error")),this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(r){r?e.state.mod.parameters["data-format"][r].property||(a=!0,t["data-format"]={},t["data-format"][r]=i.a.t("admin.mod-ldap-data-format-property-ldap-error")):(a=!0,t["data-format"]={error:i.a.t("admin.mod-data-format-property-error")})})),this.state.mod.parameters["scope-match"].forEach((function(e,r){e["ldap-value"]||(t["scope-match"]||(t["scope-match"]=[]),t["scope-match"][r]||(t["scope-match"][r]={}),a=!0,t["scope-match"][r].ldap=i.a.t("admin.mod-ldap-scope-match-ldap-value-error")),e["scope-value"]||(t["scope-match"]||(t["scope-match"]=[]),t["scope-match"][r]||(t["scope-match"][r]={}),a=!0,t["scope-match"][r].scope=i.a.t("admin.mod-ldap-scope-match-scope-value-error"))})),this.state.mod.readonly||(this.state.mod.parameters["rdn-property"]||(a=!0,t["rdn-property"]=i.a.t("admin.mod-ldap-rdn-property-error")),this.state.mod.readonly||(this.state.mod.parameters["password-property"]||(a=!0,t["password-property"]=i.a.t("admin.mod-ldap-password-property-error")),"1"!==this.state.mod.parameters.confidential&&"user"!==this.state.role||this.state.mod.parameters["password-algorithm"]||(a=!0,t["password-algorithm"]=i.a.t("admin.mod-ldap-password-algorithm-error"))),this.state.mod.parameters["object-class"]||(a=!0,t["object-class"]=i.a.t("admin.mod-ldap-object-class-error"))),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){("user"===e.state.role||"client"===e.state.role)&&d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[],a=[],r=0;this.state.mod.parameters["data-format"]&&Object.keys(this.state.mod.parameters["data-format"]).map((function(a){var o="";"user"===e.state.role&&(o=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-read-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"read")},checked:e.state.mod.parameters["data-format"][a].read}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-read-"+a},i.a.t("admin.mod-database-data-format-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-write-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"write")},checked:e.state.mod.parameters["data-format"][a].write}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-write-"+a},i.a.t("admin.mod-database-data-format-write"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-read-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"profile-read")},checked:e.state.mod.parameters["data-format"][a]["profile-read"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-read-"+a},i.a.t("admin.mod-database-data-format-profile-read"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-profile-write-"+a,onChange:function(t){return e.toggleDataFormatValue(t,a,"profile-write")},checked:e.state.mod.parameters["data-format"][a]["profile-write"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-profile-write-"+a},i.a.t("admin.mod-database-data-format-profile-write"))))),t.push(n.a.createElement("div",{key:r++},n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-name-"+a},i.a.t("admin.mod-database-data-format-property"))),n.a.createElement("input",{type:"text",className:e.state.errorList["data-format"]&&e.state.errorList["data-format"].error?"form-control is-invalid":"form-control",id:"mod-database-data-format-name-"+a,onChange:function(t){return e.changeDataFormatProperty(t,a)},value:a||"",placeholder:i.a.t("admin.mod-database-data-format-property-ph")})),e.state.errorList["data-format"]&&e.state.errorList["data-format"].error?n.a.createElement("span",{className:"error-input"},e.state.errorList["data-format"].error):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-database-data-format-ldap-name-"+a},i.a.t("admin.mod-database-data-format-ldap-property"))),n.a.createElement("input",{type:"text",className:e.state.errorList["data-format"]&&e.state.errorList["data-format"][a]?"form-control is-invalid":"form-control",id:"mod-database-data-format-ldap-name-"+a,onChange:function(t){return e.changeDataFormatLdapProperty(t,a)},value:e.state.mod.parameters["data-format"][a].property||"",placeholder:i.a.t("admin.mod-database-data-format-ldap-property-ph")})),e.state.errorList["data-format"]&&e.state.errorList["data-format"][a]?n.a.createElement("span",{className:"error-input"},e.state.errorList["data-format"][a]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-database-data-format-multiple-"+a,onChange:function(t){return e.toggleDataFormatMultiple(t,a)},checked:e.state.mod.parameters["data-format"][a].multiple}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-database-data-format-multiple-"+a},i.a.t("admin.mod-database-data-format-multiple"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownFormatConvert-"+r},i.a.t("admin.mod-database-data-format-convert"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownFormatConvert-"+r,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-database-data-format-convert-"+(e.state.mod.parameters["data-format"][a].convert?e.state.mod.parameters["data-format"][a].convert:"none"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownFormatConvert-"+r},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,!1)}},i.a.t("admin.mod-database-data-format-convert-none")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,"base64")}},i.a.t("admin.mod-database-data-format-convert-base64")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changedataFormatConvert(t,a,"jwks")}},i.a.t("admin.mod-database-data-format-convert-jwks")))))),o,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return e.deleteDataFormat(t,a)},title:i.a.t("admin.mod-data-format-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["scope-match"].forEach((function(t,r){a.push(n.a.createElement("div",{key:r},n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-match-ldap-"+r},i.a.t("admin.mod-ldap-scope-match-ldap"))),n.a.createElement("input",{type:"text",className:e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].ldap?"form-control is-invalid":"form-control",id:"mod-ldap-scope-match-ldap-"+r,onChange:function(t){return e.changeScopeMatchProperty(t,r,"ldap-value")},value:t["ldap-value"]||"",placeholder:i.a.t("admin.mod-ldap-scope-match-ldap-ph")})),e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].ldap?n.a.createElement("span",{className:"error-input"},e.state.errorList["scope-match"][r].ldap):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-match-scope-"+r},i.a.t("admin.mod-ldap-scope-match-scope"))),n.a.createElement("input",{type:"text",className:e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].scope?"form-control is-invalid":"form-control",id:"mod-ldap-scope-match-scope-"+r,onChange:function(t){return e.changeScopeMatchProperty(t,r,"scope-value")},value:t["scope-value"]||"",placeholder:i.a.t("admin.mod-ldap-scope-match-scope-ph")})),e.state.errorList["scope-match"]&&e.state.errorList["scope-match"][r]&&e.state.errorList["scope-match"][r].scope?n.a.createElement("span",{className:"error-input"},e.state.errorList["scope-match"][r].scope):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownMatchType-"+r},i.a.t("admin.mod-ldap-scope-match"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMatchType-"+r,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},e.getMatchType(t.match)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMatchType-"+r},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"equals")}},i.a.t("admin.mod-ldap-scope-match-equals")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"contains")}},i.a.t("admin.mod-ldap-scope-match-contains")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"startswith")}},i.a.t("admin.mod-ldap-scope-match-startswith")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changeMatchType(t,r,"endswith")}},i.a.t("admin.mod-ldap-scope-match-endswith")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(){return e.deleteScopeMatch(r)},title:i.a.t("admin.mod-ldap-scope-match-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))))}));var o="",s="",l="",c="",m="";return"user"===this.state.role?(o=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-username-property"},i.a.t("admin.mod-ldap-username-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["username-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-username-property",onChange:function(t){return e.changeParam(t,"username-property",!e.state.mod.readonly)},value:this.state.mod.parameters["username-property"]||"",placeholder:i.a.t("admin.mod-ldap-username-property-ph")})),this.state.errorList["username-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["username-property"]):""),s=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-email-property"},i.a.t("admin.mod-ldap-email-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-email-property",onChange:function(t){return e.changeParam(t,"email-property",!e.state.mod.readonly)},value:this.state.mod.parameters["email-property"]||"",placeholder:i.a.t("admin.mod-ldap-email-property-ph")})))):(c=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-client_id-property"},i.a.t("admin.mod-ldap-client_id-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["client_id-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-username-property",onChange:function(t){return e.changeParam(t,"client_id-property",!e.state.mod.readonly)},value:this.state.mod.parameters["client_id-property"]||"",placeholder:i.a.t("admin.mod-ldap-client_id-property-ph")})),this.state.errorList["client_id-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["client_id-property"]):""),l=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-description-property"},i.a.t("admin.mod-ldap-description-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-description-property",onChange:function(t){return e.changeParam(t,"description-property",!e.state.mod.readonly)},value:this.state.mod.parameters["description-property"]||"",placeholder:i.a.t("admin.mod-ldap-description-property-ph")}))),m=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-confidential-property"},i.a.t("admin.mod-ldap-confidential-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-confidential-property",onChange:function(t){return e.changeParam(t,"confidential-property",!e.state.mod.readonly)},value:this.state.mod.parameters["confidential-property"]||"",placeholder:i.a.t("admin.mod-ldap-confidential-property-ph")})))),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-uri"},i.a.t("admin.mod-ldap-uri"))),n.a.createElement("input",{type:"text",className:this.state.errorList.uri?"form-control is-invalid":"form-control",id:"mod-ldap-uri",onChange:function(t){return e.changeParam(t,"uri")},value:this.state.mod.parameters.uri||"",placeholder:i.a.t("admin.mod-ldap-uri-ph")})),this.state.errorList.uri?n.a.createElement("span",{className:"error-input"},this.state.errorList.uri):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-bind-dn"},i.a.t("admin.mod-ldap-bind-dn"))),n.a.createElement("input",{type:"text",className:this.state.errorList["bind-dn"]?"form-control is-invalid":"form-control",id:"mod-ldap-bind-dn",onChange:function(t){return e.changeParam(t,"bind-dn")},value:this.state.mod.parameters["bind-dn"]||"",placeholder:i.a.t("admin.mod-ldap-bind-dn-ph")})),this.state.errorList["bind-dn"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["bind-dn"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-bind-password"},i.a.t("admin.mod-ldap-bind-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList["bind-password"]?"form-control is-invalid":"form-control",id:"mod-ldap-bind-password",onChange:function(t){return e.changeParam(t,"bind-password")},value:this.state.mod.parameters["bind-password"]||"",placeholder:i.a.t("admin.mod-ldap-bind-password-ph")})),this.state.errorList["bind-password"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["bind-password"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-page-size"},i.a.t("admin.mod-ldap-page-size"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-ldap-page-size",onChange:this.changePageSize,value:this.state.mod.parameters["page-size"]||"",placeholder:i.a.t("admin.mod-ldap-page-size-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-base-search"},i.a.t("admin.mod-ldap-base-search"))),n.a.createElement("input",{type:"text",className:this.state.errorList["base-search"]?"form-control is-invalid":"form-control",id:"mod-ldap-base-search",onChange:function(t){return e.changeParam(t,"base-search")},value:this.state.mod.parameters["base-search"]||"",placeholder:i.a.t("admin.mod-ldap-base-search-ph")})),this.state.errorList["base-search"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["base-search"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-base-search"},i.a.t("admin.mod-ldap-search-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-ldap-search-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-ldap-search-scope-"+this.state.mod.parameters["search-scope"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-ldap-search-scope"},n.a.createElement("a",{className:"dropdown-item"+("one"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"one")}},i.a.t("admin.mod-ldap-search-scope-one")),n.a.createElement("a",{className:"dropdown-item"+("subtree"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"subtree")}},i.a.t("admin.mod-ldap-search-scope-subtree")),n.a.createElement("a",{className:"dropdown-item"+("children"===this.state.mod.parameters["search-scope"]?" active":""),href:"#",onClick:function(t){return e.changeSearchScope(t,"children")}},i.a.t("admin.mod-ldap-search-scope-children")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-filter"},i.a.t("admin.mod-ldap-filter"))),n.a.createElement("input",{type:"text",className:this.state.errorList.filter?"form-control is-invalid":"form-control",id:"mod-ldap-filter",onChange:function(t){return e.changeParam(t,"filter")},value:this.state.mod.parameters.filter||"",placeholder:i.a.t("admin.mod-ldap-filter-ph")})),this.state.errorList.filter?n.a.createElement("span",{className:"error-input"},this.state.errorList.filter):""),o,c,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-name-property"},i.a.t("admin.mod-ldap-name-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-ldap-name-property",onChange:function(t){return e.changeParam(t,"name-property",!e.state.mod.readonly)},value:this.state.mod.parameters["name-property"]||"",placeholder:i.a.t("admin.mod-ldap-name-property-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-scope-property"},i.a.t("admin.mod-ldap-scope-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["scope-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-scope-property",onChange:function(t){return e.changeParam(t,"scope-property",!e.state.mod.readonly)},value:this.state.mod.parameters["scope-property"]||"",placeholder:i.a.t("admin.mod-ldap-scope-property-ph")})),this.state.errorList["scope-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["scope-property"]):""),s,l,m,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-password-property"},i.a.t("admin.mod-ldap-password-property"))),n.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["password-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-password-property",onChange:function(t){return e.changeParam(t,"password-property")},value:this.state.mod.parameters["password-property"]||"",placeholder:i.a.t("admin.mod-ldap-password-property-ph")})),this.state.errorList["password-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["password-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"dropdownPasswordAlgorithm"},i.a.t("admin.mod-ldap-password-algorithm"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{disabled:this.state.mod.readonly,className:this.state.errorList["password-algorithm"]?"btn btn-secondary dropdown-toggle is-invalid":"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownPasswordAlgorithm","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.mod.parameters["password-algorithm"]||i.a.t("admin.mod-ldap-password-algorithm-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownPasswordAlgorithm"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SSHA")}},i.a.t("admin.mod-ldap-password-algorithm-ssha")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SHA")}},i.a.t("admin.mod-ldap-password-algorithm-sha")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"SMD5")}},i.a.t("admin.mod-ldap-password-algorithm-smd5")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"MD5")}},i.a.t("admin.mod-ldap-password-algorithm-md5")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT")}},i.a.t("admin.mod-ldap-password-algorithm-crypt")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_MD5")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-md5")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_SHA256")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-sha256")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"CRYPT_SHA512")}},i.a.t("admin.mod-ldap-password-algorithm-crypt-sha512")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.changePasswordAlgorithm(t,"PLAIN")}},i.a.t("admin.mod-ldap-password-algorithm-plain")))),this.state.errorList["password-algorithm"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["password-algorithm"]):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-rdn-property"},i.a.t("admin.mod-ldap-rdn-property"))),n.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["rdn-property"]?"form-control is-invalid":"form-control",id:"mod-ldap-rdn-property",onChange:function(t){return e.changeParam(t,"rdn-property")},value:this.state.mod.parameters["rdn-property"]||"",placeholder:i.a.t("admin.mod-ldap-rdn-property-ph")})),this.state.errorList["rdn-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["rdn-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-ldap-object-class"},i.a.t("admin.mod-ldap-object-class"))),n.a.createElement("input",{disabled:this.state.mod.readonly,type:"text",className:this.state.errorList["object-class"]?"form-control is-invalid":"form-control",id:"mod-ldap-object-class",onChange:function(t){return e.changeParam(t,"object-class",!0)},value:this.state.mod.parameters["object-class"]||"",placeholder:i.a.t("admin.mod-ldap-object-class-ph")})),this.state.errorList["object-class"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["object-class"]):""),n.a.createElement("div",{className:"accordion",id:"accordionParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["data-format"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-data-format")))),n.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-data-format-message")),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addDataFormat,title:i.a.t("admin.mod-data-format-add")},n.a.createElement("i",{className:"fas fa-plus"})),t))),n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"scopeMatchCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseScopeMatch","aria-expanded":"true","aria-controls":"collapseScopeMatch"},this.state.errorList["scope-match"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-scope-match")))),n.a.createElement("div",{id:"collapseScopeMatch",className:"collapse","aria-labelledby":"scopeMatchCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeMatch,title:i.a.t("admin.mod-scope-match-add")},n.a.createElement("i",{className:"fas fa-plus"})),a)))))}}]),a}();function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function We(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t){return(Ge=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Be(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xe(e){return(Xe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var He=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ge(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Xe(e);if(t){var n=Xe(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==$e(t)&&"function"!=typeof t?Be(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(Be(r)),r.toggleCheckServerCertificate=r.toggleCheckServerCertificate.bind(Be(r)),r.checkParameters=r.checkParameters.bind(Be(r)),r}return function(e,t,a){t&&We(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"toggleCheckServerCertificate",value:function(){var e=this.state.mod;e.parameters["check-server-certificate"]=!e.parameters["check-server-certificate"],this.setState({mod:e})}},{key:"addScope",value:function(e,t){var a=this.state.mod;a.parameters["default-scope"]?a.parameters["default-scope"].push(t):a.parameters["default-scope"]=[t],this.setState({mod:a})}},{key:"deleteDefaultScope",value:function(e,t){var a=this.state.mod;a.parameters["default-scope"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.url||(t=!0,e.url=i.a.t("admin.mod-http-url-error")),this.state.mod.parameters["default-scope"]||"user"!==this.state.role||(t=!0,e["default-scope"]=i.a.t("admin.mod-http-default-scope-error")),this.state.mod.parameters["username-format"]&&!this.state.mod.parameters["username-format"].includes("{username}")&&"user"===this.state.role&&(t=!0,e["username-format"]=i.a.t("admin.mod-http-username-format-error")),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this;if("user"===this.state.role){var a=[],r=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,r){a.push(n.a.createElement("a",{key:r,className:"dropdown-item",href:"#",onClick:function(a){return t.addScope(a,e)}},e))}))})),this.state.mod.parameters["default-scope"]&&this.state.mod.parameters["default-scope"].forEach((function(e,a){r.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return t.deleteDefaultScope(e,a)},key:a},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var o=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-http-default-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-http-default-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-http-default-scope"},a),n.a.createElement("div",null,r));e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-http-default-scope"))),o),this.state.errorList["default-scope"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["default-scope"]):"")}return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-http-url"},i.a.t("admin.mod-http-url"))),n.a.createElement("input",{type:"text",className:this.state.errorList.url?"form-control is-invalid":"form-control",id:"mod-http-url",onChange:function(e){return t.changeParam(e,"url")},value:this.state.mod.parameters.url||"",placeholder:i.a.t("admin.mod-http-url-ph")})),this.state.errorList.url?n.a.createElement("span",{className:"error-input"},this.state.errorList.url):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-check-server-certificate",onChange:function(e){return t.toggleCheckServerCertificate()},checked:this.state.mod.parameters["check-server-certificate"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-check-server-certificate"},i.a.t("admin.mod-check-server-certificate"))),e,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-http-username-format"},i.a.t("admin.mod-http-username-format"))),n.a.createElement("input",{type:"text",className:this.state.errorList["username-format"]?"form-control is-invalid":"form-control",id:"mod-http-username-format",onChange:function(e){return t.changeParam(e,"username-format")},value:this.state.mod.parameters["username-format"]||"",placeholder:i.a.t("admin.mod-http-username-format-ph")})),this.state.errorList["username-format"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["username-format"]):""))}}]),a}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t){return(Ze=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e){return(tt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var at=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ze(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=tt(e);if(t){var n=tt(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ye(t)&&"function"!=typeof t?et(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),void 0===e.mod.parameters.host&&(e.mod.parameters.host=""),void 0===e.mod.parameters.user&&(e.mod.parameters.user=""),void 0===e.mod.parameters.password&&(e.mod.parameters.password=""),void 0===e.mod.parameters["use-tls"]&&(e.mod.parameters["use-tls"]=!1),void 0===e.mod.parameters["check-certificate"]&&(e.mod.parameters["check-certificate"]=!0),e.mod.parameters["code-length"]||(e.mod.parameters["code-length"]=6),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters.from&&(e.mod.parameters.from=""),void 0===e.mod.parameters["user-lang-property"]&&(e.mod.parameters["user-lang-property"]="lang"),void 0===e.mod.parameters["content-type"]&&(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"","body-pattern":e.mod.parameters["body-pattern"]||"",defaultLang:!0}),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},currentLang:i.a.language,newLang:""},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(et(r)),r.toggleUseTls=r.toggleUseTls.bind(et(r)),r.toggleCheckServerCertificate=r.toggleCheckServerCertificate.bind(et(r)),r.checkParameters=r.checkParameters.bind(et(r)),r.changeLang=r.changeLang.bind(et(r)),r.toggleLangDefault=r.toggleLangDefault.bind(et(r)),r.changeNewLang=r.changeNewLang.bind(et(r)),r.addLang=r.addLang.bind(et(r)),r.removeLang=r.removeLang.bind(et(r)),r}return function(e,t,a){t&&Qe(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),void 0===e.mod.parameters.host&&(e.mod.parameters.host=""),void 0===e.mod.parameters.user&&(e.mod.parameters.user=""),void 0===e.mod.parameters.password&&(e.mod.parameters.password=""),void 0===e.mod.parameters["use-tls"]&&(e.mod.parameters["use-tls"]=!1),void 0===e.mod.parameters["check-certificate"]&&(e.mod.parameters["check-certificate"]=!0),e.mod.parameters["code-length"]||(e.mod.parameters["code-length"]=6),e.mod.parameters["code-duration"]||(e.mod.parameters["code-duration"]=600),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters.from&&(e.mod.parameters.from=""),void 0===e.mod.parameters["user-lang-property"]&&(e.mod.parameters["user-lang-property"]="lang"),void 0===e.mod.parameters["content-type"]&&(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={},e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"","body-pattern":e.mod.parameters["body-pattern"]||"",defaultLang:!0}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleUseTls",value:function(){var e=this.state.mod;e.parameters["use-tls"]=!e.parameters["use-tls"],this.setState({mod:e})}},{key:"toggleCheckServerCertificate",value:function(){var e=this.state.mod;e.parameters["check-certificate"]=!e.parameters["check-certificate"],this.setState({mod:e})}},{key:"changeNewLang",value:function(e){this.setState({newLang:e.target.value})}},{key:"addLang",value:function(){var e=this,t=this.state.mod,a=!1;Object.keys(t.parameters.templates).forEach((function(t){t===e.state.newLang&&(a=!0)})),!a&&this.state.newLang&&(t.parameters.templates[this.state.newLang]={subject:"","body-pattern":"",defaultLang:!1},this.setState({mod:t,newLang:"",currentLang:this.state.newLang}))}},{key:"removeLang",value:function(e){var t=this.state.mod,a=!1;delete t.parameters.templates[e],e==this.state.currentLang?(Object.keys(t.parameters.templates).forEach((function(e){a||(a=e)})),this.setState({mod:t,currentLang:a})):this.setState({mod:t})}},{key:"changeLang",value:function(e,t){this.setState({currentLang:t})}},{key:"changeTemplate",value:function(e,t){var a=this.state.mod;a.parameters.templates[this.state.currentLang][t]=e.target.value,this.setState({mod:a})}},{key:"toggleLangDefault",value:function(){var e=this,t=this.state.mod;Object.keys(t.parameters.templates).forEach((function(a){t.parameters.templates[a].defaultLang=a===e.state.currentLang})),this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;this.state.mod.parameters["code-length"]||(a=!0,t["code-length"]=i.a.t("admin.mod-email-code-length-error")),this.state.mod.parameters["code-duration"]||(a=!0,t["code-duration"]=i.a.t("admin.mod-email-code-duration-error")),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error")),this.state.mod.parameters.from||(a=!0,t.from=i.a.t("admin.mod-email-from-error")),this.state.mod.parameters["content-type"]||(a=!0,t["content-type"]=i.a.t("admin.mod-email-content-type-error")),this.state.mod.parameters["user-lang-property"]||(a=!0,t["user-lang-property"]=i.a.t("admin.mod-email-user-lang-property-error")),t.subject="",t["body-pattern"]="",Object.keys(this.state.mod.parameters.templates).forEach((function(r){e.state.mod.parameters.templates[r].subject||(a=!0,t.subject+=i.a.t("admin.mod-email-subject-error",{lang:r})),e.state.mod.parameters.templates[r]["body-pattern"]&&e.state.mod.parameters.templates[r]["body-pattern"].search("{CODE}")||(a=!0,t["body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}))})),a?this.setState({errorList:t}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];return t.push(n.a.createElement("div",{key:-2,className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(t){return e.changeNewLang(t)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",onClick:this.addLang,className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),t.push(n.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templates).forEach((function(a,r){t.push(n.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},n.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},a),n.a.createElement("button",{type:"button",onClick:function(t){return e.removeLang(a)},className:"btn btn-primary",disabled:e.state.mod.parameters.templates[a].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),n.a.createElement("button",{type:"button",onClick:function(t){return e.changeLang(t,a)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),t.push(n.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-code-length"},i.a.t("admin.mod-email-code-length"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["code-length"]?"form-control is-invalid":"form-control",id:"mod-email-code-length",onChange:function(t){return e.changeParam(t,"code-length")},value:this.state.mod.parameters["code-length"],placeholder:i.a.t("admin.mod-email-code-length-ph")})),this.state.errorList["code-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-length"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-code-duration"},i.a.t("admin.mod-email-code-duration"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-email-code-duration",onChange:function(t){return e.changeParam(t,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-email-code-duration-ph")})),this.state.errorList["code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-host"},i.a.t("admin.mod-email-host"))),n.a.createElement("input",{type:"text",className:this.state.errorList.host?"form-control is-invalid":"form-control",id:"mod-email-host",onChange:function(t){return e.changeParam(t,"host")},value:this.state.mod.parameters.host,placeholder:i.a.t("admin.mod-email-host-ph")})),this.state.errorList.host?n.a.createElement("span",{className:"error-input"},this.state.errorList.host):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-port"},i.a.t("admin.mod-email-port"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList.port?"form-control is-invalid":"form-control",id:"mod-email-port",onChange:function(t){return e.changeParam(t,"port",!0)},value:this.state.mod.parameters.port,placeholder:i.a.t("admin.mod-email-port-ph")})),this.state.errorList.port?n.a.createElement("span",{className:"error-input"},this.state.errorList.port):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-use-tls",onChange:function(t){return e.toggleUseTls()},checked:this.state.mod.parameters["use-tls"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-use-tls"},i.a.t("admin.mod-email-use-tls"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["use-tls"],id:"mod-email-check-certificate",onChange:function(t){return e.toggleCheckServerCertificate()},checked:this.state.mod.parameters["check-certificate"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-user"},i.a.t("admin.mod-email-user"))),n.a.createElement("input",{type:"text",className:this.state.errorList.user?"form-control is-invalid":"form-control",id:"mod-email-user",onChange:function(t){return e.changeParam(t,"user")},value:this.state.mod.parameters.user,placeholder:i.a.t("admin.mod-email-user-ph")})),this.state.errorList.user?n.a.createElement("span",{className:"error-input"},this.state.errorList.user):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-password"},i.a.t("admin.mod-email-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"mod-email-password",onChange:function(t){return e.changeParam(t,"password")},value:this.state.mod.parameters.password,placeholder:i.a.t("admin.mod-email-password-ph")})),this.state.errorList.password?n.a.createElement("span",{className:"error-input"},this.state.errorList.password):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-from"},i.a.t("admin.mod-email-from"))),n.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-email-from",onChange:function(t){return e.changeParam(t,"from")},value:this.state.mod.parameters.from,placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList.from?n.a.createElement("span",{className:"error-input"},this.state.errorList.from):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-content-type"},i.a.t("admin.mod-email-content-type"))),n.a.createElement("input",{type:"text",className:this.state.errorList["content-type"]?"form-control is-invalid":"form-control",id:"mod-content-type-from",onChange:function(t){return e.changeParam(t,"content-type")},value:this.state.mod.parameters["content-type"],placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["content-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["content-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-user-lang-property"},i.a.t("admin.mod-email-user-lang-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["user-lang-property"]?"form-control is-invalid":"form-control",id:"mod-email-user-lang-property",onChange:function(t){return e.changeParam(t,"user-lang-property")},value:this.state.mod.parameters["user-lang-property"],placeholder:i.a.t("admin.mod-email-user-lang-property-ph")})),this.state.errorList["user-lang-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["user-lang-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLang),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},t)))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(t){return e.toggleLangDefault()},checked:this.state.mod.parameters.templates[this.state.currentLang].defaultLang}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),n.a.createElement("input",{type:"text",className:this.state.errorList.subject?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(t){return e.changeTemplate(t,"subject")},value:this.state.mod.parameters.templates[this.state.currentLang].subject,placeholder:i.a.t("admin.mod-email-subject-ph")})),this.state.errorList.subject?n.a.createElement("span",{className:"error-input"},this.state.errorList.subject):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern"))),n.a.createElement("textarea",{className:this.state.errorList["body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern")},placeholder:i.a.t("admin.mod-email-body-pattern-ph"),value:this.state.mod.parameters.templates[this.state.currentLang]["body-pattern"]})),this.state.errorList["body-pattern"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["body-pattern"]):""))}}]),a}();function rt(e){return(rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ot(e,t){return(ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function it(e){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ot(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=it(e);if(t){var n=it(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==rt(t)&&"function"!=typeof t?st(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["challenge-length"]||(e.mod.parameters["challenge-length"]=64),e.mod.parameters["rp-origin"]||(e.mod.parameters["rp-origin"]=location.protocol+"//"+location.host),e.mod.parameters["pubKey-cred-params"]||(e.mod.parameters["pubKey-cred-params"]=[-7,-35,-36]),e.mod.parameters["credential-expiration"]||(e.mod.parameters["credential-expiration"]=120),e.mod.parameters["credential-assertion"]||(e.mod.parameters["credential-assertion"]=120),void 0===e.mod.parameters.ctsProfileMatch&&(e.mod.parameters.ctsProfileMatch=1),void 0===e.mod.parameters.basicIntegrity&&(e.mod.parameters.basicIntegrity=1),void 0===e.mod.parameters["session-mandatory"]&&(e.mod.parameters["session-mandatory"]=!1),void 0===e.mod.parameters.fmt&&(e.mod.parameters.fmt={packed:!0,tpm:!1,"android-key":!1,"android-safetynet":!0,"fido-u2f":!0,none:!1}),void 0===e.mod.parameters.seed&&(e.mod.parameters.seed=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)),void 0===e.mod.parameters["root-ca-list"]&&(e.mod.parameters["root-ca-list"]=[]),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},rootCaPath:""},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(st(r)),r.checkParameters=r.checkParameters.bind(st(r)),r.togglePubkey=r.togglePubkey.bind(st(r)),r.changeSIParam=r.changeSIParam.bind(st(r)),r.toggleSessionMandatory=r.toggleSessionMandatory.bind(st(r)),r.generateSeed=r.generateSeed.bind(st(r)),r.toggleForceFmtNone=r.toggleForceFmtNone.bind(st(r)),r.handleChangeRootCaPath=r.handleChangeRootCaPath.bind(st(r)),r.addRootCaPath=r.addRootCaPath.bind(st(r)),r.deleteCaPath=r.deleteCaPath.bind(st(r)),r.toggleFmt=r.toggleFmt.bind(st(r)),r}return function(e,t,a){t&&nt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"togglePubkey",value:function(e,t){var a=this.state.mod;a.parameters["pubKey-cred-params"].indexOf(t)>-1?a.parameters["pubKey-cred-params"].splice(a.parameters["pubKey-cred-params"].indexOf(t),1):a.parameters["pubKey-cred-params"].push(t),this.setState({mod:a})}},{key:"toggleSessionMandatory",value:function(e){var t=this.state.mod;t.parameters["session-mandatory"]=!t.parameters["session-mandatory"],this.setState({mod:t})}},{key:"toggleForceFmtNone",value:function(e){var t=this.state.mod;t.parameters["force-fmt-none"]=!t.parameters["force-fmt-none"],this.setState({mod:t})}},{key:"toggleFmt",value:function(e,t){var a=this.state.mod;a.parameters.fmt[t]=!a.parameters.fmt[t],this.setState({mod:a})}},{key:"changeSIParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"generateSeed",value:function(){var e=this.state.mod;e.parameters.seed=Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),this.setState({mod:e})}},{key:"handleChangeRootCaPath",value:function(e){this.setState({rootCaPath:e.target.value})}},{key:"addRootCaPath",value:function(){if(this.state.rootCaPath){var e=this.state.mod;e.parameters["root-ca-list"].push(this.state.rootCaPath),this.setState({rootCaPath:"",mod:e})}}},{key:"deleteCaPath",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["root-ca-list"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["challenge-length"]||(t=!0,e["challenge-length"]=i.a.t("admin.mod-webauthn-challenge-length-error")),this.state.mod.parameters["credential-expiration"]||(t=!0,e["credential-expiration"]=i.a.t("admin.mod-webauthn-credential-expiration-error")),this.state.mod.parameters["credential-expiration"]||(t=!0,e["credential-expiration"]=i.a.t("admin.mod-webauthn-credential-expiration-error")),this.state.mod.parameters["rp-origin"]||(t=!0,e["rp-origin"]=i.a.t("admin.mod-webauthn-rp-origin-error")),this.state.mod.parameters["pubKey-cred-params"].length||(t=!0,e["pubKey-cred-params"]=i.a.t("admin.mod-webauthn-pubKey-cred-params-error")),this.state.mod.parameters.fmt.packed||this.state.mod.parameters.fmt.tpm||this.state.mod.parameters.fmt["android-key"]||this.state.mod.parameters.fmt["android-safetynet"]||this.state.mod.parameters.fmt["fido-u2f"]||this.state.mod.parameters.fmt.none||(t=!0,e.fmt=i.a.t("admin.mod-webauthn-fmt-error")),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[];return this.state.mod.parameters["root-ca-list"].forEach((function(a,r){t.push(n.a.createElement("div",null,n.a.createElement("a",{href:"#",onClick:function(t){return e.deleteCaPath(t,r)},key:r},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},a,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-session-mandatory-check",checked:this.state.mod.parameters["session-mandatory"],onChange:function(t){return e.toggleSessionMandatory(t)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-session-mandatory-check"},i.a.t("admin.mod-webauthn-session-mandatory"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-force-fmt-none",checked:this.state.mod.parameters["force-fmt-none"],onChange:function(t){return e.toggleForceFmtNone(t)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-force-fmt-none"},i.a.t("admin.mod-webauthn-force-fmt-none"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-seed"},i.a.t("admin.mod-webauthn-seed")),n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:this.state.errorList.seed?"form-control is-invalid":"form-control",id:"mod-webauthn-seed",onChange:function(t){return e.changeParam(t,"seed")},value:this.state.mod.parameters.seed,placeholder:i.a.t("admin.mod-webauthn-seed-ph"),disabled:this.state.mod.parameters["session-mandatory"]}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",title:i.a.t("admin.mod-webauthn-seed-generate"),onClick:this.generateSeed},i.a.t("admin.mod-webauthn-seed-generate"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-challenge-length"},i.a.t("admin.mod-webauthn-challenge-length")),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["challenge-length"]?"form-control is-invalid":"form-control",id:"mod-webauthn-challenge-length",onChange:function(t){return e.changeParam(t,"challenge-length")},value:this.state.mod.parameters["challenge-length"],placeholder:i.a.t("admin.mod-webauthn-challenge-length-ph")}),this.state.errorList["challenge-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["challenge-length"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-credential-expiration"},i.a.t("admin.mod-webauthn-credential-expiration")),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["credential-expiration"]?"form-control is-invalid":"form-control",id:"mod-webauthn-credential-expiration",onChange:function(t){return e.changeParam(t,"credential-expiration",!0)},value:this.state.mod.parameters["credential-expiration"],placeholder:i.a.t("admin.mod-webauthn-credential-expiration-ph")}),this.state.errorList["credential-expiration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["credential-expiration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-credential-assertion"},i.a.t("admin.mod-webauthn-credential-assertion")),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["credential-assertion"]?"form-control is-invalid":"form-control",id:"mod-webauthn-credential-assertion",onChange:function(t){return e.changeParam(t,"credential-assertion",!0)},value:this.state.mod.parameters["credential-assertion"],placeholder:i.a.t("admin.mod-webauthn-credential-assertion-ph")}),this.state.errorList["credential-assertion"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["credential-assertion"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-rp-origin"},i.a.t("admin.mod-webauthn-rp-origin")),n.a.createElement("input",{type:"text",className:this.state.errorList["rp-origin"]?"form-control is-invalid":"form-control",id:"mod-webauthn-rp-origin",onChange:function(t){return e.changeParam(t,"rp-origin")},value:this.state.mod.parameters["rp-origin"],placeholder:i.a.t("admin.mod-webauthn-rp-origin-ph")}),this.state.errorList["rp-origin"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["rp-origin"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-fmt-params"},i.a.t("admin.mod-webauthn-fmt-params")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-packed",checked:this.state.mod.parameters.fmt.packed,onChange:function(t){return e.toggleFmt(t,"packed")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-packed"},i.a.t("admin.mod-webauthn-fmt-packed-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-tpm",checked:this.state.mod.parameters.fmt.tpm,onChange:function(t){return e.toggleFmt(t,"tpm")},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-tpm",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-fmt-tpm-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-android-key",checked:this.state.mod.parameters.fmt["android-key"],onChange:function(t){return e.toggleFmt(t,"android-key")},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-android-key",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-fmt-android-key-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-android-safetynet",checked:this.state.mod.parameters.fmt["android-safetynet"],onChange:function(t){return e.toggleFmt(t,"android-safetynet")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-android-safetynet"},i.a.t("admin.mod-webauthn-fmt-android-safetynet-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-fido-u2f",checked:this.state.mod.parameters.fmt["fido-u2f"],onChange:function(t){return e.toggleFmt(t,"fido-u2f")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-fido-u2f"},i.a.t("admin.mod-webauthn-fmt-fido-u2f-label"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-fmt-none",checked:this.state.mod.parameters.fmt.none,onChange:function(t){return e.toggleFmt(t,"none")}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-fmt-none"},i.a.t("admin.mod-webauthn-fmt-none-label")))),this.state.errorList.fmt?n.a.createElement("span",{className:"error-input"},this.state.errorList.fmt):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-pubKey-cred-params"},i.a.t("admin.mod-webauthn-pubKey-cred-params")),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha256-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-7)>-1,onChange:function(t){return e.togglePubkey(t,-7)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha256-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha256"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha384-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-35)>-1,onChange:function(t){return e.togglePubkey(t,-35)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha384-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha384"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-ecdsa-sha512-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-36)>-1,onChange:function(t){return e.togglePubkey(t,-36)}}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-ecdsa-sha512-check"},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-ecdsa-sha512"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha256-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-257)>-1,onChange:function(t){return e.togglePubkey(t,-257)},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha256-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha256"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha384-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-258)>-1,onChange:function(t){return e.togglePubkey(t,-258)},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha384-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha384"))),n.a.createElement("li",null,n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"mod-webauthn-pubKey-cred-params-rsa-sha512-check",checked:this.state.mod.parameters["pubKey-cred-params"].indexOf(-259)>-1,onChange:function(t){return e.togglePubkey(t,-259)},disabled:!0}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-webauthn-pubKey-cred-params-rsa-sha512-check",title:i.a.t("admin.mod-webauthn-unsupported")},i.a.t("admin.mod-webauthn-pubKey-cred-params-label-rsa-sha512")))),this.state.errorList["pubKey-cred-params"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["pubKey-cred-params"]):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,i.a.t("admin.mod-webauthn-root-ca-list"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("a",{href:"https://developers.yubico.com/U2F/yubico-u2f-ca-certs.txt",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-root-ca-yubico-link"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"webauthn-root-ca-path-input"},i.a.t("admin.mod-webauthn-root-ca-path")),n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",className:"form-control",id:"webauthn-root-ca-path-input",placeholder:i.a.t("admin.mod-webauthn-root-ca-path-ph"),onChange:this.handleChangeRootCaPath,value:this.state.rootCaPath}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",onClick:this.addRootCaPath,title:i.a.t("modal.list-add-title")},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("div",{className:"btn-icon-right"},t)),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,i.a.t("admin.mod-webauthn-safetynet-integrity-params"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("a",{href:"https://developer.android.com/training/safetynet/attestation#potential-integrity-verdicts",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-safetynet-integrity-link"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-safetynet-integrity-ctsProfileMatch"},i.a.t("admin.mod-webauthn-safetynet-integrity-ctsProfileMatch")),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-webauthn-safetynet-integrity-ctsProfileMatch","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-webauthn-safetynet-integrity-"+this.state.mod.parameters.ctsProfileMatch)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-webauthn-safetynet-integrity-ctsProfileMatch"},n.a.createElement("a",{className:"dropdown-item"+(-1===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",-1)}},i.a.t("admin.mod-webauthn-safetynet-integrity--1")),n.a.createElement("a",{className:"dropdown-item"+(0===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",0)}},i.a.t("admin.mod-webauthn-safetynet-integrity-0")),n.a.createElement("a",{className:"dropdown-item"+(1===this.state.mod.parameters.ctsProfileMatch?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"ctsProfileMatch",1)}},i.a.t("admin.mod-webauthn-safetynet-integrity-1"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-webauthn-safetynet-integrity-basicIntegrity"},i.a.t("admin.mod-webauthn-safetynet-integrity-basicIntegrity")),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-webauthn-safetynet-integrity-basicIntegrity","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-webauthn-safetynet-integrity-"+this.state.mod.parameters.basicIntegrity)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-webauthn-safetynet-integrity-basicIntegrity"},n.a.createElement("a",{className:"dropdown-item"+(-1===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",-1)}},i.a.t("admin.mod-webauthn-safetynet-integrity--1")),n.a.createElement("a",{className:"dropdown-item"+(0===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",0)}},i.a.t("admin.mod-webauthn-safetynet-integrity-0")),n.a.createElement("a",{className:"dropdown-item"+(1===this.state.mod.parameters.basicIntegrity?" active":""),href:"#",onClick:function(t){return e.changeSIParam(t,"basicIntegrity",1)}},i.a.t("admin.mod-webauthn-safetynet-integrity-1"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"mod-google-root-ca-r2"},i.a.t("admin.mod-webauthn-google-root-ca-r2")),n.a.createElement("a",{href:"https://pki.goog/",className:"badge badge-primary",target:"_blank"},i.a.t("admin.mod-webauthn-google-root-ca-r2-download-link"),n.a.createElement("i",{className:"fas fa-external-link-alt btn-icon-right"})),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-google-root-ca-r2",onChange:function(t){return e.changeParam(t,"google-root-ca-r2")},value:this.state.mod.parameters["google-root-ca-r2"],placeholder:i.a.t("admin.mod-webauthn-google-root-ca-r2-ph")})))}}]),a}();function ct(e){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dt(e,t){return(dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ht=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ut(e);if(t){var n=ut(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ct(t)&&"function"!=typeof t?pt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),e.mod.parameters["secret-minimum-size"]||(e.mod.parameters["secret-minimum-size"]=16),e.mod.parameters.issuer||(e.mod.parameters.issuer=location.host),void 0===e.mod.parameters["otp-length"]&&(e.mod.parameters["otp-length"]=6),void 0===e.mod.parameters["hotp-allow"]&&(e.mod.parameters["hotp-allow"]=!0),void 0===e.mod.parameters["hotp-window"]&&(e.mod.parameters["hotp-window"]=0),void 0===e.mod.parameters["totp-allow"]&&(e.mod.parameters["totp-allow"]=!0),void 0===e.mod.parameters["totp-window"]&&(e.mod.parameters["totp-window"]=30),void 0===e.mod.parameters["totp-start-offset"]&&(e.mod.parameters["totp-start-offset"]=0),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r.changeParam=r.changeParam.bind(pt(r)),r.toggleParam=r.toggleParam.bind(pt(r)),r.checkParameters=r.checkParameters.bind(pt(r)),r}return function(e,t,a){t&&mt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),e.mod.parameters.issuer||(e.mod.parameters.issuer=location.host),void 0===e.mod.parameters["secret-minimum-size"]&&(e.mod.parameters["secret-minimum-size"]=16),void 0===e.mod.parameters["otp-length"]&&(e.mod.parameters["otp-length"]=6),void 0===e.mod.parameters["hotp-allow"]&&(e.mod.parameters["hotp-allow"]=!0),void 0===e.mod.parameters["hotp-window"]&&(e.mod.parameters["hotp-window"]=0),void 0===e.mod.parameters["totp-allow"]&&(e.mod.parameters["totp-allow"]=!0),void 0===e.mod.parameters["totp-window"]&&(e.mod.parameters["totp-window"]=30),void 0===e.mod.parameters["totp-start-offset"]&&(e.mod.parameters["totp-start-offset"]=0),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value):e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e){var t=this.state.mod;t.parameters[e]=!t.parameters[e],this.setState({mod:t})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.issuer||(t=!0,e.issuer=i.a.t("admin.mod-otp-issuer-error")),this.state.mod.parameters["secret-minimum-size"]||(t=!0,e["secret-minimum-size"]=i.a.t("admin.mod-otp-secret-minimum-size-error")),this.state.mod.parameters["otp-length"]||(t=!0,e["otp-length"]=i.a.t("admin.mod-otp-otp-length-error")),this.state.mod.parameters["hotp-allow"]&&""===this.state.mod.parameters["hotp-window"]&&(t=!0,e["hotp-window"]=i.a.t("admin.mod-otp-hotp-window-error")),this.state.mod.parameters["totp-allow"]&&""===this.state.mod.parameters["totp-window"]&&(t=!0,e["totp-window"]=i.a.t("admin.mod-otp-totp-window-error")),this.state.mod.parameters["totp-allow"]&&""===this.state.mod.parameters["totp-start-offset"]&&(t=!0,e["totp-start-offset"]=i.a.t("admin.mod-otp-totp-start-offset-error")),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-issuer"},i.a.t("admin.mod-otp-issuer"))),n.a.createElement("input",{type:"text",className:this.state.errorList.issuer?"form-control is-invalid":"form-control",id:"mod-otp-issuer",onChange:function(t){return e.changeParam(t,"issuer")},value:this.state.mod.parameters.issuer,placeholder:i.a.t("admin.mod-otp-issuer-ph")})),this.state.errorList.issuer?n.a.createElement("span",{className:"error-input"},this.state.errorList.issuer):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-secret-minimum-size"},i.a.t("admin.mod-otp-secret-minimum-size"))),n.a.createElement("input",{type:"number",min:"0",max:"128",step:"1",className:this.state.errorList["secret-minimum-size"]?"form-control is-invalid":"form-control",id:"mod-otp-secret-minimum-size",onChange:function(t){return e.changeParam(t,"secret-minimum-size",1)},value:this.state.mod.parameters["secret-minimum-size"],placeholder:i.a.t("admin.mod-otp-secret-minimum-size-ph")})),this.state.errorList["secret-minimum-size"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["secret-minimum-size"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-otp-length"},i.a.t("admin.mod-otp-otp-length"))),n.a.createElement("input",{type:"number",min:"6",max:"8",step:"1",className:this.state.errorList["otp-length"]?"form-control is-invalid":"form-control",id:"mod-otp-otp-length",onChange:function(t){return e.changeParam(t,"otp-length",1)},value:this.state.mod.parameters["otp-length"],placeholder:i.a.t("admin.mod-otp-otp-length-ph")})),this.state.errorList["otp-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["otp-length"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-otp-hotp-allow",onChange:function(t){return e.toggleParam("hotp-allow")},checked:this.state.mod.parameters["hotp-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-otp-hotp-allow"},i.a.t("admin.mod-otp-hotp-allow"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-hotp-window"},i.a.t("admin.mod-otp-hotp-window"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["hotp-window"]?"form-control is-invalid":"form-control",id:"mod-otp-hotp-window",onChange:function(t){return e.changeParam(t,"hotp-window",1)},value:this.state.mod.parameters["hotp-window"],placeholder:i.a.t("admin.mod-otp-hotp-window-ph"),disabled:!this.state.mod.parameters["hotp-allow"]})),this.state.errorList["hotp-window"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["hotp-window"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-otp-totp-allow",onChange:function(t){return e.toggleParam("totp-allow")},checked:this.state.mod.parameters["totp-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-otp-totp-allow"},i.a.t("admin.mod-otp-totp-allow"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-totp-window"},i.a.t("admin.mod-otp-totp-window"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["totp-window"]?"form-control is-invalid":"form-control",id:"mod-otp-totp-window",onChange:function(t){return e.changeParam(t,"totp-window",1)},value:this.state.mod.parameters["totp-window"],placeholder:i.a.t("admin.mod-otp-totp-window-ph"),disabled:!this.state.mod.parameters["totp-allow"]})),this.state.errorList["totp-window"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["totp-window"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-otp-totp-start-offset"},i.a.t("admin.mod-otp-totp-start-offset"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["totp-start-offset"]?"form-control is-invalid":"form-control",id:"mod-otp-totp-start-offset",onChange:function(t){return e.changeParam(t,"totp-offset",1)},value:this.state.mod.parameters["totp-offset"],placeholder:i.a.t("admin.mod-otp-totp-start-offset-ph"),disabled:!this.state.mod.parameters["totp-allow"]})),this.state.errorList["totp-start-offset"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["totp-start-offset"]):""))}}]),a}();function ft(e){return(ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bt(e,t){return(bt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&bt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=yt(e);if(t){var n=yt(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ft(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r}return function(e,t,a){t&&gt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"checkParameters",value:function(){this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){return n.a.createElement("div",null)}}]),a}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return(Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ct(e);if(t){var n=Ct(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Et(t)&&"function"!=typeof t?kt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),void 0===e.mod&&(e.mod={}),void 0===e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["cert-source"]&&(e.mod.parameters["cert-source"]="TLS"),void 0===e.mod.parameters["header-name"]&&(e.mod.parameters["header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["use-scheme-storage"]&&(e.mod.parameters["use-scheme-storage"]=!0),void 0===e.mod.parameters["user-certificate-property"]&&(e.mod.parameters["user-certificate-property"]=""),void 0===e.mod.parameters["user-dn-property"]&&(e.mod.parameters["user-dn-property"]=""),void 0===e.mod.parameters["user-certificate-format"]&&(e.mod.parameters["user-certificate-format"]="PEM"),void 0===e.mod.parameters["ca-chain"]&&(e.mod.parameters["ca-chain"]=[]),r.state={mod:e.mod,role:e.role,check:e.check,certFile:!1,fileName:!1,requestCertFile:{},requestCertFileName:{},useCAChain:e.mod.parameters["ca-chain"].length,hasError:!1,errorList:{}},r.state.check&&r.checkParameters(),r.setCertSource=r.setCertSource.bind(kt(r)),r.setBooleanValue=r.setBooleanValue.bind(kt(r)),r.setTextValue=r.setTextValue.bind(kt(r)),r.checkParameters=r.checkParameters.bind(kt(r)),r.setUseCaChain=r.setUseCaChain.bind(kt(r)),r.setValue=r.setValue.bind(kt(r)),r.selectCertFile=r.selectCertFile.bind(kt(r)),r.addCertificateFile=r.addCertificateFile.bind(kt(r)),r.deleteCertificateFile=r.deleteCertificateFile.bind(kt(r)),r.setRequestCertificate=r.setRequestCertificate.bind(kt(r)),r.addRequestCertificateFile=r.addRequestCertificateFile.bind(kt(r)),r.selectRequestCertificateFile=r.selectRequestCertificateFile.bind(kt(r)),r.setRequestCertificateExpiration=r.setRequestCertificateExpiration.bind(kt(r)),r.setDnFormatValue=r.setDnFormatValue.bind(kt(r)),r.setRequestCertificateAllowMultiple=r.setRequestCertificateAllowMultiple.bind(kt(r)),r}return function(e,t,a){t&&Nt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;void 0===e.mod&&(e.mod={}),void 0===e.mod.parameters&&(e.mod.parameters={}),void 0===e.mod.parameters["cert-source"]&&(e.mod.parameters["cert-source"]="TLS"),void 0===e.mod.parameters["header-name"]&&(e.mod.parameters["header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["use-scheme-storage"]&&(e.mod.parameters["use-scheme-storage"]=!0),void 0===e.mod.parameters["user-certificate-property"]&&(e.mod.parameters["user-certificate-property"]=""),void 0===e.mod.parameters["user-dn-property"]&&(e.mod.parameters["user-dn-property"]=""),void 0===e.mod.parameters["user-certificate-format"]&&(e.mod.parameters["user-certificate-format"]="PEM"),void 0===e.mod.parameters["ca-chain"]&&(e.mod.parameters["ca-chain"]=[]),this.setState({mod:e.mod,role:e.role,check:e.check,certFile:!1,fileName:!1,useCAChain:e.mod.parameters["ca-chain"].length},(function(){t.state.check&&t.checkParameters()}))}},{key:"setCertSource",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["cert-source"]=t,this.setState({mod:a})}},{key:"setUseCaChain",value:function(e){var t=this.state.mod;e||(t.parameters["ca-chain"]=[]),this.setState({useCAChain:e,mod:t})}},{key:"selectCertFile",value:function(e){var t=this,a=(this.state.profile,e.target.files[0]),r=new FileReader;r.onload=function(e){t.setState({certFile:e.target.result,fileName:a.name})},r.readAsText(a)}},{key:"addCertificateFile",value:function(){if(this.state.certFile){var e=this.state.mod;e.parameters["ca-chain"].push({"file-name":this.state.fileName,"cert-file":this.state.certFile}),this.setState({mod:e,certFile:!1,fileName:!1})}}},{key:"selectRequestCertificateFile",value:function(e,t){var a=this,r=(this.state.profile,e.target.files[0]),n=new FileReader;n.onload=function(e){var n=a.state.requestCertFileName,o=a.state.requestCertFile;o[t]=e.target.result,n[t]=r.name,a.setState({requestCertFile:o,requestCertFileName:n})},n.readAsText(r)}},{key:"addRequestCertificateFile",value:function(e){if(this.state.requestCertFile[e]){var t=this.state.mod,a=this.state.requestCertFileName,r=this.state.requestCertFile;t.parameters["request-certificate"][e]={"file-name":a[e],"cert-file":r[e]},delete a[e],delete r[e],this.setState({mod:t,requestCertFileName:a,requestCertFile:r})}}},{key:"deleteCertificateFile",value:function(e,t){var a=this.state.mod;a.parameters["ca-chain"].splice(t,1),this.setState({mod:a})}},{key:"setBooleanValue",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"setTextValue",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"setValue",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t]=a,this.setState({mod:r})}},{key:"setRequestCertificate",value:function(e,t){e.preventDefault();var a=this.state.mod;t?a.parameters["request-certificate"]={"issuer-cert":{"file-name":"","cert-file":""},"issuer-key":{"file-name":"","cert-file":""},expiration:31536e3,"dn-format":"cn={username},ou=users,o=glewlwyd","allow-multiple":!1}:delete a.parameters["request-certificate"],this.setState({mod:a})}},{key:"setRequestCertificateExpiration",value:function(e){e.preventDefault();var t=this.state.mod;t.parameters["request-certificate"].expiration=parseInt(e.target.value),this.setState({mod:t})}},{key:"setDnFormatValue",value:function(e){e.preventDefault();var t=this.state.mod;t.parameters["request-certificate"]["dn-format"]=e.target.value,this.setState({mod:t})}},{key:"setRequestCertificateAllowMultiple",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["request-certificate"]["allow-multiple"]=t,this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters["use-scheme-storage"]||""===this.state.mod.parameters["user-certificate-property"]&&""===this.state.mod.parameters["user-dn-property"]&&(t=!0,e["user-certificate-property"]=i.a.t("admin.mod-certificate-user-property-error"),e["user-dn-property"]=i.a.t("admin.mod-certificate-user-property-error")),this.state.mod.parameters["header-name"]||""===this.state.mod.parameters["header-name"]&&(t=!0,e["header-name"]=i.a.t("admin.mod-certificate-header-name-error")),this.state.mod.parameters["request-certificate"]&&(""===this.state.mod.parameters["request-certificate"]["dn-format"]&&(t=!0,e["request-certificate-dn"]=i.a.t("admin.mod-certificate-request-certificate-dn-error")),this.state.mod.parameters["request-certificate"].expiration||(t=!0,e["request-certificate-expiration"]=i.a.t("admin.mod-certificate-request-certificate-expiration-error")),""!==this.state.mod.parameters["request-certificate"]["issuer-key"]["cert-file"]&&""!==this.state.mod.parameters["request-certificate"]["issuer-key"]["file-name"]||(t=!0,e["request-certificate-issuer-key"]=i.a.t("admin.mod-certificate-request-certificate-issuer-key-error")),""!==this.state.mod.parameters["request-certificate"]["issuer-cert"]["cert-file"]&&""!==this.state.mod.parameters["request-certificate"]["issuer-cert"]["file-name"]||(t=!0,e["request-certificate-issuer-cert"]=i.a.t("admin.mod-certificate-request-certificate-issuer-cert-error"))),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModEdit",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this,a=[];return this.state.useCAChain&&(this.state.mod.parameters["ca-chain"].forEach((function(e,r){a.push(n.a.createElement("div",{className:"alert alert-primary",key:r},e["file-name"].substring(0,40),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("admin.mod-certificate-user-certificate-ca-chain-delete"),onClick:function(e){return t.deleteCertificateFile(e,r)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))))})),e=n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"addCertificateFromFile",title:i.a.t("admin.mod-certificate-user-certificate-ca-chain-add-from-file"),onClick:this.addCertificateFile},i.a.t("upload"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{disabled:!this.state.useCAChain,type:"file",className:"custom-file-input",id:"addCertificateFromFileInput","aria-describedby":"addCertificateFromFile",onChange:function(e){return t.selectCertFile(e)}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"addCertificateFromFile"},this.state.fileName||i.a.t("browse"))))),n.a.createElement("div",null,n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-cert-source"},i.a.t("admin.mod-certificate-cert-source"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-cert-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-cert-source-"+this.state.mod.parameters["cert-source"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-cert-source"},n.a.createElement("a",{className:"dropdown-item"+("TLS"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return t.setCertSource(e,"TLS")}},i.a.t("admin.mod-certificate-cert-source-TLS")),n.a.createElement("a",{className:"dropdown-item"+("header"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return t.setCertSource(e,"header")}},i.a.t("admin.mod-certificate-cert-source-header")),n.a.createElement("a",{className:"dropdown-item"+("both"===this.state.mod.parameters["cert-source"]?" active":""),href:"#",onClick:function(e){return t.setCertSource(e,"both")}},i.a.t("admin.mod-certificate-cert-source-both")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-header-name"},i.a.t("admin.mod-certificate-header-name"))),n.a.createElement("input",{type:"text",disabled:"TLS"===this.state.mod.parameters["cert-source"],className:this.state.errorList["header-name"]?"form-control is-invalid":"form-control",id:"mod-certificate-header-name",placeholder:i.a.t("admin.mod-certificate-header-name-ph"),value:this.state.mod.parameters["header-name"],onChange:function(e){return t.setTextValue(e,"header-name")}})),this.state.errorList["header-name"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["header-name"]):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-use-scheme-storage"},i.a.t("admin.mod-certificate-use-scheme-storage"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-use-scheme-storage","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.mod.parameters["use-scheme-storage"]?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-use-scheme-storage"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["use-scheme-storage"]?" active":""),href:"#",onClick:function(e){return t.setBooleanValue(e,"use-scheme-storage",!0)}},i.a.t("admin.mod-certificate-value-yes")),n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["use-scheme-storage"]?"":" active"),href:"#",onClick:function(e){return t.setBooleanValue(e,"use-scheme-storage",!1)}},i.a.t("admin.mod-certificate-value-no")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-certificate-property"},i.a.t("admin.mod-certificate-user-certificate-property"))),n.a.createElement("input",{type:"text",disabled:this.state.mod.parameters["use-scheme-storage"],className:this.state.errorList["user-certificate-property"]?"form-control is-invalid":"form-control",id:"mod-certificate-user-certificate-property",placeholder:i.a.t("admin.mod-certificate-user-certificate-property-ph"),maxLength:"256",value:this.state.mod.parameters["user-certificate-property"],onChange:function(e){return t.setTextValue(e,"user-certificate-property")}})),this.state.errorList["user-certificate-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["user-certificate-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-certificate-format"},i.a.t("admin.mod-certificate-user-certificate-format"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{disabled:this.state.mod.parameters["use-scheme-storage"],className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-user-certificate-format","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-user-certificate-format-"+this.state.mod.parameters["user-certificate-format"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-user-certificate-format"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["user-certificate-format"]?" active":""),href:"#",onClick:function(e){return t.setValue(e,"user-certificate-format","PEM")}},i.a.t("admin.mod-certificate-user-certificate-format-PEM")),n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["user-certificate-format"]?"":" active"),href:"#",onClick:function(e){return t.setValue(e,"user-certificate-format","DER")}},i.a.t("admin.mod-certificate-user-certificate-format-DER")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-user-dn-property"},i.a.t("admin.mod-certificate-user-dn-property"))),n.a.createElement("input",{type:"text",disabled:this.state.mod.parameters["use-scheme-storage"],className:this.state.errorList["user-dn-property"]?"form-control is-invalid":"form-control",id:"mod-certificate-user-dn-property",placeholder:i.a.t("admin.mod-certificate-user-dn-property-ph"),maxLength:"256",value:this.state.mod.parameters["user-dn-property"],onChange:function(e){return t.setTextValue(e,"user-dn-property")}})),this.state.errorList["user-dn-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["user-dn-property"]):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"accordion",id:"accordionParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"CAChainCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseCAChain","aria-expanded":"true","aria-controls":"collapseCAChain"},i.a.t("admin.mod-certificate-user-certificate-ca-chain")))),n.a.createElement("div",{id:"collapseCAChain",className:"collapse","aria-labelledby":"CAChainCard","data-parent":"#accordionParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-certificate-user-certificate-ca-chain-message")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-certificate-use-ca-chain"},i.a.t("admin.mod-certificate-use-ca-chain"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-certificate-use-ca-chain","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-certificate-value-"+(this.state.useCAChain?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-certificate-use-ca-chain"},n.a.createElement("a",{className:"dropdown-item"+(this.state.useCAChain?" active":""),href:"#",onClick:function(e){return t.setUseCaChain(!0)}},i.a.t("admin.mod-certificate-value-yes")),n.a.createElement("a",{className:"dropdown-item"+(this.state.useCAChain?"":" active"),href:"#",onClick:function(e){return t.setUseCaChain(!1)}},i.a.t("admin.mod-certificate-value-no")))))),a,e)))))}}]),a}();function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Lt(e);if(t){var n=Lt(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?_t(e):t}(this,a)}}(a);function a(e){var r,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||((n=window.location.href.split("?")[0].split("/"))[n.length-1]=e.config.CallbackPage||"callback.html",e.mod={parameters:{redirect_uri:n.join("/"),session_expiration:600,provider_list:[]}}),void 0===e.mod.parameters.redirect_uri&&((n=window.location.href.split("?")[0].split("/"))[n.length-1]=e.config.CallbackPage||"callback.html",e.mod.parameters.redirect_uri=n.join("/")),void 0===e.mod.parameters.session_expiration&&(e.mod.parameters.session_expiration=600),void 0===e.mod.parameters.provider_list&&(e.mod.parameters.provider_list=[]),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},curMainstream:-1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(_t(r)),r.addProvider=r.addProvider.bind(_t(r)),r.changeMainstreamProvider=r.changeMainstreamProvider.bind(_t(r)),r.deleteProvider=r.deleteProvider.bind(_t(r)),r.changeProviderParam=r.changeProviderParam.bind(_t(r)),r}return function(e,t,a){t&&xt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t,a=this;e.mod||((t=window.location.href.split("?")[0].split("/"))[t.length-1]=e.config.CallbackPage||"callback.html",e.mod={parameters:{redirect_uri:t.join("/"),session_expiration:600,provider_list:[]}}),void 0===e.mod.parameters.redirect_uri&&((t=window.location.href.split("?")[0].split("/"))[t.length-1]=e.config.CallbackPage||"callback.html",e.mod.parameters.redirect_uri=t.join("/")),void 0===e.mod.parameters.session_expiration&&(e.mod.parameters.session_expiration=600),void 0===e.mod.parameters.provider_list&&(e.mod.parameters.provider_list=[]),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{}},(function(){a.state.check&&a.checkParameters()}))}},{key:"changeMainstreamProvider",value:function(e,t){e.preventDefault(),this.setState({curMainstream:t})}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;r.parameters[t]=a?parseInt(e.target.value)||0:e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e){var t=this.state.mod;t.parameters[e]=!t.parameters[e],this.setState({mod:t})}},{key:"addProvider",value:function(){var e=this.state.mod,t={name:"",logo_uri:"",logo_fa:"",client_id:"",client_secret:"",provider_type:"oauth2",response_type:"code",userinfo_endpoint:"",config_endpoint:"",auth_endpoint:"",token_endpoint:"",userid_property:"",scope:"",additional_parameters:[],enabled:!0};if(-1===this.state.curMainstream)e.parameters.provider_list.push(t);else{var a=this.state.config.providerMainstreamList[this.state.curMainstream];delete a.help_url,e.parameters.provider_list.push(Object.assign(t,a))}this.setState({mod:e})}},{key:"deleteProvider",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.provider_list.splice(t,1),this.setState({mod:a})}},{key:"changeProviderParam",value:function(e,t,a){var r=this.state.mod;r.parameters.provider_list[t][a]=e.target.value,this.setState({mod:r})}},{key:"changeProviderType",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].provider_type=a,r.parameters.provider_list[t].scope="openid",this.setState({mod:r})}},{key:"changeResponseType",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].response_type=a,this.setState({mod:r})}},{key:"addAddParam",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.provider_list[t].additional_parameters.push({key:"",value:""}),this.setState({mod:a})}},{key:"changeAddParamKey",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters[a].key=e.target.value,this.setState({mod:r})}},{key:"changeAddParamValue",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters[a].value=e.target.value,this.setState({mod:r})}},{key:"removeAdditionalParameter",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.provider_list[t].additional_parameters.splice(a,1),this.setState({mod:r})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.redirect_uri||(t=!0,e.redirect_uri=i.a.t("admin.mod-oauth2-redirect_uri-error")),this.state.mod.parameters.session_expiration||(t=!0,e.session_expiration=i.a.t("admin.mod-oauth2-session_expiration-error")),this.state.mod.parameters.provider_list.forEach((function(a,r){a.additional_parameters.forEach((function(a,n){a.key||(t=!0,e["provider-"+r+"-"+n+"-key"]=i.a.t("admin.mod-oauth2-additional_parameters-key-error"),e["provider_list-"+r]=!0),a.value||(t=!0,e["provider-"+r+"-"+n+"-value"]=i.a.t("admin.mod-oauth2-additional_parameters-value-error"),e["provider_list-"+r]=!0)})),a.name||(t=!0,e["provider-"+r+"-name"]=i.a.t("admin.mod-oauth2-name-error"),e["provider_list-"+r]=!0),a.client_id||(t=!0,e["provider-"+r+"-client_id"]=i.a.t("admin.mod-oauth2-client_id-error"),e["provider_list-"+r]=!0),a.config_endpoint||a.userid_property||(t=!0,e["provider-"+r+"-userid_property"]=i.a.t("admin.mod-oauth2-userid_property-error"),e["provider_list-"+r]=!0),a.auth_endpoint||a.config_endpoint||(t=!0,e["provider-"+r+"-auth_endpoint"]=i.a.t("admin.mod-oauth2-auth_endpoint-error"),e["provider_list-"+r]=!0),a.token_endpoint||a.config_endpoint||"code"!==a.response_type||(t=!0,e["provider-"+r+"-token_endpoint"]=i.a.t("admin.mod-oauth2-token_endpoint-error"),e["provider_list-"+r]=!0),a.userinfo_endpoint||a.config_endpoint||(t=!0,e["provider-"+r+"-userinfo_endpoint"]=i.a.t("admin.mod-oauth2-userinfo_endpoint-error"),e["provider_list-"+r]=!0)})),t?this.setState({errorList:e}):this.setState({errorList:{}},(function(){d.a.sendMessage("ModEdit",{type:"modValid"})}))}},{key:"render",value:function(){var e,t=this,a=[],r=[n.a.createElement("a",{key:-1,className:"dropdown-item"+(-1===this.state.curMainstream?" active":""),href:"#",onClick:function(e){return t.changeMainstreamProvider(e,-1)}},i.a.t("admin.mod-oauth2-mainstream_provider-none"))];return this.state.mod.parameters.provider_list.forEach((function(e,r){var o=[];e.additional_parameters.forEach((function(e,a){o.push(n.a.createElement("div",{key:a,className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-additional_parameters-"+a+"-key"]?"form-control is-invalid":"form-control",id:"mod-oauth2-add-param-key-"+r+"-"+a,onChange:function(e){return t.changeAddParamKey(e,r,a)},value:e.key||"",placeholder:i.a.t("admin.mod-oauth2-add-param-key-ph")}),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-additional_parameters-"+a+"-value"]?"form-control is-invalid":"form-control",id:"mod-oauth2-add-param-value-"+r+"-"+a,onChange:function(e){return t.changeAddParamValue(e,r,a)},value:e.value||"",placeholder:i.a.t("admin.mod-oauth2-add-param-value-ph")}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{className:"btn btn-outline-secondary",type:"button",id:"button-addon2",onClick:function(e){return t.removeAdditionalParameter(e,r,a)}},n.a.createElement("i",{className:"fas fa-trash"}))),t.state.errorList["provider-"+r+"-"+a+"-key"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-"+a+"-key"]):"",t.state.errorList["provider-"+r+"-"+a+"-value"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-"+a+"-value"]):""))})),a.push(n.a.createElement("div",{key:r,className:"accordion",id:"accordionParams"+r},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"providerListCard"+r},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseProviderList"+r,"aria-expanded":"true","aria-controls":"collapseProviderList"+r},t.state.errorList["provider_list-"+r]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",n.a.createElement("i",{className:"fas fa-chevron-circle-down"}),n.a.createElement("span",{className:"btn-icon-right"},e.name||i.a.t("admin.mod-oauth2-new"))),n.a.createElement("button",{className:"btn btn-secondary btn-sm float-right",onClick:function(e){return t.deleteProvider(e,r)}},n.a.createElement("i",{className:"fas fa-trash"})))),n.a.createElement("div",{id:"collapseProviderList"+r,className:"collapse show","aria-labelledby":"providerListCard"+r,"data-parent":"#accordionParams"+r},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-provider_type"},i.a.t("admin.mod-oauth2-provider_type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-provider_type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-oauth2-provider_type-"+e.provider_type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("oauth2"===e.provider_type?" active":""),href:"#",onClick:function(e){return t.changeProviderType(e,r,"oauth2")}},i.a.t("admin.mod-oauth2-provider_type-oauth2")),n.a.createElement("a",{className:"dropdown-item"+("oidc"===e.provider_type?" active":""),href:"#",onClick:function(e){return t.changeProviderType(e,r,"oidc")}},i.a.t("admin.mod-oauth2-provider_type-oidc")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-name"},i.a.t("admin.mod-oauth2-name"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-name"]?"form-control is-invalid":"form-control",id:"mod-oauth2-name",onChange:function(e){return t.changeProviderParam(e,r,"name",0)},value:e.name,placeholder:i.a.t("admin.mod-oauth2-name-ph")})),t.state.errorList["provider-"+r+"-name"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-name"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-oauth2-enabled",onChange:function(e){return t.toggleParam(e,r,"enabled")},checked:e.enabled}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-oauth2-enabled"},i.a.t("admin.mod-oauth2-enabled"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-logo_uri"},i.a.t("admin.mod-oauth2-logo_uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-logo_uri",onChange:function(e){return t.changeProviderParam(e,r,"logo_uri",0)},value:e.logo_uri,placeholder:i.a.t("admin.mod-oauth2-logo_uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-logo_fa"},i.a.t("admin.mod-oauth2-logo_fa"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-logo_fa",onChange:function(e){return t.changeProviderParam(e,r,"logo_fa",0)},value:e.logo_fa,placeholder:i.a.t("admin.mod-oauth2-logo_fa-ph")})),t.state.errorList["provider-"+r+"-logo_fa"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-logo_fa"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-client_id"},i.a.t("admin.mod-oauth2-client_id"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-client_id"]?"form-control is-invalid":"form-control",id:"mod-oauth2-client_id",onChange:function(e){return t.changeProviderParam(e,r,"client_id",0)},value:e.client_id,placeholder:i.a.t("admin.mod-oauth2-client_id-ph")})),t.state.errorList["provider-"+r+"-client_id"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-client_id"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-client_secret"},i.a.t("admin.mod-oauth2-client_secret"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-client_secret",onChange:function(e){return t.changeProviderParam(e,r,"client_secret",0)},value:e.client_secret,placeholder:i.a.t("admin.mod-oauth2-client_secret-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-scope"},i.a.t("admin.mod-oauth2-scope"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-scope",onChange:function(e){return t.changeProviderParam(e,r,"scope",0)},value:e.scope,placeholder:i.a.t("admin.mod-oauth2-scope-ph"),disabled:"oidc"===e.provider_type}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-response_type"},i.a.t("admin.mod-oauth2-response_type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-response_type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-oauth2-response_type-"+e.response_type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("code"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"code")}},i.a.t("admin.mod-oauth2-response_type-code")),"oauth2"===e.provider_type?n.a.createElement("a",{className:"dropdown-item"+("token"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"token")}},i.a.t("admin.mod-oauth2-response_type-token")):"","oidc"===e.provider_type?n.a.createElement("a",{className:"dropdown-item"+("id_token"===e.response_type?" active":""),href:"#",onClick:function(e){return t.changeResponseType(e,r,"id_token")}},i.a.t("admin.mod-oauth2-response_type-id_token")):"")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-userid_property"},i.a.t("admin.mod-oauth2-userid_property"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-userid_property"]?"form-control is-invalid":"form-control",id:"mod-oauth2-userid_property",onChange:function(e){return t.changeProviderParam(e,r,"userid_property",0)},value:e.userid_property,placeholder:i.a.t("admin.mod-oauth2-userid_property-ph"),disabled:"oidc"===e.provider_type})),t.state.errorList["provider-"+r+"-userid_property"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-userid_property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-config_endpoint"},i.a.t("admin.mod-oauth2-config_endpoint"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-oauth2-config_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"config_endpoint",0)},value:e.config_endpoint,placeholder:i.a.t("admin.mod-oauth2-config_endpoint-ph"),disabled:"oauth2"===e.provider_type}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-auth_endpoint"},i.a.t("admin.mod-oauth2-auth_endpoint"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-auth_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-auth_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"auth_endpoint",0)},value:e.auth_endpoint,placeholder:i.a.t("admin.mod-oauth2-auth_endpoint-ph")})),t.state.errorList["provider-"+r+"-auth_endpoint"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-auth_endpoint"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-token_endpoint"},i.a.t("admin.mod-oauth2-token_endpoint"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-token_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-token_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"token_endpoint",0)},value:e.token_endpoint,placeholder:i.a.t("admin.mod-oauth2-token_endpoint-ph")})),t.state.errorList["provider-"+r+"-token_endpoint"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-token_endpoint"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-userinfo_endpoint"},i.a.t("admin.mod-oauth2-userinfo_endpoint"))),n.a.createElement("input",{type:"text",className:t.state.errorList["provider-"+r+"-userinfo_endpoint"]?"form-control is-invalid":"form-control",id:"mod-oauth2-userinfo_endpoint",onChange:function(e){return t.changeProviderParam(e,r,"userinfo_endpoint",0)},value:e.userinfo_endpoint,placeholder:i.a.t("admin.mod-oauth2-userinfo_endpoint-ph")})),t.state.errorList["provider-"+r+"-userinfo_endpoint"]?n.a.createElement("span",{className:"error-input"},t.state.errorList["provider-"+r+"-userinfo_endpoint"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text"},i.a.t("admin.mod-oauth2-additional_parameters"))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.addAddParam(e,r)},title:i.a.t("admin.mod-oauth2-additional_parameters-add")},n.a.createElement("i",{className:"fas fa-plus"})),o)))))))})),this.state.config.providerMainstreamList&&this.state.config.providerMainstreamList.forEach((function(a,o){o===t.state.curMainstream&&a.help_url&&(e=n.a.createElement("a",{href:a.help_url,alt:a.name,className:"badge badge-primary",target:"_blank",rel:"noopener noreferrer"},i.a.t("admin.mod-oauth2-help_url"))),r.push(n.a.createElement("a",{key:o,className:"dropdown-item"+(t.state.curMainstream===o?" active":""),href:"#",onClick:function(e){return t.changeMainstreamProvider(e,o)}},a.name))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-redirect_uri"},i.a.t("admin.mod-oauth2-redirect_uri"))),n.a.createElement("input",{type:"text",className:this.state.errorList.redirect_uri?"form-control is-invalid":"form-control",id:"mod-oauth2-redirect_uri",onChange:function(e){return t.changeParam(e,"redirect_uri",0)},value:this.state.mod.parameters.redirect_uri,placeholder:i.a.t("admin.mod-oauth2-redirect_uri-ph")})),this.state.errorList.redirect_uri?n.a.createElement("span",{className:"error-input"},this.state.errorList.redirect_uri):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-oauth2-session_expiration"},i.a.t("admin.mod-oauth2-session_expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList.session_expiration?"form-control is-invalid":"form-control",id:"mod-oauth2-session_expiration",onChange:function(e){return t.changeParam(e,"session_expiration",1)},value:this.state.mod.parameters.session_expiration,placeholder:i.a.t("admin.mod-oauth2-session_expiration-ph")})),this.state.errorList.session_expiration?n.a.createElement("span",{className:"error-input"},this.state.errorList.session_expiration):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("p",null,i.a.t("admin.mod-oauth2-provider_list-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-oauth2-mainstream_provider","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},-1===this.state.curMainstream?i.a.t("admin.mod-oauth2-mainstream_provider-none"):this.state.config.providerMainstreamList[this.state.curMainstream].name),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},r)),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addProvider,title:i.a.t("admin.mod-oauth2-provider_list-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",null,e)),a)}}]),a}();function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ot(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ft(e,t){return(Ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){return(At=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ft(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=At(e);if(t){var n=At(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,mod:e.mod,role:e.role,check:e.check},r}return function(e,t,a){t&&Ot(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check})}},{key:"render",value:function(){return"mock"===this.state.mod.module?n.a.createElement(Re,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"database"===this.state.mod.module?n.a.createElement(De,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"ldap"===this.state.mod.module?n.a.createElement(Je,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"http"===this.state.mod.module?n.a.createElement(He,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"email"===this.state.mod.module?n.a.createElement(at,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"webauthn"===this.state.mod.module?n.a.createElement(lt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"otp"===this.state.mod.module?n.a.createElement(ht,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"retype-password"===this.state.mod.module?n.a.createElement(vt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"certificate"===this.state.mod.module?n.a.createElement(St,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oauth2"===this.state.mod.module?n.a.createElement(jt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):""}}]),a}();function It(e){return(It="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ut(e,t){return(Ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Kt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ut(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=zt(e);if(t){var n=zt(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==It(t)&&"function"!=typeof t?qt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={}),e.mod.expiration||(e.mod.expiration=600),e.mod.max_use||(e.mod.max_use=0),void 0===e.mod.allow_user_register&&(e.mod.allow_user_register=!0),"client"===e.role&&(void 0===e.mod.parameters["data-format"]&&(e.mod.parameters["data-format"]={}),void 0===e.mod.parameters["data-format"].redirect_uri&&(e.mod.parameters["data-format"].redirect_uri={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].authorization_type&&(e.mod.parameters["data-format"].authorization_type={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].sector_identifier_uri&&(e.mod.parameters["data-format"].sector_identifier_uri={multiple:!1,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].client_secret&&(e.mod.parameters["data-format"].client_secret={multiple:!1,read:!0,write:!0})),r.state={config:e.config,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,check:!1,hasError:!1},d.a.subscribe("ModEdit",(function(e){"modValid"===e.type?r.setState({check:!1},(function(){r.state.add?r.state.mod.name?r.state.mod.module?m.a.glewlwydRequest("/mod/"+r.state.role+"/"+encodeURIComponent(r.state.mod.name),"GET").then((function(){r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-exist"),typeInvalidMessage:!1,hasError:!0})})).fail((function(e){404===e.status&&r.state.callback(!0,r.state.mod)})):r.setState({nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:i.a.t("admin.error-mod-type-mandatory"),hasError:!0}):r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-mandatory"),typeInvalidMessage:!1,hasError:!0}):r.state.callback(!0,r.state.mod)})):"modInvalid"===e.type&&r.setState({check:!1,hasError:!0})})),r.closeModal=r.closeModal.bind(qt(r)),r.changeName=r.changeName.bind(qt(r)),r.changeDisplayName=r.changeDisplayName.bind(qt(r)),r.changeType=r.changeType.bind(qt(r)),r.toggleReadonly=r.toggleReadonly.bind(qt(r)),r.toggleAllowUserRegister=r.toggleAllowUserRegister.bind(qt(r)),r}return function(e,t,a){t&&Dt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){e.mod||(e.mod={}),e.mod.expiration||(e.mod.expiration=600),e.mod.max_use||(e.mod.max_use=0),void 0===e.mod.allow_user_register&&(e.mod.allow_user_register=!0),"client"===e.role&&(void 0===e.mod.parameters["data-format"]&&(e.mod.parameters["data-format"]={}),void 0===e.mod.parameters["data-format"].redirect_uri&&(e.mod.parameters["data-format"].redirect_uri={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].authorization_type&&(e.mod.parameters["data-format"].authorization_type={multiple:!0,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].sector_identifier_uri&&(e.mod.parameters["data-format"].sector_identifier_uri={multiple:!1,read:!0,write:!0}),void 0===e.mod.parameters["data-format"].client_secret&&(e.mod.parameters["data-format"].client_secret={multiple:!1,read:!0,write:!0})),this.setState({config:e.config,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1})}},{key:"closeModal",value:function(e,t){this.state.callback&&(t?this.setState({check:!0}):this.state.callback(t))}},{key:"changeName",value:function(e){var t=this.state.mod;t.name=e.target.value,this.setState({mod:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.mod;t.display_name=e.target.value,this.setState({mod:t})}},{key:"changeType",value:function(e,t){var a=this.state.mod;a.module=t,this.setState({mod:a})}},{key:"changeExpiration",value:function(e){var t=this.state.mod;t.expiration=parseInt(e.target.value),this.setState({mod:t})}},{key:"changeMaxUse",value:function(e){var t=this.state.mod;t.max_use=parseInt(e.target.value),this.setState({mod:t})}},{key:"toggleReadonly",value:function(e){var t=this.state.mod;t.readonly=!t.readonly,this.setState({mod:t})}},{key:"toggleMultiplePasswords",value:function(e){var t=this.state.mod;t.multiple_passwords=!t.multiple_passwords,this.setState({mod:t})}},{key:"toggleAllowUserRegister",value:function(){var e=this.state.mod;e.allow_user_register=!e.allow_user_register,this.setState({mod:e})}},{key:"render",value:function(){var e,t,a=this,r=[];if(this.state.add){var o=i.a.t("admin.mod-type-select");this.state.modTypes.forEach((function(e,t){a.state.mod.module===e.name?(o=e.display_name,r.push(n.a.createElement("a",{className:"dropdown-item active",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))):r.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))})),e=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownModType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownModType"},r))}else this.state.modTypes.forEach((function(t,r){a.state.mod.module===t.name&&(e=n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.display_name))}));this.state.hasError&&(t=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input")));var s="",l="",c="";if("user"===this.state.role){var m=!!this.state.mod.multiple_passwords,d=!1;"http"===this.state.mod.module&&(m=!1,d=!0),l=n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-multiple-password",onChange:function(e){return a.toggleMultiplePasswords(e)},checked:m,disabled:d}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-multiple-password"},i.a.t("admin.mod-multiple-password")))}return"scheme"!==this.state.role?(m=!!this.state.mod.readonly,d=!1,"http"===this.state.mod.module&&(m=!0,d=!0),s=n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-readonly",onChange:function(e){return a.toggleReadonly(e)},checked:m,disabled:d}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-readonly"},i.a.t("admin.mod-readonly")))):c=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-expiration"},i.a.t("admin.mod-expiration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-expiration",placeholder:i.a.t("admin.mod-expiration-ph"),value:this.state.mod.expiration,onChange:function(e){return a.changeExpiration(e)}}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-max-use"},i.a.t("admin.mod-max-use"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-max-use",placeholder:i.a.t("admin.mod-max-use-ph"),value:this.state.mod.max_use,onChange:function(e){return a.changeMaxUse(e)}}))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-allow-user-register",onChange:function(e){return a.toggleAllowUserRegister(e)},checked:this.state.mod.allow_user_register}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-allow-user-register"},i.a.t("admin.mod-allow-user-register")))),n.a.createElement("div",{className:"modal fade",id:"editModModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return a.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-type"},i.a.t("admin.mod-type"))),e,n.a.createElement("span",{className:"error-input"+(this.state.typeInvalidMessage?"":" hidden")},this.state.typeInvalidMessage))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-name"},i.a.t("admin.mod-name"))),n.a.createElement("input",{type:"text",className:"form-control"+(this.state.nameInvalid?" is-invalid":""),id:"mod-name",placeholder:i.a.t("admin.mod-name-ph"),maxLength:"128",value:this.state.mod.name||"",onChange:function(e){return a.changeName(e)},disabled:!this.state.add}),n.a.createElement("span",{className:"error-input"+(this.state.nameInvalid?"":" hidden")},this.state.nameInvalidMessage))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-display-name"},i.a.t("admin.mod-display-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-display-name",placeholder:i.a.t("admin.mod-display-name-ph"),maxLength:"256",value:this.state.mod.display_name||"",onChange:function(e){return a.changeDisplayName(e)}}))),s,l,c,n.a.createElement(Tt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}))),n.a.createElement("div",{className:"modal-footer"},t,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return a.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}]),a}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jt(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Gt(e);if(t){var n=Gt(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Vt(t)&&"function"!=typeof t?Wt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={mod:e.mod,role:e.role,check:e.check,hasError:!1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(Wt(r)),r}return function(e,t,a){t&&Jt(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({mod:e.mod,role:e.role,check:e.check,hasError:!1},(function(){t.state.check&&t.checkParameters()}))}},{key:"checkParameters",value:function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}},{key:"render",value:function(){return""}}]),a}();function Xt(e){return(Xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yt(e,t){return(Yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ea=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yt(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Zt(e);if(t){var n=Zt(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Xt(t)&&"function"!=typeof t?Qt(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),!e.mod.parameters&&(e.mod.parameters={}),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),!e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="512"),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),!e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),!e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-implicit-enabled"]&&(e.mod.parameters["auth-type-implicit-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!0),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,errorList:{},newScopeOverride:!1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(Qt(r)),r.changeParam=r.changeParam.bind(Qt(r)),r.changeNumberParam=r.changeNumberParam.bind(Qt(r)),r.toggleParam=r.toggleParam.bind(Qt(r)),r.changeJwtType=r.changeJwtType.bind(Qt(r)),r.setNewScopeOverride=r.setNewScopeOverride.bind(Qt(r)),r.addScopeOverride=r.addScopeOverride.bind(Qt(r)),r.changeScopeOverrideRefreshDuration=r.changeScopeOverrideRefreshDuration.bind(Qt(r)),r.toggleScopeOverrideRolling=r.toggleScopeOverrideRolling.bind(Qt(r)),r.addAdditionalParameter=r.addAdditionalParameter.bind(Qt(r)),r.setAdditionalPropertyUserParameter=r.setAdditionalPropertyUserParameter.bind(Qt(r)),r.setAdditionalPropertyTokenParameter=r.setAdditionalPropertyTokenParameter.bind(Qt(r)),r.deleteAdditionalProperty=r.deleteAdditionalProperty.bind(Qt(r)),r.addScope=r.addScope.bind(Qt(r)),r.deleteScope=r.deleteScope.bind(Qt(r)),r}return function(e,t,a){t&&Ht(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;!e.mod.parameters&&(e.mod.parameters={}),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),!e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="512"),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),!e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),!e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),!e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-implicit-enabled"]&&(e.mod.parameters["auth-type-implicit-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!0),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"changeNumberParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=parseInt(e.target.value),isNaN(a.parameters[t])||this.setState({mod:a})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"changeJwtType",value:function(e,t){var a=this.state.mod;a.parameters["jwt-type"]=t,this.setState({mod:a})}},{key:"changeJwtKeySize",value:function(e,t){var a=this.state.mod;a.parameters["jwt-key-size"]=t,this.setState({mod:a})}},{key:"uploadFile",value:function(e,t){var a=this,r=this.state.mod,n=e.target.files[0],o=new FileReader;o.onload=function(e){r.parameters[t]=e.target.result,a.setState({mod:r})},o.readAsText(n)}},{key:"setNewScopeOverride",value:function(e,t){this.setState({newScopeOverride:t})}},{key:"addScopeOverride",value:function(){if(this.state.newScopeOverride){var e=this.state.mod;e.parameters.scope.push({name:this.state.newScopeOverride,"refresh-token-rolling":this.state.mod.parameters["refresh-token-rolling"],"refresh-token-duration":0}),this.setState({mod:e,newScopeOverride:!1})}}},{key:"changeScopeOverrideRefreshDuration",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(a){a.name===t.name&&(a["refresh-token-duration"]=parseInt(e.target.value))})),this.setState({mod:a})}},{key:"toggleScopeOverrideRolling",value:function(e,t,a){var r=this.state.mod;r.parameters.scope.forEach((function(e){e.name===t&&(void 0===a?delete e["refresh-token-rolling"]:e["refresh-token-rolling"]=a)})),this.setState({mod:r})}},{key:"deleteScopeOverride",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(e,r){e.name===t&&a.parameters.scope.splice(r,1)})),this.setState({mod:a})}},{key:"addAdditionalParameter",value:function(){var e=this.state.mod;e.parameters["additional-parameters"].push({"user-parameter":"","token-parameter":"","token-changed":!1}),this.setState({mod:e,newScopeOverride:!1})}},{key:"setAdditionalPropertyUserParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["user-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]||(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value)),this.setState({mod:a,newScopeOverride:!1})}},{key:"setAdditionalPropertyTokenParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]=!0),this.setState({mod:a,newScopeOverride:!1})}},{key:"deleteAdditionalProperty",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&a.parameters["additional-parameters"].splice(t,1),this.setState({mod:a,newScopeOverride:!1})}},{key:"addScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["introspection-revocation-auth-scope"].push(t),this.setState({mod:a})}},{key:"deleteScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["introspection-revocation-auth-scope"].splice(t,1),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e={},t=!1;this.state.mod.parameters.key||(t=!0,e.key="admin.mod-glwd-key-error",e.signature=!0),"sha"===this.state.mod.parameters["jwt-type"]||this.state.mod.parameters.cert||(t=!0,e.cert="admin.mod-glwd-cert-error",e.signature=!0),this.state.mod.parameters["access-token-duration"]||(t=!0,e["access-token-duration"]="admin.mod-glwd-access-token-duration-error",e.token=!0),this.state.mod.parameters["refresh-token-duration"]||(t=!0,e["refresh-token-duration"]="admin.mod-glwd-refresh-token-duration-error",e.token=!0),this.state.mod.parameters["code-duration"]||(t=!0,e["code-duration"]="admin.mod-glwd-code-duration-error",e.token=!0),this.state.mod.parameters["additional-parameters"].forEach((function(a,r){a["user-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].user="admin.mod-glwd-additional-parameter-user-parameter-error"),a["token-parameter"]?"username"!==a["token-parameter"]&&"salt"!==a["token-parameter"]&&"type"!==a["token-parameter"]&&"iat"!==a["token-parameter"]&&"expires_in"!==a["token-parameter"]&&"scope"!==a["token-parameter"]||(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-invalid-error"):(t=!0,e["additional-parameters"]||(e["additional-parameters"]=[]),e["additional-parameters"][r]||(e["additional-parameters"][r]={}),e["additional-parameters"][r].token="admin.mod-glwd-additional-parameter-token-parameter-error")})),!this.state.mod.parameters["introspection-revocation-allowed"]||this.state.mod.parameters["introspection-revocation-allow-target-client"]||this.state.mod.parameters["introspection-revocation-auth-scope"].length||(t=!0,e["introspection-revocation"]="admin.mod-glwd-introspection-revocation-error",e.token=!0),t?this.setState({errorList:e},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a=this,r=[],o=[],s=[],l=document.location.href.split("?")[0].split("#")[0]+this.state.config.api_prefix+"/"+(this.state.mod.name||""),c=l+"/auth",m=l+"/token",d=l+"/profile";"sha"===this.state.mod.parameters["jwt-type"]?e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("input",{type:"password",className:this.state.errorList.key?"form-control is-invalid":"form-control",id:"mod-glwd-key",onChange:function(e){return a.changeParam(e,"key")},value:this.state.mod.parameters.key,placeholder:i.a.t("admin.mod-glwd-key-ph")})),this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""):(e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return a.uploadFile(e,"key")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},i.a.t("admin.choose-file")))),this.state.mod.parameters.key?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.key.substring(0,40)):"",this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""),t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-cert"},i.a.t("admin.mod-glwd-cert"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return a.uploadFile(e,"cert")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},i.a.t("admin.choose-file")))),this.state.mod.parameters.cert?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.cert.substring(0,40)):"",this.state.errorList.cert?n.a.createElement("span",{className:"error-input"},this.state.errorList.cert):"")),this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){var r=0;a.state.mod.parameters.scope.forEach((function(t){t.name===e&&(r=1)})),r||o.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return a.setNewScopeOverride(t,e)}},e))}))}));var p=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.newScopeOverride||i.a.t("admin.mod-glwd-scope-override-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-override-scope"},o));this.state.mod.parameters.scope.forEach((function(e,t){r.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e.name),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-duration-"+e.name},i.a.t("admin.mod-glwd-scope-override-refresh-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-glwd-scope-override-refresh-duration-"+e.name,onChange:function(t){return a.changeScopeOverrideRefreshDuration(t,e)},value:e["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-scope-override-refresh-duration-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-rolling-"+e.name},i.a.t("admin.mod-scope-override-refresh-rolling"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-refresh-rolling-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.glwd-scope-override-refresh-rolling-value-"+e["refresh-token-rolling"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+(void 0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,void 0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-undefined")),n.a.createElement("a",{className:"dropdown-item"+(!0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,!0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-true")),n.a.createElement("a",{className:"dropdown-item"+(!1===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return a.toggleScopeOverrideRolling(t,e.name,!1)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-false")))))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return a.deleteScopeOverride(t,e.name)},title:i.a.t("admin.mod-scope-override-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["additional-parameters"].forEach((function(e,t){var r=a.state.errorList["additional-parameters"]&&a.state.errorList["additional-parameters"][t]&&a.state.errorList["additional-parameters"][t].user,o=a.state.errorList["additional-parameters"]&&a.state.errorList["additional-parameters"][t]&&a.state.errorList["additional-parameters"][t].token;s.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e["user-parameter"]||i.a.t("admin.mod-additional-parameter-new")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-user-parameter"))),n.a.createElement("input",{type:"text",className:r?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"],onChange:function(e){return a.setAdditionalPropertyUserParameter(e,t)},value:e["user-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-user-parameter-ph")}),r?n.a.createElement("span",{className:"error-input"},a.state.errorList["additional-parameters"][t].user):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-token-parameter"))),n.a.createElement("input",{type:"text",className:o?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"],onChange:function(e){return a.setAdditionalPropertyTokenParameter(e,t)},value:e["token-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-token-parameter-ph")})),o?n.a.createElement("span",{className:"error-input"},a.state.errorList["additional-parameters"][t].token):""),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.deleteAdditionalProperty(e,t)},title:i.a.t("admin.mod-additional-parameter-token-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),o=[];var u=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){o.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return a.addScope(t,e)},disabled:!a.state.mod.parameters["introspection-revocation-allowed"]},e))}))})),this.state.mod.parameters["introspection-revocation-auth-scope"].forEach((function(e,t){a.state.mod.parameters["introspection-revocation-allowed"]?u.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return a.deleteScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):u.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var h=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["introspection-revocation-allowed"]},i.a.t("admin.mod-glwd-introspection-revocation-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},o),n.a.createElement("div",null,u));return n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-auth"))),n.a.createElement("code",null,c))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-token"))),n.a.createElement("code",null,m))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-profile"))),n.a.createElement("code",null,d))),n.a.createElement("hr",null),n.a.createElement("div",{className:"accordion",id:"accordionSignature"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSignature","aria-expanded":"true","aria-controls":"collapseSignature"},this.state.errorList.signature?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-sign-title")))),n.a.createElement("div",{id:"collapseSignature",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSignature"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-jwt-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-type-"+this.state.mod.parameters["jwt-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+("rsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"rsa")}},i.a.t("admin.mod-glwd-jwt-type-rsa")),n.a.createElement("a",{className:"dropdown-item"+("ecdsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"ecdsa")}},i.a.t("admin.mod-glwd-jwt-type-ecdsa")),n.a.createElement("a",{className:"dropdown-item"+("sha"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"sha")}},i.a.t("admin.mod-glwd-jwt-type-sha")),n.a.createElement("a",{className:"dropdown-item"+("rsa-pss"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"rsa-pss")}},i.a.t("admin.mod-glwd-jwt-type-rsa-pss")),n.a.createElement("a",{className:"dropdown-item"+("eddsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return a.changeJwtType(e,"eddsa")}},i.a.t("admin.mod-glwd-jwt-type-eddsa"))))),this.state.errorList["jwt-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-key-size"},i.a.t("admin.mod-glwd-jwt-key-size"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-key-size","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-key-size-"+this.state.mod.parameters["jwt-key-size"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("256"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"256")}},i.a.t("admin.mod-glwd-jwt-key-size-256")),n.a.createElement("a",{className:"dropdown-item"+("384"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"384")}},i.a.t("admin.mod-glwd-jwt-key-size-384")),n.a.createElement("a",{className:"dropdown-item"+("512"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return a.changeJwtKeySize(e,"512")}},i.a.t("admin.mod-glwd-jwt-key-size-512"))))),this.state.errorList["jwt-key-size"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-key-size"]):""),e,t)))),n.a.createElement("div",{className:"accordion",id:"accordionToken"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseToken","aria-expanded":"true","aria-controls":"collapseToken"},this.state.errorList.token?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-token-title")))),n.a.createElement("div",{id:"collapseToken",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionToken"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-access-token-duration"},i.a.t("admin.mod-glwd-access-token-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["access-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-access-token-duration",onChange:function(e){return a.changeNumberParam(e,"access-token-duration")},value:this.state.mod.parameters["access-token-duration"],placeholder:i.a.t("admin.mod-glwd-access-token-duration-ph")})),this.state.errorList["access-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["access-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-duration"},i.a.t("admin.mod-glwd-refresh-token-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["refresh-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-refresh-token-duration",onChange:function(e){return a.changeNumberParam(e,"refresh-token-duration")},value:this.state.mod.parameters["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-refresh-token-duration-ph")})),this.state.errorList["refresh-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["refresh-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-code-duration"},i.a.t("admin.mod-glwd-code-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-code-duration",onChange:function(e){return a.changeNumberParam(e,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-glwd-code-duration-ph")})),this.state.errorList["code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-refresh-token-rolling",onChange:function(e){return a.toggleParam(e,"refresh-token-rolling")},checked:this.state.mod.parameters["refresh-token-rolling"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-refresh-token-rolling"},i.a.t("admin.mod-glwd-refresh-token-rolling"))))))),n.a.createElement("div",{className:"accordion",id:"accordionAuthType"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAuthType","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList["auth-type"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-auth-type-title")))),n.a.createElement("div",{id:"collapseAuthType",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAuthType"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-code-enabled")},checked:this.state.mod.parameters["auth-type-code-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-enabled"},i.a.t("admin.mod-glwd-auth-type-code-enabled"))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-1"}),n.a.createElement("div",{className:"col-sm-11"},n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-revoke-replayed",onChange:function(e){return a.toggleParam(e,"auth-type-code-revoke-replayed")},disabled:!this.state.mod.parameters["auth-type-code-enabled"],checked:this.state.mod.parameters["auth-type-code-revoke-replayed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-revoke-replayed"},i.a.t("admin.mod-glwd-auth-type-code-revoke-replayed"))))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-implicit-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-implicit-enabled")},checked:this.state.mod.parameters["auth-type-implicit-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-implicit-enabled"},i.a.t("admin.mod-glwd-auth-type-implicit-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-password-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-password-enabled")},checked:this.state.mod.parameters["auth-type-password-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-password-enabled"},i.a.t("admin.mod-glwd-auth-type-password-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-client-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-client-enabled")},checked:this.state.mod.parameters["auth-type-client-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-client-enabled"},i.a.t("admin.mod-glwd-auth-type-client-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-device-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-device-enabled")},checked:this.state.mod.parameters["auth-type-device-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-device-enabled"},i.a.t("admin.mod-glwd-auth-type-device-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-refresh-enabled",onChange:function(e){return a.toggleParam(e,"auth-type-refresh-enabled")},checked:this.state.mod.parameters["auth-type-refresh-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-refresh-enabled"},i.a.t("admin.mod-glwd-auth-type-refresh-enabled"))))))),n.a.createElement("div",{className:"accordion",id:"accordionScope"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseScope","aria-expanded":"true","aria-controls":"collapseScope"},this.state.errorList["scope-override"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-scope-override")))),n.a.createElement("div",{id:"collapseScope",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionScope"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-scope-override-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},p),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeOverride,title:i.a.t("admin.mod-glwd-scope-add")},n.a.createElement("i",{className:"fas fa-plus"}))),r)))),n.a.createElement("div",{className:"accordion",id:"accordionAddParam"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddParam","aria-expanded":"true","aria-controls":"collapseAddParam"},this.state.errorList["additional-parameters"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-additional-parameter")))),n.a.createElement("div",{id:"collapseAddParam",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAddParam"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-additional-parameter-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addAdditionalParameter,title:i.a.t("admin.mod-glwd-additional-parameter-add")},n.a.createElement("i",{className:"fas fa-plus"}))),s)))),n.a.createElement("div",{className:"accordion",id:"accordionPkce"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePkce","aria-expanded":"true","aria-controls":"collapsePkce"},this.state.errorList.pkce?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-pkce-title")))),n.a.createElement("div",{id:"collapsePkce",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPkce"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-allowed",onChange:function(e){return a.toggleParam(e,"pkce-allowed")},checked:this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-allowed"},i.a.t("admin.mod-glwd-pkce-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-method-plain-allowed",onChange:function(e){return a.toggleParam(e,"pkce-method-plain-allowed")},checked:this.state.mod.parameters["pkce-method-plain-allowed"],disabled:!this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-method-plain-allowed"},i.a.t("admin.mod-glwd-pkce-method-plain-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionIntrospect"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseIntrospect","aria-expanded":"true","aria-controls":"collapseIntrospect"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-introspection-revocation-title")))),n.a.createElement("div",{id:"collapseIntrospect",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionIntrospect"},n.a.createElement("div",{className:"card-body"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["introspection-revocation"])):"",n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allowed",onChange:function(e){return a.toggleParam(e,"introspection-revocation-allowed")},checked:this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allowed"},i.a.t("admin.mod-glwd-introspection-revocation-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allow-target-client",onChange:function(e){return a.toggleParam(e,"introspection-revocation-allow-target-client")},checked:this.state.mod.parameters["introspection-revocation-allow-target-client"],disabled:!this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allow-target-client"},i.a.t("admin.mod-glwd-introspection-revocation-allow-target-client"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-introspection-revocation-scope-required"))),h)))))),n.a.createElement("div",{className:"accordion",id:"accordionDeviceAuthorization"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDeviceAuthorization","aria-expanded":"true","aria-controls":"collapseDeviceAuthorization"},i.a.t("admin.mod-glwd-device-authorization-title")))),n.a.createElement("div",{id:"collapseDeviceAuthorization",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDeviceAuthorization"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-expiration"},i.a.t("admin.mod-glwd-device-authorization-expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-expiration",onChange:function(e){return a.changeNumberParam(e,"device-authorization-expiration")},value:this.state.mod.parameters["device-authorization-expiration"],placeholder:i.a.t("admin.mod-glwd-device-authorization-expiration-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-interval"},i.a.t("admin.mod-glwd-device-authorization-interval"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-interval",onChange:function(e){return a.changeNumberParam(e,"device-authorization-interval")},value:this.state.mod.parameters["device-authorization-interval"],placeholder:i.a.t("admin.mod-glwd-device-authorization-interval-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))))))))}}]),a}();function ta(e){return(ta="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ra(e,t){return(ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oa(e){return(oa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ra(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=oa(e);if(t){var n=oa(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ta(t)&&"function"!=typeof t?na(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),!e.mod.parameters&&(e.mod.parameters={}),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),void 0===e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="256"),!e.mod.parameters["jwks-uri"]&&(e.mod.parameters["jwks-uri"]=""),!e.mod.parameters["jwks-private"]&&(e.mod.parameters["jwks-private"]=""),!e.mod.parameters["default-kid"]&&(e.mod.parameters["default-kid"]=""),!e.mod.parameters["client-sign_kid-parameter"]&&(e.mod.parameters["client-sign_kid-parameter"]=""),!e.mod.parameters["jwks-public"]&&(e.mod.parameters["jwks-public"]=""),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),void 0===e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),void 0===e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),void 0===e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["refresh-token-one-use"]&&(e.mod.parameters["refresh-token-one-use"]="never"),void 0===e.mod.parameters["client-refresh-token-one-use-parameter"]&&(e.mod.parameters["client-refresh-token-one-use-parameter"]="refresh-token-one-use"),void 0===e.mod.parameters["allow-non-oidc"]&&(e.mod.parameters["allow-non-oidc"]=!1),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-token-enabled"]&&(e.mod.parameters["auth-type-token-enabled"]=!0),e.mod.parameters["auth-type-id-token-enabled"]=!0,void 0===e.mod.parameters["auth-type-none-enabled"]&&(e.mod.parameters["auth-type-none-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!1),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),!e.mod.parameters.claims&&(e.mod.parameters.claims=[]),void 0===e.mod.parameters["service-documentation"]&&(e.mod.parameters["service-documentation"]="https://github.com/babelouest/glewlwyd/tree/master/docs"),void 0===e.mod.parameters["op-policy-uri"]&&(e.mod.parameters["op-policy-uri"]=""),void 0===e.mod.parameters["op-tos-uri"]&&(e.mod.parameters["op-tos-uri"]=""),void 0===e.mod.parameters["jwks-show"]&&(e.mod.parameters["jwks-show"]=!0),void 0===e.mod.parameters["jwks-x5c"]&&(e.mod.parameters["jwks-x5c"]=[]),void 0===e.mod.parameters["request-parameter-allow"]&&(e.mod.parameters["request-parameter-allow"]=!0),void 0===e.mod.parameters["request-uri-allow-https-non-secure"]&&(e.mod.parameters["request-uri-allow-https-non-secure"]=!1),!e.mod.parameters["secret-type"]&&(e.mod.parameters["secret-type"]="pairwise"),!e.mod.parameters["address-claim"]&&(e.mod.parameters["address-claim"]={type:"no",formatted:"",street_address:"",locality:"",region:"",postal_code:"",country:"",mandatory:!1}),!e.mod.parameters["name-claim"]&&(e.mod.parameters["name-claim"]="on-demand"),!e.mod.parameters["name-claim-scope"]&&(e.mod.parameters["name-claim-scope"]=[]),!e.mod.parameters["email-claim"]&&(e.mod.parameters["email-claim"]="no"),!e.mod.parameters["email-claim-scope"]&&(e.mod.parameters["email-claim-scope"]=[]),!e.mod.parameters["scope-claim"]&&(e.mod.parameters["scope-claim"]="no"),!e.mod.parameters["scope-claim-scope"]&&(e.mod.parameters["scope-claim-scope"]=[]),!e.mod.parameters["allowed-scope"]&&(e.mod.parameters["allowed-scope"]=["openid"]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["register-client-allowed"]&&(e.mod.parameters["register-client-allowed"]=!1),void 0===e.mod.parameters["register-client-auth-scope"]&&(e.mod.parameters["register-client-auth-scope"]=[]),void 0===e.mod.parameters["register-client-credentials-scope"]&&(e.mod.parameters["register-client-credentials-scope"]=[]),void 0===e.mod.parameters["register-client-management-allowed"]&&(e.mod.parameters["register-client-management-allowed"]=!0),void 0===e.mod.parameters["register-resource-specify-allowed"]&&(e.mod.parameters["register-resource-specify-allowed"]=!1),void 0===e.mod.parameters["register-resource-default"]&&(e.mod.parameters["register-resource-default"]=[]),void 0===e.mod.parameters["session-management-allowed"]&&(e.mod.parameters["session-management-allowed"]=!1),void 0===e.mod.parameters["client-pubkey-parameter"]&&(e.mod.parameters["client-pubkey-parameter"]=""),void 0===e.mod.parameters["client-jwks-parameter"]&&(e.mod.parameters["client-jwks-parameter"]="jwks"),void 0===e.mod.parameters["client-jwks_uri-parameter"]&&(e.mod.parameters["client-jwks_uri-parameter"]="jwks_uri"),void 0===e.mod.parameters["request-maximum-exp"]&&(e.mod.parameters["request-maximum-exp"]=3600),void 0===e.mod.parameters["encrypt-out-token-allow"]&&(e.mod.parameters["encrypt-out-token-allow"]=!1),void 0===e.mod.parameters["client-enc-parameter"]&&(e.mod.parameters["client-enc-parameter"]="enc"),void 0===e.mod.parameters["client-alg-parameter"]&&(e.mod.parameters["client-alg-parameter"]="alg"),void 0===e.mod.parameters["client-alg_kid-parameter"]&&(e.mod.parameters["client-alg_kid-parameter"]="alg_kid"),void 0===e.mod.parameters["client-encrypt_code-parameter"]&&(e.mod.parameters["client-encrypt_code-parameter"]="encrypt_code"),void 0===e.mod.parameters["client-encrypt_at-parameter"]&&(e.mod.parameters["client-encrypt_at-parameter"]="encrypt_at"),void 0===e.mod.parameters["client-encrypt_userinfo-parameter"]&&(e.mod.parameters["client-encrypt_userinfo-parameter"]="encrypt_userinfo"),void 0===e.mod.parameters["client-encrypt_id_token-parameter"]&&(e.mod.parameters["client-encrypt_id_token-parameter"]="encrypt_id_token"),void 0===e.mod.parameters["client-encrypt_refresh_token-parameter"]&&(e.mod.parameters["client-encrypt_refresh_token-parameter"]="encrypt_refresh_token"),void 0===e.mod.parameters["client-encrypt_introspection-parameter"]&&(e.mod.parameters["client-encrypt_introspection-parameter"]="encrypt_introspection"),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),void 0===e.mod.parameters["client-cert-header-name"]&&(e.mod.parameters["client-cert-header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["client-cert-use-endpoint-aliases"]&&(e.mod.parameters["client-cert-use-endpoint-aliases"]=!1),void 0===e.mod.parameters["client-cert-self-signed-allowed"]&&(e.mod.parameters["client-cert-self-signed-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-allowed"]&&(e.mod.parameters["oauth-dpop-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-iat-duration"]&&(e.mod.parameters["oauth-dpop-iat-duration"]=10),void 0===e.mod.parameters["resource-allowed"]&&(e.mod.parameters["resource-allowed"]=!1),void 0===e.mod.parameters["resource-scope"]&&(e.mod.parameters["resource-scope"]={}),void 0===e.mod.parameters["resource-client-property"]&&(e.mod.parameters["resource-client-property"]=""),void 0===e.mod.parameters["resource-scope-and-client-property"]&&(e.mod.parameters["resource-scope-and-client-property"]=!1),void 0===e.mod.parameters["resource-change-allowed"]&&(e.mod.parameters["resource-change-allowed"]=!1),r.state={config:e.config,mod:e.mod,role:e.role,check:e.check,errorList:{},newScopeOverride:!1,newResourceScope:!1},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(na(r)),r.changeParam=r.changeParam.bind(na(r)),r.changeParamWithValue=r.changeParamWithValue.bind(na(r)),r.changeNumberParam=r.changeNumberParam.bind(na(r)),r.emptyParameter=r.emptyParameter.bind(na(r)),r.toggleParam=r.toggleParam.bind(na(r)),r.changeJwtType=r.changeJwtType.bind(na(r)),r.changeSecretType=r.changeSecretType.bind(na(r)),r.setNewScopeOverride=r.setNewScopeOverride.bind(na(r)),r.addScopeOverride=r.addScopeOverride.bind(na(r)),r.changeScopeOverrideRefreshDuration=r.changeScopeOverrideRefreshDuration.bind(na(r)),r.toggleScopeOverrideRolling=r.toggleScopeOverrideRolling.bind(na(r)),r.addAdditionalParameter=r.addAdditionalParameter.bind(na(r)),r.setAdditionalPropertyUserParameter=r.setAdditionalPropertyUserParameter.bind(na(r)),r.setAdditionalPropertyTokenParameter=r.setAdditionalPropertyTokenParameter.bind(na(r)),r.deleteAdditionalProperty=r.deleteAdditionalProperty.bind(na(r)),r.addClaim=r.addClaim.bind(na(r)),r.deleteClaim=r.deleteClaim.bind(na(r)),r.setClaimName=r.setClaimName.bind(na(r)),r.setClaimUserProperty=r.setClaimUserProperty.bind(na(r)),r.setClaimType=r.setClaimType.bind(na(r)),r.setClaimBooleanTrue=r.setClaimBooleanTrue.bind(na(r)),r.setClaimBooleanFalse=r.setClaimBooleanFalse.bind(na(r)),r.toggleClaimMandatory=r.toggleClaimMandatory.bind(na(r)),r.toggleClaimOnDemand=r.toggleClaimOnDemand.bind(na(r)),r.uploadFile=r.uploadFile.bind(na(r)),r.uploadX5cFile=r.uploadX5cFile.bind(na(r)),r.handleRemoveX5c=r.handleRemoveX5c.bind(na(r)),r.changeAddressClaimParam=r.changeAddressClaimParam.bind(na(r)),r.changeAddressClaim=r.changeAddressClaim.bind(na(r)),r.toggleAddrClaimMandatory=r.toggleAddrClaimMandatory.bind(na(r)),r.addScopeClaim=r.addScopeClaim.bind(na(r)),r.deleteScopeClaim=r.deleteScopeClaim.bind(na(r)),r.addNameScope=r.addNameScope.bind(na(r)),r.deleteNameScope=r.deleteNameScope.bind(na(r)),r.addEmailScope=r.addEmailScope.bind(na(r)),r.deleteEmailScope=r.deleteEmailScope.bind(na(r)),r.addAllowedScope=r.addAllowedScope.bind(na(r)),r.deleteAllowedScope=r.deleteAllowedScope.bind(na(r)),r.addScope=r.addScope.bind(na(r)),r.deleteScope=r.deleteScope.bind(na(r)),r.setResourceScope=r.setResourceScope.bind(na(r)),r.addResourceScope=r.addResourceScope.bind(na(r)),r.changeResourceScopeUrls=r.changeResourceScopeUrls.bind(na(r)),r}return function(e,t,a){t&&aa(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;!e.mod.parameters&&(e.mod.parameters={}),!e.mod.parameters["jwt-type"]&&(e.mod.parameters["jwt-type"]="rsa"),void 0===e.mod.parameters["jwt-key-size"]&&(e.mod.parameters["jwt-key-size"]="256"),!e.mod.parameters["jwks-uri"]&&(e.mod.parameters["jwks-uri"]=""),!e.mod.parameters["jwks-private"]&&(e.mod.parameters["jwks-private"]=""),!e.mod.parameters["default-kid"]&&(e.mod.parameters["default-kid"]=""),!e.mod.parameters["client-sign_kid-parameter"]&&(e.mod.parameters["client-sign_kid-parameter"]=""),!e.mod.parameters["jwks-public-uri"]&&(e.mod.parameters["jwks-public-uri"]=""),!e.mod.parameters["jwks-public"]&&(e.mod.parameters["jwks-public"]=""),!e.mod.parameters.key&&(e.mod.parameters.key=""),!e.mod.parameters.cert&&(e.mod.parameters.cert=""),void 0===e.mod.parameters["access-token-duration"]&&(e.mod.parameters["access-token-duration"]=3600),void 0===e.mod.parameters["refresh-token-duration"]&&(e.mod.parameters["refresh-token-duration"]=1209600),void 0===e.mod.parameters["code-duration"]&&(e.mod.parameters["code-duration"]=600),void 0===e.mod.parameters["refresh-token-rolling"]&&(e.mod.parameters["refresh-token-rolling"]=!0),void 0===e.mod.parameters["refresh-token-one-use"]&&(e.mod.parameters["refresh-token-one-use"]="never"),void 0===e.mod.parameters["client-refresh-token-one-use-parameter"]&&(e.mod.parameters["client-refresh-token-one-use-parameter"]="refresh-token-one-use"),void 0===e.mod.parameters["allow-non-oidc"]&&(e.mod.parameters["allow-non-oidc"]=!1),void 0===e.mod.parameters["auth-type-code-enabled"]&&(e.mod.parameters["auth-type-code-enabled"]=!0),void 0===e.mod.parameters["auth-type-code-revoke-replayed"]&&(e.mod.parameters["auth-type-code-revoke-replayed"]=!1),void 0===e.mod.parameters["auth-type-token-enabled"]&&(e.mod.parameters["auth-type-token-enabled"]=!0),e.mod.parameters["auth-type-id-token-enabled"]=!0,void 0===e.mod.parameters["auth-type-none-enabled"]&&(e.mod.parameters["auth-type-none-enabled"]=!0),void 0===e.mod.parameters["auth-type-password-enabled"]&&(e.mod.parameters["auth-type-password-enabled"]=!1),void 0===e.mod.parameters["auth-type-client-enabled"]&&(e.mod.parameters["auth-type-client-enabled"]=!0),void 0===e.mod.parameters["auth-type-device-enabled"]&&(e.mod.parameters["auth-type-device-enabled"]=!1),void 0===e.mod.parameters["auth-type-refresh-enabled"]&&(e.mod.parameters["auth-type-refresh-enabled"]=!0),!e.mod.parameters.scope&&(e.mod.parameters.scope=[]),!e.mod.parameters["additional-parameters"]&&(e.mod.parameters["additional-parameters"]=[]),!e.mod.parameters.claims&&(e.mod.parameters.claims=[]),void 0===e.mod.parameters["service-documentation"]&&(e.mod.parameters["service-documentation"]="https://github.com/babelouest/glewlwyd/tree/master/docs"),void 0===e.mod.parameters["op-policy-uri"]&&(e.mod.parameters["op-policy-uri"]=""),void 0===e.mod.parameters["op-tos-uri"]&&(e.mod.parameters["op-tos-uri"]=""),void 0===e.mod.parameters["jwks-show"]&&(e.mod.parameters["jwks-show"]=!0),void 0===e.mod.parameters["jwks-x5c"]&&(e.mod.parameters["jwks-x5c"]=[]),void 0===e.mod.parameters["request-parameter-allow"]&&(e.mod.parameters["request-parameter-allow"]=!0),void 0===e.mod.parameters["request-uri-allow-https-non-secure"]&&(e.mod.parameters["request-uri-allow-https-non-secure"]=!1),!e.mod.parameters["secret-type"]&&(e.mod.parameters["secret-type"]="pairwise"),!e.mod.parameters["address-claim"]&&(e.mod.parameters["address-claim"]={type:"no",formatted:"",street_address:"",locality:"",region:"",postal_code:"",country:"",mandatory:!1}),!e.mod.parameters["name-claim"]&&(e.mod.parameters["name-claim"]="on-demand"),!e.mod.parameters["name-claim-scope"]&&(e.mod.parameters["name-claim-scope"]=[]),!e.mod.parameters["email-claim"]&&(e.mod.parameters["email-claim"]="no"),!e.mod.parameters["email-claim-scope"]&&(e.mod.parameters["email-claim-scope"]=[]),!e.mod.parameters["scope-claim"]&&(e.mod.parameters["scope-claim"]="no"),!e.mod.parameters["scope-claim-scope"]&&(e.mod.parameters["scope-claim-scope"]=[]),!e.mod.parameters["allowed-scope"]&&(e.mod.parameters["allowed-scope"]=["openid"]),void 0===e.mod.parameters["pkce-allowed"]&&(e.mod.parameters["pkce-allowed"]=!1),void 0===e.mod.parameters["pkce-method-plain-allowed"]&&(e.mod.parameters["pkce-method-plain-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-allowed"]&&(e.mod.parameters["introspection-revocation-allowed"]=!1),void 0===e.mod.parameters["introspection-revocation-auth-scope"]&&(e.mod.parameters["introspection-revocation-auth-scope"]=[]),void 0===e.mod.parameters["introspection-revocation-allow-target-client"]&&(e.mod.parameters["introspection-revocation-allow-target-client"]=!0),void 0===e.mod.parameters["register-client-allowed"]&&(e.mod.parameters["register-client-allowed"]=!1),void 0===e.mod.parameters["register-client-auth-scope"]&&(e.mod.parameters["register-client-auth-scope"]=[]),void 0===e.mod.parameters["register-client-credentials-scope"]&&(e.mod.parameters["register-client-credentials-scope"]=[]),void 0===e.mod.parameters["register-client-management-allowed"]&&(e.mod.parameters["register-client-management-allowed"]=!0),void 0===e.mod.parameters["register-resource-specify-allowed"]&&(e.mod.parameters["register-resource-specify-allowed"]=!1),void 0===e.mod.parameters["register-resource-default"]&&(e.mod.parameters["register-resource-default"]=[]),void 0===e.mod.parameters["session-management-allowed"]&&(e.mod.parameters["session-management-allowed"]=!1),void 0===e.mod.parameters["client-pubkey-parameter"]&&(e.mod.parameters["client-pubkey-parameter"]=""),void 0===e.mod.parameters["client-jwks-parameter"]&&(e.mod.parameters["client-jwks-parameter"]="jwks"),void 0===e.mod.parameters["client-jwks_uri-parameter"]&&(e.mod.parameters["client-jwks_uri-parameter"]="jwks_uri"),void 0===e.mod.parameters["request-maximum-exp"]&&(e.mod.parameters["request-maximum-exp"]=3600),void 0===e.mod.parameters["encrypt-out-token-allow"]&&(e.mod.parameters["encrypt-out-token-allow"]=!1),void 0===e.mod.parameters["client-enc-parameter"]&&(e.mod.parameters["client-enc-parameter"]="enc"),void 0===e.mod.parameters["client-alg-parameter"]&&(e.mod.parameters["client-alg-parameter"]="alg"),void 0===e.mod.parameters["client-alg_kid-parameter"]&&(e.mod.parameters["client-alg_kid-parameter"]="alg_kid"),void 0===e.mod.parameters["client-encrypt_code-parameter"]&&(e.mod.parameters["client-encrypt_code-parameter"]="encrypt_code"),void 0===e.mod.parameters["client-encrypt_at-parameter"]&&(e.mod.parameters["client-encrypt_at-parameter"]="encrypt_at"),void 0===e.mod.parameters["client-encrypt_userinfo-parameter"]&&(e.mod.parameters["client-encrypt_userinfo-parameter"]="encrypt_userinfo"),void 0===e.mod.parameters["client-encrypt_id_token-parameter"]&&(e.mod.parameters["client-encrypt_id_token-parameter"]="encrypt_id_token"),void 0===e.mod.parameters["client-encrypt_refresh_token-parameter"]&&(e.mod.parameters["client-encrypt_refresh_token-parameter"]="encrypt_refresh_token"),void 0===e.mod.parameters["client-encrypt_introspection-parameter"]&&(e.mod.parameters["client-encrypt_introspection-parameter"]="encrypt_introspection"),void 0===e.mod.parameters["device-authorization-expiration"]&&(e.mod.parameters["device-authorization-expiration"]=600),void 0===e.mod.parameters["device-authorization-interval"]&&(e.mod.parameters["device-authorization-interval"]=5),void 0===e.mod.parameters["client-cert-header-name"]&&(e.mod.parameters["client-cert-header-name"]="SSL_CLIENT_CERT"),void 0===e.mod.parameters["client-cert-use-endpoint-aliases"]&&(e.mod.parameters["client-cert-use-endpoint-aliases"]=!1),void 0===e.mod.parameters["client-cert-self-signed-allowed"]&&(e.mod.parameters["client-cert-self-signed-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-allowed"]&&(e.mod.parameters["oauth-dpop-allowed"]=!1),void 0===e.mod.parameters["oauth-dpop-iat-duration"]&&(e.mod.parameters["oauth-dpop-iat-duration"]=10),void 0===e.mod.parameters["resource-allowed"]&&(e.mod.parameters["resource-allowed"]=!1),void 0===e.mod.parameters["resource-scope"]&&(e.mod.parameters["resource-scope"]={}),void 0===e.mod.parameters["resource-client-property"]&&(e.mod.parameters["resource-client-property"]=""),void 0===e.mod.parameters["resource-scope-and-client-property"]&&(e.mod.parameters["resource-scope-and-client-property"]=!1),void 0===e.mod.parameters["resource-change-allowed"]&&(e.mod.parameters["resource-change-allowed"]=!1),this.setState({config:e.config,mod:e.mod,role:e.role,check:e.check},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=e.target.value,this.setState({mod:a})}},{key:"changeParamWithValue",value:function(e,t){var a=this.state.mod;a.parameters[e]=t,this.setState({mod:a})}},{key:"changeNumberParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=parseInt(e.target.value),isNaN(a.parameters[t])||this.setState({mod:a})}},{key:"emptyParameter",value:function(e){var t=this.state.mod;delete t.parameters[e],this.setState({mod:t})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"changeJwtType",value:function(e,t){var a=this.state.mod;a.parameters["jwt-type"]=t,this.setState({mod:a})}},{key:"changeSecretType",value:function(e,t){var a=this.state.mod;a.parameters["secret-type"]=t,this.setState({mod:a})}},{key:"changeJwtKeySize",value:function(e,t){var a=this.state.mod;a.parameters["jwt-key-size"]=t,this.setState({mod:a})}},{key:"uploadFile",value:function(e,t){var a=this,r=this.state.mod,n=e.target.files[0],o=new FileReader;o.onload=function(e){r.parameters[t]=e.target.result,a.setState({mod:r})},o.readAsText(n)}},{key:"uploadX5cFile",value:function(e){var t=this,a=this.state.mod,r=e.target.files[0],n=new FileReader;n.onload=function(e){a.parameters["jwks-x5c"].push(e.target.result),t.setState({mod:a})},n.readAsText(r)}},{key:"handleRemoveX5c",value:function(e,t){if(e.preventDefault(),this.state.mod.parameters["jwks-show"]){var a=this.state.mod;a.parameters["jwks-x5c"].splice(t,1),this.setState({mod:a})}}},{key:"setNewScopeOverride",value:function(e,t){this.setState({newScopeOverride:t})}},{key:"addScopeOverride",value:function(){if(this.state.newScopeOverride){var e=this.state.mod;e.parameters.scope.push({name:this.state.newScopeOverride,"refresh-token-rolling":this.state.mod.parameters["refresh-token-rolling"],"refresh-token-duration":0}),this.setState({mod:e,newScopeOverride:!1})}}},{key:"changeScopeOverrideRefreshDuration",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(a){a.name===t.name&&(a["refresh-token-duration"]=parseInt(e.target.value))})),this.setState({mod:a})}},{key:"toggleScopeOverrideRolling",value:function(e,t,a){var r=this.state.mod;r.parameters.scope.forEach((function(e){e.name===t&&(void 0===a?delete e["refresh-token-rolling"]:e["refresh-token-rolling"]=a)})),this.setState({mod:r})}},{key:"deleteScopeOverride",value:function(e,t){var a=this.state.mod;a.parameters.scope.forEach((function(e,r){e.name===t&&a.parameters.scope.splice(r,1)})),this.setState({mod:a})}},{key:"addAdditionalParameter",value:function(){var e=this.state.mod;e.parameters["additional-parameters"].push({"user-parameter":"","token-parameter":"","token-changed":!1}),this.setState({mod:e,newScopeOverride:!1})}},{key:"setAdditionalPropertyUserParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["user-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]||(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value)),this.setState({mod:a,newScopeOverride:!1})}},{key:"setAdditionalPropertyTokenParameter",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&(a.parameters["additional-parameters"][t]["token-parameter"]=e.target.value,a.parameters["additional-parameters"][t]["token-changed"]=!0),this.setState({mod:a,newScopeOverride:!1})}},{key:"deleteAdditionalProperty",value:function(e,t){var a=this.state.mod;a.parameters["additional-parameters"][t]&&a.parameters["additional-parameters"].splice(t,1),this.setState({mod:a,newScopeOverride:!1})}},{key:"addClaim",value:function(){var e=this.state.mod;e.parameters.claims.push({name:"","user-property":"",type:"string","boolean-value-true":"","boolean-value-false":"",mandatory:!1,"on-demand":!1,scope:[]}),this.setState({mod:e})}},{key:"deleteClaim",value:function(e,t){var a=this.state.mod;a.parameters.claims.splice(t,1),this.setState({mod:a})}},{key:"setClaimName",value:function(e,t){var a=this.state.mod;a.parameters.claims[t].name=e.target.value,this.setState({mod:a})}},{key:"setClaimUserProperty",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["user-property"]=e.target.value,this.setState({mod:a})}},{key:"setClaimType",value:function(e,t,a){var r=this.state.mod;r.parameters.claims[t].type=a,this.setState({mod:r})}},{key:"setClaimBooleanTrue",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["boolean-value-true"]=e.target.value,this.setState({mod:a})}},{key:"setClaimBooleanFalse",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["boolean-value-false"]=e.target.value,this.setState({mod:a})}},{key:"toggleClaimMandatory",value:function(e,t){var a=this.state.mod;a.parameters.claims[t].mandatory=!a.parameters.claims[t].mandatory,this.setState({mod:a})}},{key:"toggleClaimOnDemand",value:function(e,t){var a=this.state.mod;a.parameters.claims[t]["on-demand"]=!a.parameters.claims[t]["on-demand"],this.setState({mod:a})}},{key:"changeAddressClaimParam",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"][t]=e.target.value,this.setState({mod:a})}},{key:"changeAddressClaim",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"].type=t,this.setState({mod:a})}},{key:"toggleAddrClaimMandatory",value:function(e,t){var a=this.state.mod;a.parameters["address-claim"].mandatory=!a.parameters["address-claim"].mandatory,this.setState({mod:a})}},{key:"addScopeClaim",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.claims[t].scope.push(a),this.setState({mod:r})}},{key:"deleteScopeClaim",value:function(e,t,a){if(e.preventDefault(),!this.state.mod.parameters.claims[t].mandatory){var r=this.state.mod;r.parameters.claims[t].scope.splice(a,1),this.setState({mod:r})}}},{key:"addNameScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["name-claim-scope"].push(t),this.setState({mod:a})}},{key:"deleteNameScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["name-claim-scope"].splice(t,1),this.setState({mod:a})}},{key:"addEmailScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["email-claim-scope"].push(t),this.setState({mod:a})}},{key:"deleteEmailScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["email-claim-scope"].splice(t,1),this.setState({mod:a})}},{key:"addAllowedScope",value:function(e,t){e.preventDefault();var a=this.state.mod;t?a.parameters["allowed-scope"].push(t):(a.parameters["allowed-scope"]=["openid"],this.state.config.scopes.forEach((function(e){"openid"!==e.name&&a.parameters["allowed-scope"].push(e.name)}))),this.setState({mod:a})}},{key:"deleteAllowedScope",value:function(e,t){if(e.preventDefault(),"openid"!==this.state.mod.parameters["allowed-scope"][t]){var a=this.state.mod;a.parameters["allowed-scope"].splice(t,1),this.setState({mod:a})}}},{key:"addScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t].push(a),this.setState({mod:r})}},{key:"deleteScope",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters[t].splice(a,1),this.setState({mod:r})}},{key:"changeMtlsClientSource",value:function(e,t){var a=this.state.mod;t?a.parameters["client-cert-source"]=t:delete a.parameters["client-cert-source"],this.setState({mod:a})}},{key:"setResourceScope",value:function(e,t){e.preventDefault(),this.setState({newResourceScope:t})}},{key:"addResourceScope",value:function(){var e=this.state.mod;e.parameters["resource-scope"][this.state.newResourceScope]=[],this.setState({mod:e,newResourceScope:!1})}},{key:"changeResourceScopeUrls",value:function(e,t){var a=this.state.mod;a.parameters["resource-scope"][t]=e.target.value.split("\n"),this.setState({mod:a})}},{key:"deleteResourceScope",value:function(e,t){var a=this.state.mod;delete a.parameters["resource-scope"][t],this.setState({mod:a})}},{key:"changeRegisterResourceDefaultUrls",value:function(e){var t=this.state.mod;t.parameters["register-resource-default"]=e.target.value.split("\n"),this.setState({mod:t})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1;if(this.state.mod.parameters.iss||(a=!0,t.iss=i.a.t("admin.mod-glwd-iss-error"),t.general=!0),this.state.mod.parameters["jwks-private"]||this.state.mod.parameters["jwks-uri"]){if(this.state.mod.parameters["jwks-private"]){var r=!1;try{r=JSON.parse(this.state.mod.parameters["jwks-private"])}catch(e){a=!0,t["jwks-private"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0}if(r)if(r.keys&&Array.isArray(r.keys)){if(this.state.mod.parameters["default-kid"]){var n=!1;r.keys.forEach((function(t){t.kid===e.state.mod.parameters["default-kid"]&&(n=!0)})),n||(a=!0,t["default-kid"]=i.a.t("admin.mod-glwd-default-kid-error"),t.signature=!0)}}else a=!0,t["jwks-private"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0}}else this.state.mod.parameters.key||(a=!0,t.key=i.a.t("admin.mod-glwd-key-error"),t.signature=!0),"sha"===this.state.mod.parameters["jwt-type"]||this.state.mod.parameters.cert||(a=!0,t.cert=i.a.t("admin.mod-glwd-cert-error"),t.signature=!0);if(this.state.mod.parameters["jwks-public"]){r=!1;try{r=JSON.parse(this.state.mod.parameters["jwks-public"])}catch(e){a=!0,t["jwks-public"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0}r&&(r.keys&&Array.isArray(r.keys)||(a=!0,t["jwks-public"]=i.a.t("admin.mod-glwd-jwks-error"),t.signature=!0))}if(this.state.mod.parameters["access-token-duration"]||(a=!0,t["access-token-duration"]=i.a.t("admin.mod-glwd-access-token-duration-error"),t.token=!0),this.state.mod.parameters["refresh-token-duration"]||(a=!0,t["refresh-token-duration"]=i.a.t("admin.mod-glwd-refresh-token-duration-error"),t.token=!0),this.state.mod.parameters["code-duration"]||(a=!0,t["code-duration"]=i.a.t("admin.mod-glwd-code-duration-error"),t.token=!0),this.state.mod.parameters["additional-parameters"].forEach((function(e,r){e["user-parameter"]||(a=!0,t["additional-parameters"]||(t["additional-parameters"]=[]),t["additional-parameters"][r]||(t["additional-parameters"][r]={}),t["additional-parameters"][r].user=i.a.t("admin.mod-glwd-additional-parameter-user-parameter-error")),e["token-parameter"]?"username"!==e["token-parameter"]&&"salt"!==e["token-parameter"]&&"type"!==e["token-parameter"]&&"iat"!==e["token-parameter"]&&"expires_in"!==e["token-parameter"]&&"scope"!==e["token-parameter"]||(a=!0,t["additional-parameters"]||(t["additional-parameters"]=[]),t["additional-parameters"][r]||(t["additional-parameters"][r]={}),t["additional-parameters"][r].token=i.a.t("admin.mod-glwd-additional-parameter-token-parameter-invalid-error")):(a=!0,t["additional-parameters"]||(t["additional-parameters"]=[]),t["additional-parameters"][r]||(t["additional-parameters"][r]={}),t["additional-parameters"][r].token=i.a.t("admin.mod-glwd-additional-parameter-token-parameter-error"))})),this.state.mod.parameters.claims.forEach((function(e,r){""===e.name?(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r].name=i.a.t("admin.mod-glwd-claims-name-error")):["iss","sub","aud","exp","iat","auth_time","nonce","acr","amr","azp","name","email","address"].indexOf(e.name)>-1&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r].name=i.a.t("admin.mod-glwd-claims-name-forbidden-error")),""===e["user-property"]&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r]["user-property"]=i.a.t("admin.mod-glwd-claims-user-property-error")),"boolean"===e.type&&""===e["boolean-value-true"]&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r]["boolean-value-true"]=i.a.t("admin.mod-glwd-claims-boolean-value-true-error")),"boolean"===e.type&&""===e["boolean-value-false"]&&(a=!0,t.claims||(t.claims=[]),t.claims[r]||(t.claims[r]={}),t.claims[r]["boolean-value-false"]=i.a.t("admin.mod-glwd-claims-boolean-value-false-error"))})),!this.state.mod.parameters["introspection-revocation-allowed"]||this.state.mod.parameters["introspection-revocation-allow-target-client"]||this.state.mod.parameters["introspection-revocation-auth-scope"].length||(a=!0,t["introspection-revocation"]=i.a.t("admin.mod-glwd-introspection-revocation-error"),t.token=!0),this.state.mod.parameters["oauth-dpop-allowed"]&&!this.state.mod.parameters["oauth-dpop-iat-duration"]&&(a=!0,t["oauth-dpop-iat-duration"]=i.a.t("admin.mod-glwd-oauth-dpop-iat-duration-error"),t["oauth-dpop"]=!0),this.state.mod.parameters["resource-allowed"]){var o=0;Object.keys(this.state.mod.parameters["resource-scope"]).forEach((function(r){o++,e.state.mod.parameters["resource-scope"][r].length?e.state.mod.parameters["resource-scope"][r].forEach((function(e,n){e.startsWith("https://")||e.startsWith("http://localhost")||e.startsWith("http://127.0.0.1")||e.startsWith("http://[::1]")?e.indexOf("#")>-1&&(a=!0,t["resource-scope"]||(t["resource-scope"]={}),t["resource-scope"][r]=i.a.t("admin.mod-glwd-resource-scope-url-error"),t.resource=!0):(a=!0,t["resource-scope"]||(t["resource-scope"]={}),t["resource-scope"][r]=i.a.t("admin.mod-glwd-resource-scope-url-error"),t.resource=!0)})):(a=!0,t["resource-scope"]||(t["resource-scope"]={}),t["resource-scope"][r]=i.a.t("admin.mod-glwd-resource-scope-empty-error"),t.resource=!0)})),o||this.state.mod.parameters["resource-client-property"]||(a=!0,t["resource-scope-or-client"]=i.a.t("admin.mod-glwd-resource-scope-or-client-error"),t.resource=!0),!this.state.mod.parameters["resource-scope-and-client-property"]||o&&this.state.mod.parameters["resource-client-property"]||(a=!0,t["resource-scope-or-client"]=i.a.t("admin.mod-glwd-resource-scope-and-client-error"),t.resource=!0)}a?this.setState({errorList:t},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e,t,a,r=this,o=[],s=[],l=[],c=[],m=[],d=document.location.href.split("?")[0].split("#")[0]+this.state.config.api_prefix+"/"+(this.state.mod.name||""),p=d+"/.well-known/openid-configuration",u=d+"/auth",h=d+"/token",f=d+"/userinfo";"sha"===this.state.mod.parameters["jwt-type"]?e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("input",{type:"password",className:this.state.errorList.key?"form-control is-invalid":"form-control",id:"mod-glwd-key",onChange:function(e){return r.changeParam(e,"key")},value:this.state.mod.parameters.key,placeholder:i.a.t("admin.mod-glwd-key-ph")})),this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""):(e=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-key"},i.a.t("admin.mod-glwd-key"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-key",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return r.uploadFile(e,"key")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-key"},i.a.t("admin.choose-file")))),this.state.mod.parameters.key?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.key.substring(0,40),n.a.createElement("button",{type:"button",onClick:function(e){return r.emptyParameter("key")},className:"close"},n.a.createElement("span",{"aria-hidden":"true"},n.a.createElement("i",{className:"fas fa-trash"})))):"",this.state.errorList.key?n.a.createElement("span",{className:"error-input"},this.state.errorList.key):""),t=n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-cert"},i.a.t("admin.mod-glwd-cert"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-cert",className:this.state.errorList.key?"custom-file-input is-invalid":"custom-file-input",onChange:function(e){return r.uploadFile(e,"cert")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-cert"},i.a.t("admin.choose-file")))),this.state.mod.parameters.cert?n.a.createElement("div",{className:"alert alert-primary"},this.state.mod.parameters.cert.substring(0,40),n.a.createElement("button",{type:"button",onClick:function(e){return r.emptyParameter("cert")},className:"close"},n.a.createElement("span",{"aria-hidden":"true"},n.a.createElement("i",{className:"fas fa-trash"})))):"",this.state.errorList.cert?n.a.createElement("span",{className:"error-input"},this.state.errorList.cert):"")),this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){var a=0;r.state.mod.parameters.scope.forEach((function(t){t.name===e&&(a=1)})),a||s.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.setNewScopeOverride(t,e)}},e))}))}));var g=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.newScopeOverride||i.a.t("admin.mod-glwd-scope-override-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-override-scope"},s));this.state.mod.parameters.scope.forEach((function(e,t){o.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e.name),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-duration-"+e.name},i.a.t("admin.mod-glwd-scope-override-refresh-duration"))),n.a.createElement("input",{type:"number",min:"0",step:"1",className:"form-control",id:"mod-glwd-scope-override-refresh-duration-"+e.name,onChange:function(t){return r.changeScopeOverrideRefreshDuration(t,e)},value:e["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-scope-override-refresh-duration-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-override-refresh-rolling-"+e.name},i.a.t("admin.mod-scope-override-refresh-rolling"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-scope-override-refresh-rolling-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.glwd-scope-override-refresh-rolling-value-"+e["refresh-token-rolling"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+(void 0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,void 0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-undefined")),n.a.createElement("a",{className:"dropdown-item"+(!0===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,!0)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-true")),n.a.createElement("a",{className:"dropdown-item"+(!1===e["refresh-token-rolling"]?" active":""),href:"#",onClick:function(t){return r.toggleScopeOverrideRolling(t,e.name,!1)}},i.a.t("admin.glwd-scope-override-refresh-rolling-value-false")))))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(t){return r.deleteScopeOverride(t,e.name)},title:i.a.t("admin.mod-scope-override-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),this.state.mod.parameters["additional-parameters"].forEach((function(e,t){var a=r.state.errorList["additional-parameters"]&&r.state.errorList["additional-parameters"][t]&&r.state.errorList["additional-parameters"][t].user,o=r.state.errorList["additional-parameters"]&&r.state.errorList["additional-parameters"][t]&&r.state.errorList["additional-parameters"][t].token;l.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e["user-parameter"]||i.a.t("admin.mod-additional-parameter-new")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-user-parameter"))),n.a.createElement("input",{type:"text",className:a?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-user-parameter-"+e["user-parameter"],onChange:function(e){return r.setAdditionalPropertyUserParameter(e,t)},value:e["user-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-user-parameter-ph")}),a?n.a.createElement("span",{className:"error-input"},r.state.errorList["additional-parameters"][t].user):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"]},i.a.t("admin.mod-glwd-additional-parameter-token-parameter"))),n.a.createElement("input",{type:"text",className:o?"form-control is-invalid":"form-control",id:"mod-glwd-additional-parameter-token-parameter-"+e["token-parameter"],onChange:function(e){return r.setAdditionalPropertyTokenParameter(e,t)},value:e["token-parameter"],placeholder:i.a.t("admin.mod-glwd-additional-parameter-token-parameter-ph")})),o?n.a.createElement("span",{className:"error-input"},r.state.errorList["additional-parameters"][t].token):""),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.deleteAdditionalProperty(e,t)},title:i.a.t("admin.mod-additional-parameter-token-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))}));var b=[n.a.createElement("a",{className:"dropdown-item",key:-1,href:"#",onClick:function(e){return r.addAllowedScope(e,!1)}},i.a.t("admin.mod-glwd-allowed-scope-all"))];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["allowed-scope"].indexOf(e.name)&&"openid"!==e.name&&b.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addAllowedScope(t,e.name)}},e.name))}));var y=[];this.state.mod.parameters["allowed-scope"].forEach((function(e,t){y.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteAllowedScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var v=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["name-claim-scope"].indexOf(e.name)&&v.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addNameScope(t,e.name)}},e.name))}));var E=[];this.state.mod.parameters["name-claim-scope"].forEach((function(e,t){E.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteNameScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var N=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["email-claim-scope"].indexOf(e.name)&&N.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addEmailScope(t,e.name)}},e.name))}));var w=[];this.state.mod.parameters["email-claim-scope"].forEach((function(e,t){w.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteEmailScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var k=[];this.state.config.scopes.forEach((function(e,t){-1===r.state.mod.parameters["scope-claim-scope"].indexOf(e.name)&&k.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return r.addEmailScope(t,e.name)}},e.name))}));var C=[];this.state.mod.parameters["scope-claim-scope"].forEach((function(e,t){C.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteEmailScope(e,t)},key:t},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),this.state.mod.parameters["jwks-x5c"].forEach((function(e,t){m.push(n.a.createElement("a",{disabled:!r.state.mod.parameters["jwks-show"],href:"#",key:t,onClick:function(e){return r.handleRemoveX5c(e,t)}},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e.substring(0,40),n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),this.state.mod.parameters.claims.forEach((function(e,t){var a=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t].name,o=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["user-property"],s=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["boolean-value-true"],l=r.state.errorList.claims&&r.state.errorList.claims[t]&&r.state.errorList.claims[t]["boolean-value-false"],m="";"boolean"===e.type&&(m=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-boolean-value-true-"+e.name},i.a.t("admin.mod-glwd-claims-boolean-value-true"))),n.a.createElement("input",{type:"text",className:s?"form-control is-invalid":"form-control",id:"mod-glwd-claims-boolean-value-true-"+e.name,onChange:function(e){return r.setClaimBooleanTrue(e,t)},value:e["boolean-value-true"],placeholder:i.a.t("admin.mod-glwd-claims-boolean-value-true-ph")}),s?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["boolean-value-true"]):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-boolean-value-false-"+e.name},i.a.t("admin.mod-glwd-claims-boolean-value-false"))),n.a.createElement("input",{type:"text",className:l?"form-control is-invalid":"form-control",id:"mod-glwd-claims-boolean-value-false-"+e.name,onChange:function(e){return r.setClaimBooleanFalse(e,t)},value:e["boolean-value-false"],placeholder:i.a.t("admin.mod-glwd-claims-boolean-value-false-ph")}),l?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["boolean-value-false"]):""))));var d=[];r.state.config.scopes.forEach((function(a,o){-1===e.scope.indexOf(a.name)&&d.push(n.a.createElement("a",{className:"dropdown-item",key:o,href:"#",onClick:function(e){return r.addScopeClaim(e,t,a.name)}},a.name))}));var p=[];e.scope.forEach((function(e,a){p.push(n.a.createElement("a",{href:"#",onClick:function(e){return r.deleteScopeClaim(e,t,a)},key:a},n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))})),c.push(n.a.createElement("div",{key:t},n.a.createElement("hr",null),n.a.createElement("h4",null,e.name||i.a.t("admin.mod-claims-new")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-name-"+e.name},i.a.t("admin.mod-glwd-claims-name"))),n.a.createElement("input",{type:"text",className:a?"form-control is-invalid":"form-control",id:"mod-glwd-claims-name-"+e.name,onChange:function(e){return r.setClaimName(e,t)},value:e.name,placeholder:i.a.t("admin.mod-glwd-claims-name-ph")}),a?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t].name):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-user-property-"+e.name},i.a.t("admin.mod-glwd-claims-user-property"))),n.a.createElement("input",{type:"text",className:o?"form-control is-invalid":"form-control",id:"mod-glwd-claims-user-property-"+e.name,onChange:function(e){return r.setClaimUserProperty(e,t)},value:e["user-property"],placeholder:i.a.t("admin.mod-glwd-claims-user-property-ph")}),o?n.a.createElement("span",{className:"error-input"},r.state.errorList.claims[t]["user-property"]):"")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-claims-type"},i.a.t("admin.mod-glwd-claims-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-claims-type-"+e.name,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-claims-type-"+e.type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-claims-type"},n.a.createElement("a",{className:"dropdown-item"+("string"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"string")}},i.a.t("admin.mod-glwd-claims-type-string")),n.a.createElement("a",{className:"dropdown-item"+("number"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"number")}},i.a.t("admin.mod-glwd-claims-type-number")),n.a.createElement("a",{className:"dropdown-item"+("boolean"===e.type?" active":""),href:"#",onClick:function(e){return r.setClaimType(e,t,"boolean")}},i.a.t("admin.mod-glwd-claims-type-boolean"))))),m,n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-claims-mandatory-"+e.name,onChange:function(e){return r.toggleClaimMandatory(e,t)},checked:e.mandatory}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-claims-mandatory-"+e.name},i.a.t("admin.mod-glwd-claims-mandatory"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-claims-on-demand-"+e.name,onChange:function(e){return r.toggleClaimOnDemand(e,t)},checked:e["on-demand"],disabled:e.mandatory}),n.a.createElement("label",{disabled:!0,className:"form-check-label",htmlFor:"mod-glwd-claims-on-demand-"+e.name},i.a.t("admin.mod-glwd-claims-on-demand"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-claim"},i.a.t("admin.mod-glwd-scope-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:e.mandatory},i.a.t("admin.mod-glwd-scope-claim-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},d)),p))),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return r.deleteClaim(e,t)},title:i.a.t("admin.mod-claims-delete")},n.a.createElement("i",{className:"fas fa-trash"}))))})),"no"!==this.state.mod.parameters["address-claim"].type&&(a=n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-formatted"},i.a.t("admin.mod-glwd-addr-claim-formatted"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-formatted",onChange:function(e){return r.changeAddressClaimParam(e,"formatted")},value:this.state.mod.parameters["address-claim"].formatted,placeholder:i.a.t("admin.mod-glwd-addr-claim-formatted-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-street-address"},i.a.t("admin.mod-glwd-addr-claim-street-address"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-street-address",onChange:function(e){return r.changeAddressClaimParam(e,"street_address")},value:this.state.mod.parameters["address-claim"].street_address,placeholder:i.a.t("admin.mod-glwd-addr-claim-street-address-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-locality"},i.a.t("admin.mod-glwd-addr-claim-locality"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-locality",onChange:function(e){return r.changeAddressClaimParam(e,"locality")},value:this.state.mod.parameters["address-claim"].locality,placeholder:i.a.t("admin.mod-glwd-addr-claim-locality-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-region"},i.a.t("admin.mod-glwd-addr-claim-region"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-region",onChange:function(e){return r.changeAddressClaimParam(e,"region")},value:this.state.mod.parameters["address-claim"].region,placeholder:i.a.t("admin.mod-glwd-addr-claim-region-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-postal-code"},i.a.t("admin.mod-glwd-addr-claim-postal-code"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-postal-code",onChange:function(e){return r.changeAddressClaimParam(e,"postal_code")},value:this.state.mod.parameters["address-claim"].postal_code,placeholder:i.a.t("admin.mod-glwd-addr-claim-postal-code-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-addr-claim-country"},i.a.t("admin.mod-glwd-addr-claim-country"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-addr-claim-country",onChange:function(e){return r.changeAddressClaimParam(e,"country")},value:this.state.mod.parameters["address-claim"].country,placeholder:i.a.t("admin.mod-glwd-addr-claim-country-ph")}))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-addr-claim-mandatory",onChange:function(e){return r.toggleAddrClaimMandatory(e)},checked:this.state.mod.parameters["address-claim"].mandatory}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-addr-claim-mandatory"},i.a.t("admin.mod-glwd-addr-claim-mandatory")))));var S=[],P=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){S.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"introspection-revocation-auth-scope",e)},disabled:!r.state.mod.parameters["introspection-revocation-allowed"]},e))}))})),this.state.mod.parameters["introspection-revocation-auth-scope"].forEach((function(e,t){r.state.mod.parameters["introspection-revocation-allowed"]?P.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"introspection-revocation-auth-scope",t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):P.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var x=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["introspection-revocation-allowed"]},i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},S),n.a.createElement("div",null,P)),M=[],_=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){M.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"register-client-auth-scope",e)},disabled:!r.state.mod.parameters["register-client-allowed"]},e))}))})),this.state.mod.parameters["register-client-auth-scope"].length||_.push(n.a.createElement("span",{key:0,className:"badge badge-danger btn-icon-right"},i.a.t("admin.mod-glwd-register-client-auth-scope-open"))),this.state.mod.parameters["register-client-auth-scope"].forEach((function(e,t){r.state.mod.parameters["register-client-allowed"]?_.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"register-client-auth-scope",t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):_.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var L=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},M),n.a.createElement("div",null,_)),j=[],R=[];this.state.config.pattern.user.forEach((function(e){"scope"===e.name&&e.listElements.forEach((function(e,t){j.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.addScope(t,"register-client-credentials-scope",e)},disabled:!r.state.mod.parameters["register-client-allowed"]},e))}))})),this.state.mod.parameters["register-client-credentials-scope"].forEach((function(e,t){r.state.mod.parameters["register-client-allowed"]?R.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(e){return r.deleteScope(e,"register-client-credentials-scope",t)},key:t},n.a.createElement("span",{className:"badge badge-primary"},e,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"}))))):R.push(n.a.createElement("span",{key:t,className:"badge badge-primary btn-icon-right"},e))}));var O=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["register-client-allowed"]},i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},j),n.a.createElement("div",null,R)),F=[];this.state.config.scopes.forEach((function(e,t){void 0===r.state.mod.parameters["resource-scope"][e.name]&&F.push(n.a.createElement("a",{key:t,className:"dropdown-item",href:"#",onClick:function(t){return r.setResourceScope(t,e.name)},disabled:!r.state.mod.parameters["resource-allowed"]},e.name))}));var A=n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:!this.state.mod.parameters["resource-allowed"]||!F.length},this.state.newResourceScope||i.a.t("admin.mod-glwd-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},F)),T=[];return Object.keys(this.state.mod.parameters["resource-scope"]).forEach((function(e){T.push(n.a.createElement("div",{className:"form-group",key:e},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},e,n.a.createElement("button",{type:"button",className:"close btn-icon-right","data-dismiss":"alert","aria-label":"Close",onClick:function(t){return r.deleteResourceScope(t,e)}},n.a.createElement("span",{"aria-hidden":"true"},n.a.createElement("i",{className:"fas fa-trash"}))))),n.a.createElement("textarea",{className:r.state.errorList["resource-scope"]&&r.state.errorList["resource-scope"][e]?"form-control is-invalid":"form-control",id:"mod-resource-scope-urls-"+e,onChange:function(t){return r.changeResourceScopeUrls(t,e)},placeholder:i.a.t("admin.mod-glwd-resource-scope-urls-ph"),value:r.state.mod.parameters["resource-scope"][e]&&r.state.mod.parameters["resource-scope"][e].join("\n")})),r.state.errorList["resource-scope"]&&r.state.errorList["resource-scope"][e]?n.a.createElement("span",{className:"error-input"},r.state.errorList["resource-scope"][e]):""))})),n.a.createElement("div",null,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-oidc-config"))),n.a.createElement("code",null,p))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-auth"))),n.a.createElement("code",null,u))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-token"))),n.a.createElement("code",null,h))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-url-userinfo"))),n.a.createElement("code",null,f))),n.a.createElement("hr",null),n.a.createElement("div",{className:"accordion",id:"accordionGenral"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseGenral","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList.general?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oidc-general-title")))),n.a.createElement("div",{id:"collapseGenral",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionGenral"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-iss"},i.a.t("admin.mod-glwd-iss"))),n.a.createElement("input",{type:"text",className:this.state.errorList.iss?"form-control is-invalid":"form-control",id:"mod-glwd-iss",onChange:function(e){return r.changeParam(e,"iss")},value:this.state.mod.parameters.iss,placeholder:i.a.t("admin.mod-glwd-iss-ph")})),this.state.errorList.iss?n.a.createElement("span",{className:"error-input"},this.state.errorList.iss):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-secret-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-secret-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-secret-type-"+this.state.mod.parameters["secret-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-secret-type"},n.a.createElement("a",{className:"dropdown-item"+("public"===this.state.mod.parameters["secret-type"]?" active":""),href:"#",onClick:function(e){return r.changeSecretType(e,"public")}},i.a.t("admin.mod-glwd-secret-type-public")),n.a.createElement("a",{className:"dropdown-item"+("pairwise"===this.state.mod.parameters["secret-type"]?" active":""),href:"#",onClick:function(e){return r.changeSecretType(e,"pairwise")}},i.a.t("admin.mod-glwd-secret-type-pairwise")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-allowed-scope"},i.a.t("admin.mod-glwd-allowed-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-allowed-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},b)),y)))))),n.a.createElement("div",{className:"accordion",id:"accordionSignature"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSignature","aria-expanded":"true","aria-controls":"collapseSignature"},this.state.errorList.signature?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-sign-title")))),n.a.createElement("div",{id:"collapseSignature",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSignature"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("h5",null,i.a.t("admin.mod-glwd-specify-jwks"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-uri"},i.a.t("admin.mod-glwd-jwks-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwks-uri",onChange:function(e){return r.changeParam(e,"jwks-uri")},value:this.state.mod.parameters["jwks-uri"],placeholder:i.a.t("admin.mod-glwd-jwks-uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-private"},i.a.t("admin.mod-glwd-jwks"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-jwks-private",className:"custom-file-input",onChange:function(e){return r.uploadFile(e,"jwks-private")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-private"},i.a.t("admin.choose-file"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("textarea",{className:"form-control",id:"mod-glwd-jwks-private",onChange:function(e){return r.changeParam(e,"jwks-private")},value:this.state.mod.parameters["jwks-private"]})),this.state.errorList["jwks-private"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwks-private"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-public-uri"},i.a.t("admin.mod-glwd-jwks-public-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwks-public-uri",onChange:function(e){return r.changeParam(e,"jwks-public-uri")},value:this.state.mod.parameters["jwks-public-uri"],placeholder:i.a.t("admin.mod-glwd-jwks-public-uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-public"},i.a.t("admin.mod-glwd-jwks-public"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{type:"file",id:"mod-glwd-jwks-public",className:"custom-file-input",onChange:function(e){return r.uploadFile(e,"jwks-public")}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-public"},i.a.t("admin.choose-file"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("textarea",{className:"form-control",id:"mod-glwd-jwks-public",onChange:function(e){return r.changeParam(e,"jwks-public")},value:this.state.mod.parameters["jwks-public"],placeholder:i.a.t("admin.mod-glwd-jwks-public-ph")})),this.state.errorList["jwks-public"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwks-public"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-default-kid"},i.a.t("admin.mod-glwd-default-kid"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-default-kid",onChange:function(e){return r.changeParam(e,"default-kid")},value:this.state.mod.parameters["default-kid"],placeholder:i.a.t("admin.mod-glwd-default-kid-ph")})),this.state.errorList["default-kid"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["default-kid"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-client-sign_kid-parameter"},i.a.t("admin.mod-glwd-client-sign_kid-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-client-sign_kid-parameter",onChange:function(e){return r.changeParam(e,"client-sign_kid-parameter")},value:this.state.mod.parameters["client-sign_kid-parameter"],placeholder:i.a.t("admin.mod-glwd-client-sign_kid-parameter-ph")}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("h5",null,i.a.t("admin.mod-glwd-specify-keys"))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-type"},i.a.t("admin.mod-glwd-jwt-type"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-type","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-jwt-type-"+this.state.mod.parameters["jwt-type"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-type"},n.a.createElement("a",{className:"dropdown-item"+("rsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"rsa")}},i.a.t("admin.mod-glwd-jwt-type-rsa")),n.a.createElement("a",{className:"dropdown-item"+("ecdsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"ecdsa")}},i.a.t("admin.mod-glwd-jwt-type-ecdsa")),n.a.createElement("a",{className:"dropdown-item"+("sha"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"sha")}},i.a.t("admin.mod-glwd-jwt-type-sha")),n.a.createElement("a",{className:"dropdown-item"+("rsa-pss"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"rsa-pss")}},i.a.t("admin.mod-glwd-jwt-type-rsa-pss")),n.a.createElement("a",{className:"dropdown-item"+("eddsa"===this.state.mod.parameters["jwt-type"]?" active":""),href:"#",onClick:function(e){return r.changeJwtType(e,"eddsa")}},i.a.t("admin.mod-glwd-jwt-type-eddsa"))))),this.state.errorList["jwt-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-key-size"},i.a.t("admin.mod-glwd-jwt-key-size"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-jwt-key-size","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",disabled:"eddsa"===this.state.mod.parameters["jwt-type"]},i.a.t("admin.mod-glwd-jwt-key-size-"+this.state.mod.parameters["jwt-key-size"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-jwt-key-size"},n.a.createElement("a",{className:"dropdown-item"+("256"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"256")}},i.a.t("admin.mod-glwd-jwt-key-size-256")),n.a.createElement("a",{className:"dropdown-item"+("384"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"384")}},i.a.t("admin.mod-glwd-jwt-key-size-384")),n.a.createElement("a",{className:"dropdown-item"+("512"===this.state.mod.parameters["jwt-key-size"]?" active":""),href:"#",onClick:function(e){return r.changeJwtKeySize(e,"512")}},i.a.t("admin.mod-glwd-jwt-key-size-512"))))),this.state.errorList["jwt-key-size"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["jwt-key-size"]):""),e,t)))),n.a.createElement("div",{className:"accordion",id:"accordionToken"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseToken","aria-expanded":"true","aria-controls":"collapseToken"},this.state.errorList.token?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-token-title")))),n.a.createElement("div",{id:"collapseToken",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionToken"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-access-token-duration"},i.a.t("admin.mod-glwd-access-token-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["access-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-access-token-duration",onChange:function(e){return r.changeNumberParam(e,"access-token-duration")},value:this.state.mod.parameters["access-token-duration"],placeholder:i.a.t("admin.mod-glwd-access-token-duration-ph")})),this.state.errorList["access-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["access-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-duration"},i.a.t("admin.mod-glwd-refresh-token-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["refresh-token-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-refresh-token-duration",onChange:function(e){return r.changeNumberParam(e,"refresh-token-duration")},value:this.state.mod.parameters["refresh-token-duration"],placeholder:i.a.t("admin.mod-glwd-refresh-token-duration-ph")})),this.state.errorList["refresh-token-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["refresh-token-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-code-duration"},i.a.t("admin.mod-glwd-code-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["code-duration"]?"form-control is-invalid":"form-control",id:"mod-glwd-code-duration",onChange:function(e){return r.changeNumberParam(e,"code-duration")},value:this.state.mod.parameters["code-duration"],placeholder:i.a.t("admin.mod-glwd-code-duration-ph")})),this.state.errorList["code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["code-duration"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-refresh-token-rolling",onChange:function(e){return r.toggleParam(e,"refresh-token-rolling")},checked:this.state.mod.parameters["refresh-token-rolling"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-refresh-token-rolling"},i.a.t("admin.mod-glwd-refresh-token-rolling"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-refresh-token-one-use"},i.a.t("admin.mod-glwd-refresh-token-one-use"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-glwd-refresh-token-one-use","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-refresh-token-one-use-"+this.state.mod.parameters["refresh-token-one-use"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-refresh-token-one-use"},n.a.createElement("a",{className:"dropdown-item"+("never"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("refresh-token-one-use","never")}},i.a.t("admin.mod-glwd-refresh-token-one-use-never")),n.a.createElement("a",{className:"dropdown-item"+("always"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("refresh-token-one-use","always")}},i.a.t("admin.mod-glwd-refresh-token-one-use-always")),n.a.createElement("a",{className:"dropdown-item"+("client-driven"===this.state.mod.parameters["refresh-token-one-use"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("refresh-token-one-use","client-driven")}},i.a.t("admin.mod-glwd-refresh-token-one-use-client-driven")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-client-refresh-token-one-use-parameter"},i.a.t("admin.mod-glwd-client-refresh-token-one-use-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-client-refresh-token-one-use-parameter-parameter",onChange:function(e){return r.changeParam(e,"client-refresh-token-one-use-parameter")},value:this.state.mod.parameters["client-refresh-token-one-use-parameter"],placeholder:i.a.t("admin.mod-glwd-client-refresh-token-one-use-parameter-ph"),disabled:"client-driven"!==this.state.mod.parameters["refresh-token-one-use"]}))))))),n.a.createElement("div",{className:"accordion",id:"accordionAuthType"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAuthType","aria-expanded":"true","aria-controls":"collapseAuthType"},this.state.errorList.token?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-auth-type-title")))),n.a.createElement("div",{id:"collapseAuthType",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAuthType"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-allow-non-oidc",onChange:function(e){return r.toggleParam(e,"allow-non-oidc")},checked:this.state.mod.parameters["allow-non-oidc"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-allow-non-oidc"},i.a.t("admin.mod-glwd-allow-non-oidc"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-code-enabled")},checked:this.state.mod.parameters["auth-type-code-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-enabled"},i.a.t("admin.mod-glwd-auth-type-code-enabled"))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("div",{className:"col-sm-1"}),n.a.createElement("div",{className:"col-sm-11"},n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-code-revoke-replayed",onChange:function(e){return r.toggleParam(e,"auth-type-code-revoke-replayed")},disabled:!this.state.mod.parameters["auth-type-code-enabled"],checked:this.state.mod.parameters["auth-type-code-revoke-replayed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-code-revoke-replayed"},i.a.t("admin.mod-glwd-auth-type-code-revoke-replayed"))))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-token-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-token-enabled")},checked:this.state.mod.parameters["auth-type-token-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-token-enabled"},i.a.t("admin.mod-glwd-auth-type-token-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{disabled:!0,type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-id-token-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-id-token-enabled")},checked:this.state.mod.parameters["auth-type-id-token-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-id-token-enabled"},i.a.t("admin.mod-glwd-auth-type-id-token-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-none-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-none-enabled")},checked:this.state.mod.parameters["auth-type-none-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-none-enabled"},i.a.t("admin.mod-glwd-auth-type-none-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-password-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-password-enabled")},checked:this.state.mod.parameters["auth-type-password-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-password-enabled"},i.a.t("admin.mod-glwd-auth-type-password-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-client-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-client-enabled")},checked:this.state.mod.parameters["auth-type-client-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-client-enabled"},i.a.t("admin.mod-glwd-auth-type-client-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["allow-non-oidc"],className:"form-check-input",id:"mod-glwd-auth-type-device-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-device-enabled")},checked:this.state.mod.parameters["auth-type-device-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-device-enabled"},i.a.t("admin.mod-glwd-auth-type-device-enabled"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-auth-type-refresh-enabled",onChange:function(e){return r.toggleParam(e,"auth-type-refresh-enabled")},checked:this.state.mod.parameters["auth-type-refresh-enabled"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-auth-type-refresh-enabled"},i.a.t("admin.mod-glwd-auth-type-refresh-enabled"))))))),n.a.createElement("div",{className:"accordion",id:"accordionOpenidConfig"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseOpenidConfig","aria-expanded":"true","aria-controls":"collapseOpenidConfig"},this.state.errorList.configuration?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-openid-configuration-title")))),n.a.createElement("div",{id:"collapseOpenidConfig",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionOpenidConfig"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-service-documentation"},i.a.t("admin.mod-glwd-service-documentation"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-service-documentation",onChange:function(e){return r.changeParam(e,"service-documentation")},value:this.state.mod.parameters["service-documentation"],placeholder:i.a.t("admin.mod-glwd-service-documentation-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-op-policy-uri"},i.a.t("admin.mod-glwd-op-policy-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-op-policy-uri",onChange:function(e){return r.changeParam(e,"op-policy-uri")},value:this.state.mod.parameters["op-policy-uri"],placeholder:i.a.t("admin.mod-glwd-op-policy-uri-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-op-tos-uri"},i.a.t("admin.mod-glwd-op-tos-uri"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-op-tos-uri",onChange:function(e){return r.changeParam(e,"op-tos-uri")},value:this.state.mod.parameters["op-tos-uri"],placeholder:i.a.t("admin.mod-glwd-op-tos-uri-ph")}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("h5",null,i.a.t("admin.mod-glwd-jwks-title"))))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-jwks-show",onChange:function(e){return r.toggleParam(e,"jwks-show")},checked:this.state.mod.parameters["jwks-show"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-jwks-show"},i.a.t("admin.mod-glwd-jwks-show"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwks-x5c"},i.a.t("admin.mod-glwd-jwks-x5c"))),n.a.createElement("div",{className:"custom-file"},n.a.createElement("input",{disabled:!this.state.mod.parameters["jwks-show"],type:"file",className:"custom-file-input",id:"mod-glwd-jwks-x5c",onChange:function(e){return r.uploadX5cFile(e)}}),n.a.createElement("label",{className:"custom-file-label",htmlFor:"mod-glwd-jwks-x5c"},i.a.t("admin.choose-file")))),m))))),n.a.createElement("div",{className:"accordion",id:"accordionScope"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"dataFormatCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDataFormat","aria-expanded":"true","aria-controls":"collapseDataFormat"},this.state.errorList["scope-override"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-scope-override")))),n.a.createElement("div",{id:"collapseDataFormat",className:"collapse","aria-labelledby":"dataFormatCard","data-parent":"#accordionScope"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-scope-override-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("div",{className:"btn-group",role:"group"},g),n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScopeOverride,title:i.a.t("admin.mod-glwd-scope-add")},n.a.createElement("i",{className:"fas fa-plus"}))),o)))),n.a.createElement("div",{className:"accordion",id:"accordionAddParam"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAdditionalParam","aria-expanded":"true","aria-controls":"collapseAdditionalParam"},this.state.errorList["additional-parameters"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-additional-parameter")))),n.a.createElement("div",{id:"collapseAdditionalParam",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionAddParam"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-additional-parameter-message")),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addAdditionalParameter,title:i.a.t("admin.mod-glwd-additional-parameter-add")},n.a.createElement("i",{className:"fas fa-plus"}))),l)))),n.a.createElement("div",{className:"accordion",id:"accordionAddClaim"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddClaim","aria-expanded":"true","aria-controls":"collapseAddParam"},this.state.errorList.claims?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-claims")))),n.a.createElement("div",{id:"collapseAddClaim",className:"collapse","aria-labelledby":"addClaimCard","data-parent":"#accordionAddClaim"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-claims-message")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-claim"},i.a.t("admin.mod-glwd-name-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["name-claim"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("name-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("name-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["name-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("name-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-scope"},i.a.t("admin.mod-glwd-name-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},v)),E)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-email-claim"},i.a.t("admin.mod-glwd-email-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-email-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["email-claim"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("email-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("email-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["email-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("email-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-name-scope"},i.a.t("admin.mod-glwd-email-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-name-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-scope-claim"},N)),w)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-claim"},i.a.t("admin.mod-glwd-scope-claim"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["scope-claim"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-name-email-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["scope-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("scope-claim","no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["scope-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("scope-claim","on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["scope-claim"]?" active":""),href:"#",onClick:function(e){return r.changeParamWithValue("scope-claim","mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-scope-scope"},i.a.t("admin.mod-glwd-scope-scope"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-scope-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-scope-select")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-scope-scope-claim"},k)),C)),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addClaim,title:i.a.t("admin.mod-glwd-claim-add")},n.a.createElement("i",{className:"fas fa-plus"}))),c)))),n.a.createElement("div",{className:"accordion",id:"accordionAddressClaim"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseAddressClaim","aria-expanded":"true","aria-controls":"collapseAddressClaim"},i.a.t("admin.mod-glwd-address-claim")))),n.a.createElement("div",{id:"collapseAddressClaim",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionAddressClaim"},n.a.createElement("div",{className:"card-body"},n.a.createElement("p",null,i.a.t("admin.mod-glwd-address-claim-message")),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mod-glwd-address-claim"},i.a.t("admin.mod-glwd-address-claim-use"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-address-claim","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-name-email-claim-"+this.state.mod.parameters["address-claim"].type)),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-address-claim"},n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"no")}},i.a.t("admin.mod-glwd-name-email-claim-no")),n.a.createElement("a",{className:"dropdown-item"+("on-demand"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"on-demand")}},i.a.t("admin.mod-glwd-name-email-claim-on-demand")),n.a.createElement("a",{className:"dropdown-item"+("mandatory"===this.state.mod.parameters["address-claim"]?" active":""),href:"#",onClick:function(e){return r.changeAddressClaim(e,"mandatory")}},i.a.t("admin.mod-glwd-name-email-claim-mandatory")))))),a)))),n.a.createElement("div",{className:"accordion",id:"accordionJwtRequestPubkey"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseJwtRequestPubkey","aria-expanded":"true","aria-controls":"collapseJwtRequestPubkey"},i.a.t("admin.mod-glwd-jwt-request-pubkey")))),n.a.createElement("div",{id:"collapseJwtRequestPubkey",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionJwtRequestPubkey"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-allow",onChange:function(e){return r.toggleParam(e,"request-parameter-allow")},checked:this.state.mod.parameters["request-parameter-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-allow"},i.a.t("admin.mod-glwd-request-parameter-allow"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-parameter-encryption-allow",onChange:function(e){return r.toggleParam(e,"request-parameter-encryption-allow")},checked:this.state.mod.parameters["request-parameter-encryption-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-parameter-encryption-allow"},i.a.t("admin.mod-glwd-request-parameter-encryption-allow"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-request-uri-allow-https-non-secure",onChange:function(e){return r.toggleParam(e,"request-uri-allow-https-non-secure")},checked:this.state.mod.parameters["request-uri-allow-https-non-secure"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-request-uri-allow-https-non-secure"},i.a.t("admin.mod-glwd-request-uri-allow-https-non-secure"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-maximum-exp"},i.a.t("admin.mod-glwd-jwt-request-maximum-exp"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-jwt-request-maximum-exp",onChange:function(e){return r.changeNumberParam(e,"request-maximum-exp",1)},value:this.state.mod.parameters["request-maximum-exp"],placeholder:i.a.t("admin.mod-glwd-jwt-request-maximum-exp-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-pubkey-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-pubkey-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-pubkey-parameter",onChange:function(e){return r.changeParam(e,"client-pubkey-parameter")},value:this.state.mod.parameters["client-pubkey-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-pubkey-parameter-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-jwks-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-jwks-parameter",onChange:function(e){return r.changeParam(e,"client-jwks-parameter")},value:this.state.mod.parameters["client-jwks-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks-parameter-ph")}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter"},i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter",onChange:function(e){return r.changeParam(e,"client-jwks_uri-parameter")},value:this.state.mod.parameters["client-jwks_uri-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-pubkey-client-jwks_uri-parameter-ph")}))))))),n.a.createElement("div",{className:"accordion",id:"accordionEncryptOutToken"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseEncryptOutToken","aria-expanded":"true","aria-controls":"collapseEncryptOutToken"},i.a.t("admin.mod-glwd-jwt-request-encrypt-out-tokens")))),n.a.createElement("div",{id:"collapseEncryptOutToken",className:"collapse","aria-labelledby":"addressClaimCard","data-parent":"#accordionEncryptOutToken"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-encrypt-out-token-allow",onChange:function(e){return r.toggleParam(e,"encrypt-out-token-allow")},checked:this.state.mod.parameters["encrypt-out-token-allow"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-encrypt-out-token-allow"},i.a.t("admin.mod-glwd-encrypt-out-token-allow"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-enc-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-enc-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-enc-parameter",onChange:function(e){return r.changeParam(e,"client-enc-parameter")},value:this.state.mod.parameters["client-enc-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-enc-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-alg-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-alg-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-alg-parameter",onChange:function(e){return r.changeParam(e,"client-alg-parameter")},value:this.state.mod.parameters["client-alg-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-alg-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-alg_kid-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-alg_kid-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-alg_kid-parameter",onChange:function(e){return r.changeParam(e,"client-alg_kid-parameter")},value:this.state.mod.parameters["client-alg_kid-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-alg_kid-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_code-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_code-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_code-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_code-parameter")},value:this.state.mod.parameters["client-encrypt_code-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_code-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_at-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_at-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_at-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_at-parameter")},value:this.state.mod.parameters["client-encrypt_at-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_at-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_userinfo-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_userinfo-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_userinfo-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_userinfo-parameter")},value:this.state.mod.parameters["client-encrypt_userinfo-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_userinfo-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_id_token-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_id_token-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_id_token-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_id_token-parameter")},value:this.state.mod.parameters["client-encrypt_id_token-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_id_token-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_refresh_token-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_refresh_token-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_refresh_token-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_refresh_token-parameter")},value:this.state.mod.parameters["client-encrypt_refresh_token-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_refresh_token-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-jwt-request-client-encrypt_introspection-parameter"},i.a.t("admin.mod-glwd-jwt-request-client-encrypt_introspection-parameter"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-jwt-request-client-encrypt_introspection-parameter",onChange:function(e){return r.changeParam(e,"client-encrypt_introspection-parameter")},value:this.state.mod.parameters["client-encrypt_introspection-parameter"],placeholder:i.a.t("admin.mod-glwd-jwt-request-client-encrypt_introspection-parameter-ph"),disabled:!this.state.mod.parameters["encrypt-out-token-allow"]}))))))),n.a.createElement("div",{className:"accordion",id:"accordionPkce"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapsePkce","aria-expanded":"true","aria-controls":"collapsePkce"},this.state.errorList.pkce?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-pkce-title")))),n.a.createElement("div",{id:"collapsePkce",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionPkce"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-allowed",onChange:function(e){return r.toggleParam(e,"pkce-allowed")},checked:this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-allowed"},i.a.t("admin.mod-glwd-pkce-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-pkce-method-plain-allowed",onChange:function(e){return r.toggleParam(e,"pkce-method-plain-allowed")},checked:this.state.mod.parameters["pkce-method-plain-allowed"],disabled:!this.state.mod.parameters["pkce-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-pkce-method-plain-allowed"},i.a.t("admin.mod-glwd-pkce-method-plain-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionIntrospect"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseIntrospect","aria-expanded":"true","aria-controls":"collapseIntrospect"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-introspection-revocation-title")))),n.a.createElement("div",{id:"collapseIntrospect",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionIntrospect"},n.a.createElement("div",{className:"card-body"},this.state.errorList["introspection-revocation"]?n.a.createElement("span",{className:"error-input"},i.a.t(this.state.errorList["introspection-revocation"])):"",n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allowed",onChange:function(e){return r.toggleParam(e,"introspection-revocation-allowed")},checked:this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allowed"},i.a.t("admin.mod-glwd-introspection-revocation-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-introspection-revocation-allow-target-client",onChange:function(e){return r.toggleParam(e,"introspection-revocation-allow-target-client")},checked:this.state.mod.parameters["introspection-revocation-allow-target-client"],disabled:!this.state.mod.parameters["introspection-revocation-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-introspection-revocation-allow-target-client"},i.a.t("admin.mod-glwd-introspection-revocation-allow-target-client"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-introspection-revocation-scope-required"))),x)))))),n.a.createElement("div",{className:"accordion",id:"accordionRegister"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRegister","aria-expanded":"true","aria-controls":"collapseRegister"},this.state.errorList.registration?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-registration-title")))),n.a.createElement("div",{id:"collapseRegister",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionRegister"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-allowed",onChange:function(e){return r.toggleParam(e,"register-client-allowed")},checked:this.state.mod.parameters["register-client-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-allowed"},i.a.t("admin.mod-glwd-register-client-allowed"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-register-client-auth-scope"))),L)),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-glwd-register-client-credentials-scope"))),O)),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-client-management-allowed",onChange:function(e){return r.toggleParam(e,"register-client-management-allowed")},checked:this.state.mod.parameters["register-client-management-allowed"],disabled:!this.state.mod.parameters["register-client-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-client-management-allowed"},i.a.t("admin.mod-glwd-register-client-management-allowed"))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-register-resource-specify-allowed",onChange:function(e){return r.toggleParam(e,"register-resource-specify-allowed")},checked:this.state.mod.parameters["register-resource-specify-allowed"],disabled:!this.state.mod.parameters["register-client-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-register-resource-specify-allowed"},i.a.t("admin.mod-glwd-register-resource-specify-allowed"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-glwd-register-resource-default"))),n.a.createElement("textarea",{className:"form-control",id:"mod-register-resource-default",onChange:function(e){return r.changeRegisterResourceDefaultUrls(e)},placeholder:i.a.t("admin.mod-glwd-register-resource-default-ph"),disabled:!this.state.mod.parameters["register-client-allowed"]||this.state.mod.parameters["register-resource-specify-allowed"],value:this.state.mod.parameters["register-resource-default"].join("\n")}))))))),n.a.createElement("div",{className:"accordion",id:"accordionSessionManagement"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSessionManagement","aria-expanded":"true","aria-controls":"collapseSessionManagement"},i.a.t("admin.mod-glwd-session-management-title")))),n.a.createElement("div",{id:"collapseSessionManagement",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionSessionManagement"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-session-management-allowed",onChange:function(e){return r.toggleParam(e,"session-management-allowed")},checked:this.state.mod.parameters["session-management-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-session-management-allowed"},i.a.t("admin.mod-glwd-session-management-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionDeviceAuthorization"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDeviceAuthorization","aria-expanded":"true","aria-controls":"collapseDeviceAuthorization"},i.a.t("admin.mod-glwd-device-authorization-title")))),n.a.createElement("div",{id:"collapseDeviceAuthorization",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDeviceAuthorization"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-expiration"},i.a.t("admin.mod-glwd-device-authorization-expiration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-expiration",onChange:function(e){return r.changeNumberParam(e,"device-authorization-expiration")},value:this.state.mod.parameters["device-authorization-expiration"],placeholder:i.a.t("admin.mod-glwd-device-authorization-expiration-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-device-authorization-interval"},i.a.t("admin.mod-glwd-device-authorization-interval"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-device-authorization-interval",onChange:function(e){return r.changeNumberParam(e,"device-authorization-interval")},value:this.state.mod.parameters["device-authorization-interval"],placeholder:i.a.t("admin.mod-glwd-device-authorization-interval-ph"),disabled:!this.state.mod.parameters["auth-type-device-enabled"]}))))))),n.a.createElement("div",{className:"accordion",id:"accordionMtlsClient"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseMtlsClient","aria-expanded":"true","aria-controls":"collapseMtlsClient"},i.a.t("admin.mod-glwd-mtls-client-title")))),n.a.createElement("div",{id:"collapseMtlsClient",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionMtlsClient"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-mod-glwd-mtls-client-source"},i.a.t("admin.mod-glwd-mtls-client-source"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-mod-glwd-mtls-client-source","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-glwd-mtls-client-source-"+(this.state.mod.parameters["client-cert-source"]?this.state.mod.parameters["client-cert-source"]:"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-glwd-mtls-client-source"},n.a.createElement("a",{className:"dropdown-item"+(this.state.mod.parameters["client-cert-source"]?"":" active"),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,!1)}},i.a.t("admin.mod-glwd-mtls-client-source-no")),n.a.createElement("a",{className:"dropdown-item"+("TLS"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"TLS")}},i.a.t("admin.mod-glwd-mtls-client-source-TLS")),n.a.createElement("a",{className:"dropdown-item"+("header"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"header")}},i.a.t("admin.mod-glwd-mtls-client-source-header")),n.a.createElement("a",{className:"dropdown-item"+("both"===this.state.mod.parameters["client-cert-source"]?" active":""),href:"#",onClick:function(e){return r.changeMtlsClientSource(e,"both")}},i.a.t("admin.mod-glwd-mtls-client-source-both")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-mtls-client-cert-header-name"},i.a.t("admin.mod-glwd-mtls-client-cert-header-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-mtls-client-cert-header-name",onChange:function(e){return r.changeParam(e,"client-cert-header-name")},value:this.state.mod.parameters["client-cert-header-name"],placeholder:i.a.t("admin.mod-glwd-mtls-client-cert-header-name-ph"),disabled:!this.state.mod.parameters["client-cert-source"]||"TLS"===this.state.mod.parameters["client-cert-source"]}))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-mtls-client-cert-use-endpoint-aliases",onChange:function(e){return r.toggleParam(e,"client-cert-use-endpoint-aliases")},checked:this.state.mod.parameters["client-cert-use-endpoint-aliases"],disabled:!this.state.mod.parameters["client-cert-source"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-mtls-client-cert-use-endpoint-aliases"},i.a.t("admin.mod-glwd-mtls-client-cert-use-endpoint-aliases"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-mtls-client-cert-self-signed-allowed",onChange:function(e){return r.toggleParam(e,"client-cert-self-signed-allowed")},checked:this.state.mod.parameters["client-cert-self-signed-allowed"],disabled:!this.state.mod.parameters["client-cert-source"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-mtls-client-cert-self-signed-allowed"},i.a.t("admin.mod-glwd-mtls-client-cert-self-signed-allowed"))))))),n.a.createElement("div",{className:"accordion",id:"accordionDPoP"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseDPoP","aria-expanded":"true","aria-controls":"collapseDPoP"},this.state.errorList["oauth-dpop"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-oauth-dpop-title")))),n.a.createElement("div",{id:"collapseDPoP",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionDPoP"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-oauth-dpop-allowed",onChange:function(e){return r.toggleParam(e,"oauth-dpop-allowed")},checked:this.state.mod.parameters["oauth-dpop-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-oauth-dpop-allowed"},i.a.t("admin.mod-glwd-oauth-dpop-allowed"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-oauth-dpop-iat-duration"},i.a.t("admin.mod-glwd-oauth-dpop-iat-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:"form-control",id:"mod-glwd-oauth-dpop-iat-duration",onChange:function(e){return r.changeNumberParam(e,"oauth-dpop-iat-duration")},value:this.state.mod.parameters["oauth-dpop-iat-duration"],placeholder:i.a.t("admin.mod-glwd-oauth-dpop-iat-duration-ph"),disabled:!this.state.mod.parameters["oauth-dpop-allowed"]})),this.state.errorList["oauth-dpop-iat-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["oauth-dpop-iat-duration"]):""))))),n.a.createElement("div",{className:"accordion",id:"accordionResource"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"addParamCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseResource","aria-expanded":"true","aria-controls":"collapseResource"},this.state.errorList.resource?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-glwd-resource-title")))),n.a.createElement("div",{id:"collapseResource",className:"collapse","aria-labelledby":"addParamCard","data-parent":"#accordionResource"},n.a.createElement("div",{className:"card-body"},this.state.errorList["resource-scope-or-client"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["resource-scope-or-client"]):"",n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-resource-allowed",onChange:function(e){return r.toggleParam(e,"resource-allowed")},checked:this.state.mod.parameters["resource-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-resource-allowed"},i.a.t("admin.mod-glwd-resource-allowed"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-glwd-resource-change-allowed",onChange:function(e){return r.toggleParam(e,"resource-change-allowed")},checked:this.state.mod.parameters["resource-change-allowed"],disabled:!this.state.mod.parameters["resource-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-resource-change-allowed"},i.a.t("admin.mod-glwd-resource-change-allowed"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"btn-group",role:"group"},A,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addResourceScope,title:i.a.t("admin.mod-glwd-resource-scope-add"),disabled:!this.state.newResourceScope||!this.state.mod.parameters["resource-allowed"]},n.a.createElement("i",{className:"fas fa-plus"})))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-glwd-resource-allowed"},i.a.t("admin.mod-glwd-resource-scope"))),T,n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",id:"resourceScopeAndClientFalse",value:this.state.mod.parameters["resource-scope-and-client-property"],checked:!this.state.mod.parameters["resource-scope-and-client-property"],onChange:function(e){return r.toggleParam(e,"resource-scope-and-client-property")},disabled:!this.state.mod.parameters["resource-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"resourceScopeAndClientFalse"},i.a.t("admin.mod-glwd-resource-scope-and-client-false"))),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",id:"resourceScopeAndClientTrue",value:this.state.mod.parameters["resource-scope-and-client-property"],checked:this.state.mod.parameters["resource-scope-and-client-property"],onChange:function(e){return r.toggleParam(e,"resource-scope-and-client-property")},disabled:!this.state.mod.parameters["resource-allowed"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"resourceScopeAndClientTrue"},i.a.t("admin.mod-glwd-resource-scope-and-client-true")))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-glwd-resource-client-property"},i.a.t("admin.mod-glwd-resource-client-property"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-glwd-resource-client-property",onChange:function(e){return r.changeParam(e,"resource-client-property")},value:this.state.mod.parameters["resource-client-property"],placeholder:i.a.t("admin.mod-glwd-resource-client-property-ph"),disabled:!this.state.mod.parameters["resource-allowed"]}))))))))}}]),a}();function ia(e){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function la(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ca(e,t){return(ca=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ma(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function da(e){return(da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ca(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=da(e);if(t){var n=da(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ia(t)&&"function"!=typeof t?ma(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),r=t.call(this,e),e.mod||(e.mod={parameters:{}}),void 0!==e.mod.parameters.registration||e.mod.parameters["session-key"]?void 0===e.mod.parameters.registration&&e.mod.parameters["session-key"]&&(e.mod.parameters.registration=!0):e.mod.parameters.registration=!1,e.mod.parameters["verification-code-length"]||(e.mod.parameters["verification-code-length"]=8),e.mod.parameters["verification-code-duration"]||(e.mod.parameters["verification-code-duration"]=600),e.mod.parameters.host||(e.mod.parameters.host=""),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters["verify-email"]&&(e.mod.parameters["verify-email"]=!1),void 0===e.mod.parameters["email-is-username"]&&(e.mod.parameters["email-is-username"]=!1),void 0===e.mod.parameters.scope&&(e.mod.parameters.scope=[e.config.profile_scope]),e.mod.parameters["set-password"]||(e.mod.parameters["set-password"]="always"),void 0===e.mod.parameters.schemes&&(e.mod.parameters.schemes=[]),e.mod.parameters["session-key"]||(e.mod.parameters["session-key"]="G_REGISTER_SESSION"),e.mod.parameters["session-duration"]||(e.mod.parameters["session-duration"]=3600),e.mod.parameters.subject||(e.mod.parameters.subject="Confirm registration"),e.mod.parameters["content-type"]||(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.from||(e.mod.parameters.from=""),e.mod.parameters.templates||(e.mod.parameters.templates={}),e.mod.parameters.templates[i.a.language]||(e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"Confirm registration","body-pattern":e.mod.parameters["body-pattern"]||"The code is {CODE}\n\n"+window.location.href.split("?")[0].split("#")[0]+"/"+e.config.ProfileUrl+"?register=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),void 0===e.mod.parameters["update-email"]&&(e.mod.parameters["update-email"]=!1),e.mod.parameters["update-email-content-type"]||(e.mod.parameters["update-email-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesUpdateEmail||(e.mod.parameters.templatesUpdateEmail={}),e.mod.parameters.templatesUpdateEmail[i.a.language]||(e.mod.parameters.templatesUpdateEmail[i.a.language]={subject:"Update e-mail address","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+e.config.ProfileUrl+"?updateEmail=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["update-email-token-duration"]||(e.mod.parameters["update-email-token-duration"]=600),e.mod.parameters["update-email-from"]||(e.mod.parameters["update-email-from"]=""),void 0===e.mod.parameters["reset-credentials"]&&(e.mod.parameters["reset-credentials"]=!1),e.mod.parameters["reset-credentials-session-key"]||(e.mod.parameters["reset-credentials-session-key"]="G_CREDENTIALS_SESSION"),e.mod.parameters["reset-credentials-session-duration"]||(e.mod.parameters["reset-credentials-session-duration"]=3600),void 0===e.mod.parameters["reset-credentials-email"]&&(e.mod.parameters["reset-credentials-email"]=!1),e.mod.parameters["reset-credentials-content-type"]||(e.mod.parameters["reset-credentials-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesResetCredentials||(e.mod.parameters.templatesResetCredentials={}),e.mod.parameters.templatesResetCredentials[i.a.language]||(e.mod.parameters.templatesResetCredentials[i.a.language]={subject:"Lost credentials","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+e.config.ProfileUrl+"?resetCredentials=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["reset-credentials-token-duration"]||(e.mod.parameters["reset-credentials-token-duration"]=600),e.mod.parameters["reset-credentials-from"]||(e.mod.parameters["reset-credentials-from"]=""),void 0===e.mod.parameters["reset-credentials-code"]&&(e.mod.parameters["reset-credentials-code"]=!1),e.mod.parameters["reset-credentials-code-list-size"]||(e.mod.parameters["reset-credentials-code-list-size"]=4),e.mod.parameters["reset-credentials-code-property"]||(e.mod.parameters["reset-credentials-code-property"]="reset-credentials-code"),r.state={config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check,hasError:!1,errorList:{},currentLang:i.a.language,newLang:"",currentLangUpdateEmail:i.a.language,newLangUpdateEmail:"",currentLangResetCredentials:i.a.language,newLangResetCredentials:""},r.state.check&&r.checkParameters(),r.checkParameters=r.checkParameters.bind(ma(r)),r.addScope=r.addScope.bind(ma(r)),r.deleteScope=r.deleteScope.bind(ma(r)),r.addScheme=r.addScheme.bind(ma(r)),r.changeLang=r.changeLang.bind(ma(r)),r.toggleLangDefault=r.toggleLangDefault.bind(ma(r)),r.changeNewLang=r.changeNewLang.bind(ma(r)),r.addLang=r.addLang.bind(ma(r)),r.removeLang=r.removeLang.bind(ma(r)),r}return function(e,t,a){t&&la(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){var t=this;e.mod||(e.mod={parameters:{}}),void 0!==e.mod.parameters.registration||e.mod.parameters["session-key"]?void 0===e.mod.parameters.registration&&e.mod.parameters["session-key"]&&(e.mod.parameters.registration=!0):e.mod.parameters.registration=!1,e.mod.parameters["verification-code-length"]||(e.mod.parameters["verification-code-length"]=8),e.mod.parameters["verification-code-duration"]||(e.mod.parameters["verification-code-duration"]=600),e.mod.parameters.host||(e.mod.parameters.host=""),e.mod.parameters.port||(e.mod.parameters.port=0),void 0===e.mod.parameters["verify-email"]&&(e.mod.parameters["verify-email"]=!1),void 0===e.mod.parameters["email-is-username"]&&(e.mod.parameters["email-is-username"]=!1),void 0===e.mod.parameters.scope&&(e.mod.parameters.scope=[e.config.profile_scope]),e.mod.parameters["set-password"]||(e.mod.parameters["set-password"]="always"),void 0===e.mod.parameters.schemes&&(e.mod.parameters.schemes=[]),e.mod.parameters["session-key"]||(e.mod.parameters["session-key"]="G_REGISTER_SESSION"),e.mod.parameters["session-duration"]||(e.mod.parameters["session-duration"]=3600),e.mod.parameters.from||(e.mod.parameters.from=""),e.mod.parameters["content-type"]||(e.mod.parameters["content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templates||(e.mod.parameters.templates={}),e.mod.parameters.templates[i.a.language]||(e.mod.parameters.templates[i.a.language]={subject:e.mod.parameters.subject||"Confirm registration","body-pattern":e.mod.parameters["body-pattern"]||"The code is {CODE}\n\n"+window.location.href.split("?")[0].split("#")[0]+"/"+this.state.config.ProfileUrl+"?register=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),void 0===e.mod.parameters["update-email"]&&(e.mod.parameters["update-email"]=!1),e.mod.parameters["update-email-content-type"]||(e.mod.parameters["update-email-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesUpdateEmail||(e.mod.parameters.templatesUpdateEmail={}),e.mod.parameters.templatesUpdateEmail[i.a.language]||(e.mod.parameters.templatesUpdateEmail[i.a.language]={subject:"Update e-mail address","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+this.state.config.ProfileUrl+"?updateEmail=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["update-email-token-duration"]||(e.mod.parameters["update-email-token-duration"]=600),e.mod.parameters["update-email-from"]||(e.mod.parameters["update-email-from"]=""),void 0===e.mod.parameters["reset-credentials"]&&(e.mod.parameters["reset-credentials"]=!1),e.mod.parameters["reset-credentials-session-key"]||(e.mod.parameters["reset-credentials-session-key"]="G_CREDENTIALS_SESSION"),e.mod.parameters["reset-credentials-session-duration"]||(e.mod.parameters["reset-credentials-session-duration"]=3600),void 0===e.mod.parameters["reset-credentials-email"]&&(e.mod.parameters["reset-credentials-email"]=!1),e.mod.parameters["reset-credentials-content-type"]||(e.mod.parameters["reset-credentials-content-type"]="text/plain; charset=utf-8"),e.mod.parameters.templatesResetCredentials||(e.mod.parameters.templatesResetCredentials={}),e.mod.parameters.templatesResetCredentials[i.a.language]||(e.mod.parameters.templatesResetCredentials[i.a.language]={subject:"Lost credentials","body-pattern":"Click on the following link: "+window.location.href.split("?")[0].split("#")[0]+"/"+this.state.config.ProfileUrl+"?resetCredentials=<your_registration_plugin_name>&token={TOKEN}",defaultLang:!0}),e.mod.parameters["reset-credentials-token-duration"]||(e.mod.parameters["reset-credentials-token-duration"]=600),e.mod.parameters["reset-credentials-from"]||(e.mod.parameters["reset-credentials-from"]=""),void 0===e.mod.parameters["reset-credentials-code"]&&(e.mod.parameters["reset-credentials-code"]=!1),e.mod.parameters["reset-credentials-code-list-size"]||(e.mod.parameters["reset-credentials-code-list-size"]=4),e.mod.parameters["reset-credentials-code-property"]||(e.mod.parameters["reset-credentials-code-property"]="reset-credentials-code"),this.setState({config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check,hasError:!1,currentLang:i.a.language,newLang:"",currentLangUpdateEmail:i.a.language,newLangUpdateEmail:"",currentLangResetCredentials:i.a.language,newLangResetCredentials:""},(function(){t.state.check&&t.checkParameters()}))}},{key:"changeParam",value:function(e,t,a){var r=this.state.mod;a?isNaN(e.target.value)||(r.parameters[t]=parseInt(e.target.value)):r.parameters[t]=e.target.value,this.setState({mod:r})}},{key:"toggleParam",value:function(e,t){var a=this.state.mod;a.parameters[t]=!a.parameters[t],this.setState({mod:a})}},{key:"addScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.scope.push(t),this.setState({mod:a})}},{key:"deleteScope",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters.scope.splice(t,1),this.setState({mod:a})}},{key:"setPassword",value:function(e,t){e.preventDefault();var a=this.state.mod;a.parameters["set-password"]=t,this.setState({mod:a})}},{key:"addScheme",value:function(){var e=this,t=!1,a=this.state.mod;this.state.modSchemes.forEach((function(r,n){var o=!1;e.state.mod.parameters.schemes.forEach((function(e){r.name===e.name&&(o=!0)})),o||t||(a.parameters.schemes.push({module:r.module,name:r.name,display_name:r.display_name,register:"yes"}),t=!0)})),this.setState({mod:a})}},{key:"deleteScheme",value:function(e){var t=this.state.mod;t.parameters.schemes.splice(e,1),this.setState({mod:t})}},{key:"setSchemeName",value:function(e,t,a){e.preventDefault();var r=this.state.mod;this.state.modSchemes.forEach((function(e){e.name===a&&(r.parameters.schemes[t].module=e.module,r.parameters.schemes[t].name=e.name,r.parameters.schemes[t].display_name=e.display_name)})),this.setState({mod:r})}},{key:"setSchemeRegister",value:function(e,t,a){e.preventDefault();var r=this.state.mod;r.parameters.schemes[t].register=a,this.setState({mod:r})}},{key:"changeNewLang",value:function(e){var t={};t["newLang"+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")]=e.target.value,this.setState(t)}},{key:"addLang",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.state.mod,n=!1,o=r.parameters["templates"+a];if(Object.keys(o).forEach((function(e){e===t.state.newLang&&(n=!0)})),!n&&this.state["newLang"+a]){o[this.state["newLang"+a]]={subject:"","body-pattern":"",defaultLang:!1};var s={mod:r};s["newLang"+a]="",s["currentLang"+a]=this.state["newLang"+a],this.setState(s)}}},{key:"removeLang",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=this.state.mod,r=!1,n=a.parameters["templates"+t];if(delete n[e],e==this.state["currentLang"+t]){Object.keys(n).forEach((function(e){r||(r=e)}));var o={mod:a};o["currentLang"+t]=r,this.setState(o)}else this.setState({mod:a})}},{key:"changeLang",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.state.mod.parameters["templates"+a];r[t]||(r[t]={subject:"","body-pattern":"",defaultLang:!1});var n={};n["currentLang"+a]=t,this.setState(n)}},{key:"changeTemplate",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=this.state.mod;r.parameters["templates"+a][this.state["currentLang"+a]][t]=e.target.value,this.setState({mod:r})}},{key:"toggleLangDefault",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=this.state.mod,r=a.parameters["templates"+t];Object.keys(r).forEach((function(a){r[a].defaultLang=a===e.state["currentLang"+t]})),this.setState({mod:a})}},{key:"checkParameters",value:function(){var e=this,t={},a=!1,r=!1;this.state.mod.parameters.register&&(this.state.mod.parameters["session-key"]||(a=!0,t["session-key"]=i.a.t("admin.mod-register-session-key-error"),t.registration=!0),this.state.mod.parameters["session-duration"]||(a=!0,t["session-duration"]=i.a.t("admin.mod-register-session-duration-error"),t.registration=!0),this.state.mod.parameters.scope.length||(a=!0,t.scope=i.a.t("admin.mod-register-scope-error"),t.registration=!0),this.state.mod.parameters.schemes.forEach((function(e){e.name||(a=!0,t.schemes=i.a.t("admin.mod-register-scheme-error"),t.registration=!0),"always"===e.register&&(r=!0)})),this.state.mod.parameters["verify-email"]&&(this.state.mod.parameters["verification-code-length"]||(a=!0,t["verification-code-length"]=i.a.t("admin.mod-register-verification-code-length-error"),t.registration=!0),this.state.mod.parameters["verification-code-duration"]||(a=!0,t["verification-code-duration"]=i.a.t("admin.mod-register-verification-code-duration-error"),t.registration=!0),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error"),t.smtp=!0),this.state.mod.parameters.from||(a=!0,t.from=i.a.t("admin.mod-email-from-error"),t.smtp=!0),t.subject="",t["body-pattern"]="",Object.keys(this.state.mod.parameters.templates).forEach((function(r){e.state.mod.parameters.templates[r].subject||(a=!0,t.subject+=i.a.t("admin.mod-email-subject-error",{lang:r}),t.registration=!0),e.state.mod.parameters.templates[r]["body-pattern"]&&e.state.mod.parameters.templates[r]["body-pattern"].search("{CODE}")||(a=!0,t["body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}),t.registration=!0)}))),"always"===this.state.mod.parameters["set-password"]||r||(a=!0,t["has-mandatory"]=i.a.t("admin.mod-register-has-mandatory-error"),t["update-email"]=!0)),this.state.mod.parameters["update-email"]&&(this.state.mod.parameters["update-email-token-duration"]||(a=!0,t["update-email-token-duration"]=i.a.t("admin.mod-register-update-email-token-duration-error"),t["update-email"]=!0),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error"),t.smtp=!0),this.state.mod.parameters["update-email-from"]||(a=!0,t["update-email-from"]=i.a.t("admin.mod-email-from-error"),t["update-email"]=!0),t["update-email-subject"]="",t["update-email-body-pattern"]="",Object.keys(this.state.mod.parameters.templatesUpdateEmail).forEach((function(r){e.state.mod.parameters.templatesUpdateEmail[r].subject||(a=!0,t["update-email-subject"]+=i.a.t("admin.mod-email-subject-error",{lang:r}),t["update-email"]=!0),e.state.mod.parameters.templatesUpdateEmail[r]["body-pattern"]&&e.state.mod.parameters.templatesUpdateEmail[r]["body-pattern"].search("{TOKEN}")||(a=!0,t["update-email-body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}),t["update-email"]=!0)}))),this.state.mod.parameters["reset-credentials"]&&(this.state.mod.parameters["reset-credentials-session-key"]||(a=!0,t["reset-credentials-session-key"]=i.a.t("admin.mod-register-reset-credentials-session-key-error"),t["reset-credentials"]=!0),this.state.mod.parameters["reset-credentials-session-duration"]||(a=!0,t["reset-credentials-session-duration"]=i.a.t("admin.mod-register-reset-credentials-session-duration-error"),t["reset-credentials"]=!0),this.state.mod.parameters["reset-credentials-email"]&&(this.state.mod.parameters["reset-credentials-token-duration"]||(a=!0,t["reset-credentials-token-duration"]=i.a.t("admin.mod-register-reset-credentials-token-duration-error"),t["reset-credentials"]=!0),this.state.mod.parameters.host||(a=!0,t.host=i.a.t("admin.mod-email-host-error"),t.smtp=!0),this.state.mod.parameters["reset-credentials-from"]||(a=!0,t["reset-credentials-from"]=i.a.t("admin.mod-email-from-error"),t["reset-credentials"]=!0),t["reset-credentials-subject"]="",t["reset-credentials-body-pattern"]="",Object.keys(this.state.mod.parameters.templatesResetCredentials).forEach((function(r){e.state.mod.parameters.templatesResetCredentials[r].subject||(a=!0,t["reset-credentials-subject"]+=i.a.t("admin.mod-email-subject-error",{lang:r}),t["reset-credentials"]=!0),e.state.mod.parameters.templatesResetCredentials[r]["body-pattern"]&&e.state.mod.parameters.templatesResetCredentials[r]["body-pattern"].search("{TOKEN}")||(a=!0,t["reset-credentials-body-pattern"]+=i.a.t("admin.mod-email-body-pattern-error",{lang:r}),t["reset-credentials"]=!0)}))),this.state.mod.parameters["reset-credentials-code"]&&(this.state.mod.parameters["reset-credentials-code-property"]||(a=!0,t["reset-credentials-code-property"]=i.a.t("admin.reset-credentials-code-property-error"),t["reset-credentials"]=!0)),this.state.mod.parameters["reset-credentials-email"]||this.state.mod.parameters["reset-credentials-code"]||(a=!0,t["reset-credentials"]=!0,t["reset-credentials-option-check"]=i.a.t("admin.mod-register-option-error"))),this.state.mod.parameters.registration||this.state.mod.parameters["update-email"]||this.state.mod.parameters["reset-credentials"]||(a=!0,t.registration=!0,t["registration-check"]=i.a.t("admin.mod-register-option-error"),t["update-email"]=!0,t["update-email-check"]=i.a.t("admin.mod-register-option-error"),t["reset-credentials"]=!0,t["reset-credentials-check"]=i.a.t("admin.mod-register-option-error")),a?this.setState({errorList:t},(function(){d.a.sendMessage("ModPlugin",{type:"modInvalid"})})):this.setState({errorList:{}},(function(){d.a.sendMessage("ModPlugin",{type:"modValid"})}))}},{key:"render",value:function(){var e=this,t=[],a=[],r=[];t.push(n.a.createElement("div",{key:-2,className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLang,onChange:function(t){return e.changeNewLang(t)}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",onClick:function(t){return e.addLang(t)},className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),t.push(n.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templates).forEach((function(a,r){t.push(n.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},n.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},a),n.a.createElement("button",{type:"button",onClick:function(t){return e.removeLang(a)},className:"btn btn-primary",disabled:e.state.mod.parameters.templates[a].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),n.a.createElement("button",{type:"button",onClick:function(t){return e.changeLang(t,a)},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),t.push(n.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))})),a.push(n.a.createElement("div",{key:-2,className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLangUpdateEmail,onChange:function(t){return e.changeNewLang(t,"UpdateEmail")}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",onClick:function(t){return e.addLang(t,"UpdateEmail")},className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),a.push(n.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templatesUpdateEmail).forEach((function(t,r){a.push(n.a.createElement("div",{key:2*r,className:"btn-group btn-group-justified"},n.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},t),n.a.createElement("button",{type:"button",onClick:function(a){return e.removeLang(t,"UpdateEmail")},className:"btn btn-primary",disabled:e.state.mod.parameters.templatesUpdateEmail[t].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),n.a.createElement("button",{type:"button",onClick:function(a){return e.changeLang(a,t,"UpdateEmail")},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),a.push(n.a.createElement("div",{key:2*r+1,className:"dropdown-divider"}))})),r.push(n.a.createElement("div",{key:-2,className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("input",{type:"text",className:"form-control",id:"mod-email-new-lang",placeholder:i.a.t("admin.mod-email-new-lang-ph"),value:this.state.newLangResetCredentials,onChange:function(t){return e.changeNewLang(t,"ResetCredentials")}}),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("button",{type:"button",onClick:function(t){return e.addLang(t,"ResetCredentials")},className:"btn btn-outline-primary"},i.a.t("admin.mod-email-new-lang-add")))))),r.push(n.a.createElement("div",{key:-1,className:"dropdown-divider"})),Object.keys(this.state.mod.parameters.templatesResetCredentials).forEach((function(t,a){r.push(n.a.createElement("div",{key:2*a,className:"btn-group btn-group-justified"},n.a.createElement("button",{type:"button",className:"btn btn-primary",disabled:!0},t),n.a.createElement("button",{type:"button",onClick:function(a){return e.removeLang(t,"ResetCredentials")},className:"btn btn-primary",disabled:e.state.mod.parameters.templatesResetCredentials[t].defaultLang},i.a.t("admin.mod-email-new-lang-remove")),n.a.createElement("button",{type:"button",onClick:function(a){return e.changeLang(a,t,"ResetCredentials")},className:"btn btn-primary"},i.a.t("admin.mod-email-new-lang-select")))),r.push(n.a.createElement("div",{key:2*a+1,className:"dropdown-divider"}))}));var o=[],s=[],l=[];this.state.config.pattern.user.forEach((function(t){"scope"===t.name&&t.listElements.forEach((function(t,a){o.push(n.a.createElement("a",{key:a,className:"dropdown-item",href:"#",onClick:function(a){return e.addScope(a,t)}},t))}))})),this.state.mod.parameters.scope.forEach((function(t,a){s.push(n.a.createElement("a",{className:"btn-icon-right",href:"#",onClick:function(t){return e.deleteScope(t,a)},key:a},n.a.createElement("span",{className:"badge badge-primary"},t,n.a.createElement("span",{className:"badge badge-light btn-icon-right"},n.a.createElement("i",{className:"fas fa-times"})))))}));var c=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scope","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-scope")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scope"},o),n.a.createElement("div",null,s));return this.state.mod.parameters.schemes.forEach((function(t,a){var r=[];e.state.modSchemes.forEach((function(t,o){var s=!1;e.state.mod.parameters.schemes.forEach((function(e){t.name===e.name&&(s=!0)})),s||r.push(n.a.createElement("a",{key:o,className:"dropdown-item",href:"#",onClick:function(r){return e.setSchemeName(r,a,t.name)}},t.display_name))})),l.push(n.a.createElement("div",{className:"form-group",key:a},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-name-"+a},i.a.t("admin.mod-register-scheme-name")),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-name-"+a,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t.display_name),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-name"},r))),n.a.createElement("label",{className:"input-group-text btn-icon-left",htmlFor:"mod-register-scheme-register-"+a},i.a.t("admin.mod-register-scheme-register")),n.a.createElement("div",{className:"input-group-append"},n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-scheme-register-"+a,"data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-"+("always"===t.register?"yes":"no"))),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-scheme-register"},n.a.createElement("a",{className:"dropdown-item"+("always"===t.register?" active":""),href:"#",onClick:function(t){return e.setSchemeRegister(t,a,"always")}},i.a.t("admin.mod-register-yes")),n.a.createElement("a",{className:"dropdown-item"+("yes"===t.register?" active":""),href:"#",onClick:function(t){return e.setSchemeRegister(t,a,"yes")}},i.a.t("admin.mod-register-no"))))),n.a.createElement("button",{className:"btn btn-secondary btn-icon-right",type:"button",onClick:function(){return e.deleteScheme(a)}},n.a.createElement("i",{className:"fas fa-trash"})))))})),n.a.createElement("div",null,n.a.createElement("div",{className:"accordion",id:"accordionRegister"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"registerCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseRegister","aria-expanded":"true","aria-controls":"collapseRegister"},this.state.errorList.registration?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-title")))),n.a.createElement("div",{id:"collapseRegister",className:"collapse","aria-labelledby":"registerCard","data-parent":"#accordionRegister"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-enabled",onChange:function(t){return e.toggleParam(t,"registration")},checked:this.state.mod.parameters.registration}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-enabled"},i.a.t("admin.mod-register-enabled")),this.state.errorList["registration-check"]?n.a.createElement("div",null,n.a.createElement("span",{className:"error-input"},this.state.errorList["registration-check"])):""),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters.registration?" show":""),id:"registerCollapse"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-session-key"},i.a.t("admin.mod-register-session-key"))),n.a.createElement("input",{type:"text",className:this.state.errorList["session-key"]?"form-control is-invalid":"form-control",id:"mod-register-session-key",onChange:function(t){return e.changeParam(t,"session-key")},value:this.state.mod.parameters["session-key"],placeholder:i.a.t("admin.mod-register-session-key-ph")})),this.state.errorList["session-key"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["session-key"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-session-duration"},i.a.t("admin.mod-register-session-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["session-duration"]?"form-control is-invalid":"form-control",id:"mod-register-session-duration",onChange:function(t){return e.changeParam(t,"session-duration",!0)},value:this.state.mod.parameters["session-duration"],placeholder:i.a.t("admin.mod-register-session-duration-ph")})),this.state.errorList["session-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["session-duration"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-set-password"},i.a.t("admin.mod-register-set-password"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-register-set-password","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.mod-register-"+this.state.mod.parameters["set-password"])),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-register-set-password"},n.a.createElement("a",{className:"dropdown-item"+("always"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"always")}},i.a.t("admin.mod-register-always")),n.a.createElement("a",{className:"dropdown-item"+("yes"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"yes")}},i.a.t("admin.mod-register-yes")),n.a.createElement("a",{className:"dropdown-item"+("no"===this.state.mod.parameters["set-password"]?" active":""),href:"#",onClick:function(t){return e.setPassword(t,"no")}},i.a.t("admin.mod-register-no")))))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-default-scope"},i.a.t("admin.mod-register-scope-add"))),c),this.state.errorList.scope?n.a.createElement("span",{className:"error-input"},this.state.errorList.scope):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:this.addScheme,disabled:this.state.mod.parameters.schemes.length===this.state.modSchemes.length},i.a.t("admin.mod-register-add-scheme"))),l,this.state.errorList.schemes?n.a.createElement("span",{className:"error-input"},this.state.errorList.schemes):"",n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-verify-email",onChange:function(t){return e.toggleParam(t,"verify-email")},checked:this.state.mod.parameters["verify-email"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-verify-email"},i.a.t("admin.mod-register-verify-email"))),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["verify-email"]?" show":""),id:"verifyEmailCollapse"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",disabled:!this.state.mod.parameters["verify-email"],className:"form-check-input",id:"mod-register-email-is-username",onChange:function(t){return e.toggleParam(t,"email-is-username")},checked:this.state.mod.parameters["email-is-username"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-email-is-username"},i.a.t("admin.mod-register-email-is-username"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-verification-code-length"},i.a.t("admin.mod-register-verification-code-length"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["verification-code-length"]?"form-control is-invalid":"form-control",id:"mod-register-verification-code-length",onChange:function(t){return e.changeParam(t,"verification-code-length")},value:this.state.mod.parameters["verification-code-length"],placeholder:i.a.t("admin.mod-register-verification-code-length-ph")})),this.state.errorList["verification-code-length"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["verification-code-length"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-verification-code-duration"},i.a.t("admin.mod-register-verification-code-duration"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList["verification-code-duration"]?"form-control is-invalid":"form-control",id:"mod-register-verification-code-duration",onChange:function(t){return e.changeParam(t,"verification-code-duration",!0)},value:this.state.mod.parameters["verification-code-duration"],placeholder:i.a.t("admin.mod-register-verification-code-duration-ph")})),this.state.errorList["verification-code-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["verification-code-duration"]):""),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-from"},i.a.t("admin.mod-email-from"))),n.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-register-from",onChange:function(t){return e.changeParam(t,"from")},value:this.state.mod.parameters.from,placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList.from?n.a.createElement("span",{className:"error-input"},this.state.errorList.from):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-content-type"},i.a.t("admin.mod-email-content-type"))),n.a.createElement("input",{type:"text",className:this.state.errorList["content-type"]?"form-control is-invalid":"form-control",id:"mod-register-content-type",onChange:function(t){return e.changeParam(t,"content-type")},value:this.state.mod.parameters["content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["content-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["content-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-lang"},i.a.t("admin.mod-email-lang"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLang),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-email-lang"},t)))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-email-lang-default",onChange:function(t){return e.toggleLangDefault()},checked:this.state.mod.parameters.templates[this.state.currentLang].defaultLang}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-email-subject"},i.a.t("admin.mod-email-subject"))),n.a.createElement("input",{type:"text",className:this.state.errorList.subject?"form-control is-invalid":"form-control",id:"mod-email-subject",onChange:function(t){return e.changeTemplate(t,"subject")},value:this.state.mod.parameters.templates[this.state.currentLang].subject,placeholder:i.a.t("admin.mod-email-subject-ph")})),this.state.errorList.subject?n.a.createElement("span",{className:"error-input"},this.state.errorList.subject):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern"))),n.a.createElement("textarea",{className:this.state.errorList["body-pattern"]?"form-control is-invalid":"form-control",id:"mod-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern")},placeholder:i.a.t("admin.mod-email-body-pattern-ph"),value:this.state.mod.parameters.templates[this.state.currentLang]["body-pattern"]})),this.state.errorList["body-pattern"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["body-pattern"]):""))))))),n.a.createElement("div",{className:"accordion",id:"accordionUpdateEmail"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"updateEmailCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseUpdateEmail","aria-expanded":"true","aria-controls":"collapseUpdateEmail"},this.state.errorList["update-email"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-update-email-title")))),n.a.createElement("div",{id:"collapseUpdateEmail",className:"collapse","aria-labelledby":"updateEmailCard","data-parent":"#accordionUpdateEmail"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-update-email",onChange:function(t){return e.toggleParam(t,"update-email")},checked:this.state.mod.parameters["update-email"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-update-email"},i.a.t("admin.mod-register-update-email")),this.state.errorList["update-email-check"]?n.a.createElement("div",null,n.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-check"])):""),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["update-email"]?" show":""),id:"updateEmailCollapse"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-update-email-token-duration"},i.a.t("admin.mod-register-update-email-token-duration"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:"form-control",id:"mod-register-update-email-token-duration",onChange:function(t){return e.changeParam(t,"update-email-token-duration",!0)},value:this.state.mod.parameters["update-email-token-duration"],placeholder:i.a.t("admin.mod-register-update-email-token-duration-ph")}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-from"},i.a.t("admin.mod-email-from"))),n.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-update-email-update-email-from",onChange:function(t){return e.changeParam(t,"update-email-from")},value:this.state.mod.parameters["update-email-from"],placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList["update-email-from"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-from"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-content-type"},i.a.t("admin.mod-email-content-type"))),n.a.createElement("input",{type:"text",className:this.state.errorList["update-email-content-type"]?"form-control is-invalid":"form-control",id:"mod-update-email-content-type",onChange:function(t){return e.changeParam(t,"update-email-content-type")},value:this.state.mod.parameters["update-email-content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["update-email-content-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-content-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-email-lang"},i.a.t("admin.mod-email-lang"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-update-email-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLangUpdateEmail),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-update-email-email-lang"},a)))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-update-email-email-lang-default",onChange:function(t){return e.toggleLangDefault("UpdateEmail")},checked:this.state.mod.parameters.templatesUpdateEmail[this.state.currentLangUpdateEmail].defaultLang}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-update-email-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-update-email-email-subject"},i.a.t("admin.mod-email-subject"))),n.a.createElement("input",{type:"text",className:this.state.errorList["update-email-subject"]?"form-control is-invalid":"form-control",id:"mod-update-email-email-subject",onChange:function(t){return e.changeTemplate(t,"subject","UpdateEmail")},value:this.state.mod.parameters.templatesUpdateEmail[this.state.currentLangUpdateEmail].subject,placeholder:i.a.t("admin.mod-update-email-subject-ph")})),this.state.errorList["update-email-subject"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-subject"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern-token"))),n.a.createElement("textarea",{className:this.state.errorList["update-email-body-pattern"]?"form-control is-invalid":"form-control",id:"mod-update-email-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern","UpdateEmail")},placeholder:i.a.t("admin.mod-email-body-pattern-token-ph"),value:this.state.mod.parameters.templatesUpdateEmail[this.state.currentLangUpdateEmail]["body-pattern"]})),this.state.errorList["update-email-body-pattern"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["update-email-body-pattern"]):"")))))),n.a.createElement("div",{className:"accordion",id:"accordionResetCredentials"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"resetCredentialsCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseResetCredentials","aria-expanded":"true","aria-controls":"collapseResetCredentials"},this.state.errorList["reset-credentials"]?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-reset-credentials-title")))),n.a.createElement("div",{id:"collapseResetCredentials",className:"collapse","aria-labelledby":"resetCredentialsCard","data-parent":"#accordionResetCredentials"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-reset-credentials",onChange:function(t){return e.toggleParam(t,"reset-credentials")},checked:this.state.mod.parameters["reset-credentials"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-reset-credentials"},i.a.t("admin.mod-register-reset-credentials")),this.state.errorList["reset-credentials-option-check"]?n.a.createElement("div",null,n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-check"])):""),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["reset-credentials"]?" show":""),id:"updateResetCredentials"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-session-key"},i.a.t("admin.mod-register-reset-credentials-session-key"))),n.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-session-key"]?"form-control is-invalid":"form-control",id:"mod-register-reset-credentials-session-key",onChange:function(t){return e.changeParam(t,"reset-credentials-session-key")},value:this.state.mod.parameters["reset-credentials-session-key"],placeholder:i.a.t("admin.mod-register-reset-credentials-session-key")})),this.state.errorList["reset-credentials-session-key"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-session-key"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-session-duration"},i.a.t("admin.mod-register-reset-credentials-session-duration"))),n.a.createElement("input",{type:"number",min:"1",step:"1",className:this.state.errorList["reset-credentials-session-duration"]?"form-control is-invalid":"form-control",id:"mod-register-reset-credentials-session-duration",onChange:function(t){return e.changeParam(t,"reset-credentials-session-duration",!0)},value:this.state.mod.parameters["reset-credentials-session-duration"],placeholder:i.a.t("admin.mod-register-reset-credentials-session-duration-ph")})),this.state.errorList["reset-credentials-session-duration"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-session-duration"]):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-reset-credentials-email",onChange:function(t){return e.toggleParam(t,"reset-credentials-email")},checked:this.state.mod.parameters["reset-credentials-email"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-reset-credentials-email"},i.a.t("admin.mod-register-reset-credentials-email")),this.state.errorList["reset-credentials-option-check"]?n.a.createElement("div",null,n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-option-check"])):""),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["reset-credentials-email"]?" show":""),id:"updateResetCredentialsEmail"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-token-duration"},i.a.t("admin.mod-register-reset-credentials-token-duration"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:"form-control",id:"mod-register-reset-credentials-token-duration",onChange:function(t){return e.changeParam(t,"reset-credentials-token-duration",!0)},value:this.state.mod.parameters["reset-credentials-token-duration"],placeholder:i.a.t("admin.mod-register-reset-credentials-token-duration-ph")}))),n.a.createElement("hr",null),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-from"},i.a.t("admin.mod-email-from"))),n.a.createElement("input",{type:"text",className:this.state.errorList.from?"form-control is-invalid":"form-control",id:"mod-reset-credentials-reset-credentials-from",onChange:function(t){return e.changeParam(t,"reset-credentials-from")},value:this.state.mod.parameters["reset-credentials-from"],placeholder:i.a.t("admin.mod-email-from-ph")})),this.state.errorList["reset-credentials-from"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-from"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-content-type"},i.a.t("admin.mod-email-content-type"))),n.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-content-type"]?"form-control is-invalid":"form-control",id:"mod-reset-credentials-content-type",onChange:function(t){return e.changeParam(t,"reset-credentials-content-type")},value:this.state.mod.parameters["reset-credentials-content-type"]||"",placeholder:i.a.t("admin.mod-email-content-type-ph")})),this.state.errorList["reset-credentials-content-type"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-content-type"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-email-lang"},i.a.t("admin.mod-email-lang"))),n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"mod-reset-credentials-email-lang","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},this.state.currentLangResetCredentials),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"mod-reset-credentials-email-lang"},r)))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-reset-credentials-email-lang-default",onChange:function(t){return e.toggleLangDefault("ResetCredentials")},checked:this.state.mod.parameters.templatesResetCredentials[this.state.currentLangResetCredentials].defaultLang}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-reset-credentials-email-lang-default"},i.a.t("admin.mod-email-lang-default"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-email-subject"},i.a.t("admin.mod-email-subject"))),n.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-subject"]?"form-control is-invalid":"form-control",id:"mod-reset-credentials-email-subject",onChange:function(t){return e.changeTemplate(t,"subject","ResetCredentials")},value:this.state.mod.parameters.templatesResetCredentials[this.state.currentLangResetCredentials].subject,placeholder:i.a.t("admin.mod-reset-credentials-subject-ph")})),this.state.errorList["reset-credentials-subject"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-subject"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("span",{className:"input-group-text"},i.a.t("admin.mod-email-body-pattern-token"))),n.a.createElement("textarea",{className:this.state.errorList["reset-credentials-body-pattern"]?"form-control is-invalid":"form-control",id:"mod-reset-credentials-body-pattern",onChange:function(t){return e.changeTemplate(t,"body-pattern","ResetCredentials")},placeholder:i.a.t("admin.mod-email-body-pattern-token-ph"),value:this.state.mod.parameters.templatesResetCredentials[this.state.currentLangResetCredentials]["body-pattern"]})),this.state.errorList["reset-credentials-body-pattern"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-body-pattern"]):"")),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-reset-credentials-code",onChange:function(t){return e.toggleParam(t,"reset-credentials-code")},checked:this.state.mod.parameters["reset-credentials-code"]}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-reset-credentials-code"},i.a.t("admin.mod-register-reset-credentials-code")),this.state.errorList["reset-credentials-option-check"]?n.a.createElement("div",null,n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-option-check"])):""),n.a.createElement("div",{className:"collapse"+(this.state.mod.parameters["reset-credentials-code"]?" show":""),id:"updateResetCredentialsCode"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-reset-credentials-code-property"},i.a.t("admin.mod-register-reset-credentials-code-property"))),n.a.createElement("input",{type:"text",className:this.state.errorList["reset-credentials-code-property"]?"form-control is-invalid":"form-control",id:"mod-register-reset-credentials-code-property",onChange:function(t){return e.changeParam(t,"reset-credentials-code-property")},value:this.state.mod.parameters["reset-credentials-code-property"],placeholder:i.a.t("admin.mod-register-reset-credentials-code-property")})),this.state.errorList["reset-credentials-code-property"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["reset-credentials-code-property"]):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-reset-credentials-code-list-size"},i.a.t("admin.mod-reset-credentials-code-list-size"))),n.a.createElement("input",{type:"number",min:"1",max:"65536",step:"1",className:"form-control",id:"mod-reset-credentials-code-list-size",onChange:function(t){return e.changeParam(t,"reset-credentials-code-list-size",!0)},value:this.state.mod.parameters["reset-credentials-code-list-size"],placeholder:i.a.t("admin.mod-reset-credentials-code-list-size-ph")}))))))))),n.a.createElement("div",{className:"accordion",id:"accordionSMTPParams"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"card-header",id:"SMTPParamsCard"},n.a.createElement("h2",{className:"mb-0"},n.a.createElement("button",{className:"btn btn-link",type:"button","data-toggle":"collapse","data-target":"#collapseSMTPParams","aria-expanded":"true","aria-controls":"collapseSMTPParams"},this.state.errorList.smtp?n.a.createElement("span",{className:"error-input btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})):"",i.a.t("admin.mod-register-smtp-params-title")))),n.a.createElement("div",{id:"collapseSMTPParams",className:"collapse","aria-labelledby":"SMTPParamsCard","data-parent":"#accordionSMTPParams"},n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-host"},i.a.t("admin.mod-email-host"))),n.a.createElement("input",{type:"text",className:this.state.errorList.host?"form-control is-invalid":"form-control",id:"mod-register-host",onChange:function(t){return e.changeParam(t,"host")},value:this.state.mod.parameters.host,placeholder:i.a.t("admin.mod-email-host-ph")})),this.state.errorList.host?n.a.createElement("span",{className:"error-input"},this.state.errorList.host):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-port"},i.a.t("admin.mod-email-port"))),n.a.createElement("input",{type:"number",min:"0",max:"65536",step:"1",className:this.state.errorList.port?"form-control is-invalid":"form-control",id:"mod-register-port",onChange:function(t){return e.changeParam(t,"port",!0)},value:this.state.mod.parameters.port,placeholder:i.a.t("admin.mod-email-port-ph")})),this.state.errorList.port?n.a.createElement("span",{className:"error-input"},this.state.errorList.port):""),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-register-use-tls",onChange:function(t){return e.toggleParam(t,"use-tls")},checked:this.state.mod.parameters["use-tls"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-use-tls"},i.a.t("admin.mod-email-use-tls"))),n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",disabled:!this.state.mod.parameters["use-tls"],id:"mod-register-check-certificate",onChange:function(t){return e.toggleParam(t,"check-certificate")},checked:this.state.mod.parameters["check-certificate"]||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-register-check-certificate"},i.a.t("admin.mod-email-check-certificate"))),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-user"},i.a.t("admin.mod-email-user"))),n.a.createElement("input",{type:"text",className:this.state.errorList.user?"form-control is-invalid":"form-control",id:"mod-register-user",onChange:function(t){return e.changeParam(t,"user")},value:this.state.mod.parameters.user,placeholder:i.a.t("admin.mod-email-user-ph")})),this.state.errorList.user?n.a.createElement("span",{className:"error-input"},this.state.errorList.user):""),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-register-password"},i.a.t("admin.mod-email-password"))),n.a.createElement("input",{type:"password",className:this.state.errorList.password?"form-control is-invalid":"form-control",id:"mod-register-password",onChange:function(t){return e.changeParam(t,"password")},value:this.state.mod.parameters.password,placeholder:i.a.t("admin.mod-email-password-ph")})),this.state.errorList.password?n.a.createElement("span",{className:"error-input"},this.state.errorList.password):""))))),this.state.errorList["has-mandatory"]?n.a.createElement("span",{className:"error-input"},this.state.errorList["has-mandatory"]):"")}}]),a}();function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ha(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fa(e,t){return(fa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ga(e){return(ga=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ba=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fa(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=ga(e);if(t){var n=ga(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check},r}return function(e,t,a){t&&ha(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,modSchemes:e.modSchemes,mod:e.mod,role:e.role,check:e.check})}},{key:"render",value:function(){return"mock"===this.state.mod.module?n.a.createElement(Bt,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oauth2-glewlwyd"===this.state.mod.module?n.a.createElement(ea,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"oidc"===this.state.mod.module?n.a.createElement(sa,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config}):"register"===this.state.mod.module?n.a.createElement(pa,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config,modSchemes:this.state.modSchemes}):""}}]),a}();function ya(e){return(ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function va(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t){return(Ea=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Na(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ea(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=wa(e);if(t){var n=wa(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==ya(t)&&"function"!=typeof t?Na(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,modSchemes:e.modSchemes,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1},d.a.subscribe("ModPlugin",(function(e){"modValid"===e.type?r.setState({check:!1,hasError:!1},(function(){r.state.add&&!r.state.mod.name?r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-mandatory"),typeInvalidMessage:!1,hasError:!0}):r.state.mod.module?r.state.parametersValid&&(r.state.add?m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(r.state.mod.name),"GET").then((function(){r.setState({nameInvalid:!0,nameInvalidMessage:i.a.t("admin.error-mod-name-exist"),typeInvalidMessage:!1,hasError:!0})})).fail((function(e){404===e.status?r.state.callback(!0,r.state.mod):d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})})):r.state.callback(!0,r.state.mod)):r.setState({nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:i.a.t("admin.error-mod-type-mandatory"),hasError:!0})})):"modInvalid"===e.type&&r.setState({check:!1,hasError:!0})})),r.closeModal=r.closeModal.bind(Na(r)),r.changeName=r.changeName.bind(Na(r)),r.changeDisplayName=r.changeDisplayName.bind(Na(r)),r.changeType=r.changeType.bind(Na(r)),r.changeParameters=r.changeParameters.bind(Na(r)),r}return function(e,t,a){t&&va(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,modSchemes:e.modSchemes,title:e.title,mod:e.mod,role:e.role,modTypes:e.types,add:e.add,callback:e.callback,parametersValid:!0,nameInvalid:!1,nameInvalidMessage:!1,typeInvalidMessage:!1,hasError:!1})}},{key:"closeModal",value:function(e,t){this.state.callback&&(t?this.setState({check:!0}):this.state.callback(t))}},{key:"changeName",value:function(e){var t=this.state.mod;t.name=e.target.value,this.setState({mod:t})}},{key:"changeDisplayName",value:function(e){var t=this.state.mod;t.display_name=e.target.value,this.setState({mod:t})}},{key:"changeType",value:function(e,t){var a=this.state.mod;a.module=t,this.setState({mod:a})}},{key:"changeParameters",value:function(e,t){var a=this.state.mod;a.parameters=e,this.setState({mod:a,parametersValid:t})}},{key:"render",value:function(){var e,t,a=this,r=[];if(this.state.add){var o=i.a.t("admin.mod-type-select");this.state.modTypes.forEach((function(e,t){a.state.mod.module===e.name?(o=e.display_name,r.push(n.a.createElement("a",{className:"dropdown-item active",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))):r.push(n.a.createElement("a",{className:"dropdown-item",key:t,href:"#",onClick:function(t){return a.changeType(t,e.name)}},e.display_name))})),e=n.a.createElement("div",{className:"dropdown"},n.a.createElement("button",{className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownModType","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownModType"},r))}else this.state.modTypes.forEach((function(t,r){a.state.mod.module===t.name&&(e=n.a.createElement("span",{className:"badge badge-primary btn-icon-right"},t.display_name))}));return"scheme"!==this.state.role&&n.a.createElement("div",{className:"form-group form-check"},n.a.createElement("input",{type:"checkbox",className:"form-check-input",id:"mod-readonly",onChange:function(e){return a.toggleReadonly(e)},checked:this.state.mod.readonly||!1}),n.a.createElement("label",{className:"form-check-label",htmlFor:"mod-readonly"},i.a.t("admin.mod-readonly"))),this.state.hasError&&(t=n.a.createElement("span",{className:"error-input text-right"},i.a.t("admin.error-input"))),n.a.createElement("div",{className:"modal fade",id:"editPluginModal",tabIndex:"-1",role:"dialog","aria-labelledby":"confirmModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"confirmModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":i.a.t("modal.close"),onClick:function(e){return a.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{className:"needs-validation",noValidate:!0},n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-type"},i.a.t("admin.mod-type"))),e),n.a.createElement("span",{className:"error-input"+(this.state.typeInvalidMessage?"":" hidden")},this.state.typeInvalidMessage)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-name"},i.a.t("admin.mod-name"))),n.a.createElement("input",{type:"text",className:"form-control"+(this.state.nameInvalid?" is-invalid":""),id:"mod-name",placeholder:i.a.t("admin.mod-name-ph"),maxLength:"128",value:this.state.mod.name||"",onChange:function(e){return a.changeName(e)},disabled:!this.state.add})),n.a.createElement("span",{className:"error-input"+(this.state.nameInvalid?"":" hidden")},this.state.nameInvalidMessage)),n.a.createElement("div",{className:"form-group"},n.a.createElement("div",{className:"input-group mb-3"},n.a.createElement("div",{className:"input-group-prepend"},n.a.createElement("label",{className:"input-group-text",htmlFor:"mod-display-name"},i.a.t("admin.mod-display-name"))),n.a.createElement("input",{type:"text",className:"form-control",id:"mod-display-name",placeholder:i.a.t("admin.mod-display-name-ph"),maxLength:"256",value:this.state.mod.display_name||"",onChange:function(e){return a.changeDisplayName(e)}}))),n.a.createElement(ba,{mod:this.state.mod,role:this.state.role,check:this.state.check,config:this.state.config,modSchemes:this.state.modSchemes}))),n.a.createElement("div",{className:"modal-footer"},t,n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return a.closeModal(e,!1)}},i.a.t("modal.close")),n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(e){return a.closeModal(e,!0)}},i.a.t("modal.ok"))))))}}]),a}();function Ca(e){return(Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sa(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Pa(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xa(e,t){return(xa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ma(e){return(Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _a=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xa(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Ma(e);if(t){var n=Ma(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==Ca(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={config:e.config,apiKeys:e.apiKeys,loggedIn:e.loggedIn,disableObject:!1},r}return function(e,t,a){t&&Pa(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({config:e.config,apiKeys:e.apiKeys,loggedIn:e.loggedIn})}},{key:"addApiKey",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"add",role:"apiKey"})}},{key:"disableApiKey",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"delete",role:"apiKey",apiKey:t})}},{key:"handleChangeSearchPattern",value:function(e){var t=this.state.users;t.searchPattern=e.target.value,this.setState({users:t})}},{key:"searchApiKey",value:function(e){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"apiKey",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:this.state.users.limit})}},{key:"navigate",value:function(e,t){e.preventDefault(),t>0?d.a.sendMessage("App",{type:"search",role:"apiKey",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset+this.state.users.limit,limit:this.state.users.limit}):this.state.users.offset&&d.a.sendMessage("App",{type:"search",role:"apiKey",searchPattern:this.state.users.searchPattern,offset:this.state.users.offset-this.state.users.limit,limit:this.state.users.limit})}},{key:"navigatePerPage",value:function(e,t){e.preventDefault(),d.a.sendMessage("App",{type:"search",role:"apiKey",pattern:this.state.users.searchPattern,offset:this.state.users.offset,limit:t})}},{key:"render",value:function(){var e=this,t=[];return this.state.apiKeys.list.forEach((function(a,r){var o=new Date(1e3*a.issued_at);t.push(n.a.createElement("tr",{key:r,className:a.enabled?"":"table-danger"},n.a.createElement("td",null,a.counter),n.a.createElement("td",null,a.username),n.a.createElement("td",null,o.toLocaleString()),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.issued_for),n.a.createElement("td",{className:"d-none d-lg-table-cell"},a.user_agent),n.a.createElement("td",null,n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.disableApiKey(t,a)},alt:i.a.t("admin.delete"),disabled:!a.enabled},n.a.createElement("i",{className:"fas fa-trash btn-icon"})))))})),n.a.createElement("div",{className:"table-responsive"},n.a.createElement("p",null,i.a.t("admin.api-key-description")),n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"2"},n.a.createElement("h4",null,i.a.t("admin.api-key-title"))),n.a.createElement("th",{colSpan:"4"},n.a.createElement("form",{className:"form-inline d-none d-lg-block",onSubmit:function(t){return e.searchApiKey(t)}},n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",Sa({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,-1)},title:i.a.t("admin.nav-previous")},"disabled",!this.state.apiKeys.offset),n.a.createElement("i",{className:"fas fa-backward"})),n.a.createElement("div",{className:"btn-group",role:"group"},n.a.createElement("button",{disabled:!this.state.loggedIn,id:"btnGroupNavPerPage",type:"button",className:"btn btn-secondary dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},i.a.t("admin.nav-per-page")),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"btnGroupNavperPage"},n.a.createElement("a",{className:"dropdown-item"+(10===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,10)}},"10"),n.a.createElement("a",{className:"dropdown-item"+(20===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,20)}},"20"),n.a.createElement("a",{className:"dropdown-item"+(50===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,50)}},"50"),n.a.createElement("a",{className:"dropdown-item"+(100===this.state.apiKeys.limit?" active":""),href:"#",onClick:function(t){return e.navigatePerPage(t,100)}},"100"))),n.a.createElement("button",Sa({disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.navigate(t,1)},title:i.a.t("admin.nav-next")},"disabled",this.state.apiKeys.limit>this.state.apiKeys.list.length),n.a.createElement("i",{className:"fas fa-forward"})),n.a.createElement("button",{disabled:!this.state.loggedIn,type:"button",className:"btn btn-secondary",onClick:function(t){return e.addApiKey(t)},title:i.a.t("admin.api-key-add")},n.a.createElement("i",{className:"fas fa-plus"}))),n.a.createElement("div",{className:"btn-group btn-icon-right",role:"group"},n.a.createElement("input",{disabled:!this.state.loggedIn,className:"form-control",type:"search",placeholder:i.a.t("admin.nav-search-placeholder"),"aria-label":"Search",onChange:this.handleChangeSearchPattern,value:this.state.apiKeys.searchPattern||""}),n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary my-sm-0",type:"submit",title:i.a.t("admin.nav-search-title"),onClick:function(t){return e.searchUsers(t)}},i.a.t("admin.nav-search")))),n.a.createElement("div",{className:"dropdown d-block d-lg-none"},n.a.createElement("button",{disabled:!this.state.loggedIn,className:"btn btn-secondary dropdown-toggle",type:"button",id:"dropdownMenuNav","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},n.a.createElement("i",{className:"fas fa-chevron-circle-down"})),n.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuNav"},n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,-1)},alt:i.a.t("admin.nav-previous")},n.a.createElement("i",{className:"fas fa-backward btn-icon"}),i.a.t("admin.nav-previous")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.navigate(t,1)},alt:i.a.t("admin.nav-next")},n.a.createElement("i",{className:"fas fa-forward btn-icon"}),i.a.t("admin.nav-next")),n.a.createElement("a",{className:"dropdown-item",href:"#",onClick:function(t){return e.addUser(t)},alt:i.a.t("admin.api-key-add")},n.a.createElement("i",{className:"fas fa-plus btn-icon"}),i.a.t("admin.api-key-add")))))),n.a.createElement("tr",null,n.a.createElement("th",null,i.a.t("admin.api-key-counter")),n.a.createElement("th",null,i.a.t("admin.api-key-username")),n.a.createElement("th",null,i.a.t("admin.api-key-issued-at")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.api-key-issued-for")),n.a.createElement("th",{className:"d-none d-lg-table-cell"},i.a.t("admin.api-key-user-agent")),n.a.createElement("th",null))),n.a.createElement("tbody",null,t,n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"6"},i.a.t("admin.nav-footer",{offset:this.state.apiKeys.offset,limit:this.state.apiKeys.limit}))))),n.a.createElement("p",null,i.a.t("admin.api-key-example-description")),n.a.createElement("code",null,i.a.t("admin.api-key-example")))}}]),a}();function La(e){return(La="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ja(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ra(e,t){return(Ra=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fa(e){return(Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ra(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=Fa(e);if(t){var n=Fa(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==La(t)&&"function"!=typeof t?Oa(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={lang:i.a.language,config:e.config,passwordMinLength:e.config.PasswordMinLength||8,curNav:"users",loggedIn:!1,users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curUser:!1,clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curClient:!1,scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curScope:!1,apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},curApiKey:!1,confirmModal:{title:"",message:""},messageModal:{title:"",label:"",message:[]},editModal:{title:"",pattern:[],source:[],data:{},callback:!1,validateCallback:!1,add:!1},scopeModal:{title:"",data:{name:"",display_name:"",description:"",password_required:!0,scheme:{}},callback:!1,add:!1},curMod:!1,modUsers:[],ModModal:{title:"",role:!1,data:{},types:[],add:!1,callback:!1},modClients:[],modSchemes:[],plugins:[],PluginModal:{title:"",data:{},types:[],add:!1,callback:!1},modTypes:{user:[],client:[],scheme:[],plugin:[]},profileList:!1,invalidCredentialMessage:!1,savedRecord:!1,savedIndex:-1},r.fetchApi=r.fetchApi.bind(Oa(r)),r.reloadMods=r.reloadMods.bind(Oa(r)),r.fetchUsers=r.fetchUsers.bind(Oa(r)),r.confirmDeleteUser=r.confirmDeleteUser.bind(Oa(r)),r.confirmEditUser=r.confirmEditUser.bind(Oa(r)),r.confirmAddUser=r.confirmAddUser.bind(Oa(r)),r.validateUser=r.validateUser.bind(Oa(r)),r.fetchClients=r.fetchClients.bind(Oa(r)),r.confirmDeleteClient=r.confirmDeleteClient.bind(Oa(r)),r.confirmEditClient=r.confirmEditClient.bind(Oa(r)),r.confirmAddClient=r.confirmAddClient.bind(Oa(r)),r.validateClient=r.validateClient.bind(Oa(r)),r.fetchScopes=r.fetchScopes.bind(Oa(r)),r.fetchAllScopes=r.fetchAllScopes.bind(Oa(r)),r.confirmDeleteScope=r.confirmDeleteScope.bind(Oa(r)),r.confirmEditScope=r.confirmEditScope.bind(Oa(r)),r.confirmAddScope=r.confirmAddScope.bind(Oa(r)),r.fetchModTypes=r.fetchModTypes.bind(Oa(r)),r.fetchUserMods=r.fetchUserMods.bind(Oa(r)),r.fetchClientMods=r.fetchClientMods.bind(Oa(r)),r.fetchSchemeMods=r.fetchSchemeMods.bind(Oa(r)),r.fetchPlugins=r.fetchPlugins.bind(Oa(r)),r.confirmAddUserMod=r.confirmAddUserMod.bind(Oa(r)),r.confirmEditUserMod=r.confirmEditUserMod.bind(Oa(r)),r.confirmDeleteUserMod=r.confirmDeleteUserMod.bind(Oa(r)),r.confirmAddClientMod=r.confirmAddClientMod.bind(Oa(r)),r.confirmEditClientMod=r.confirmEditClientMod.bind(Oa(r)),r.confirmDeleteClientMod=r.confirmDeleteClientMod.bind(Oa(r)),r.confirmAddSchemeMod=r.confirmAddSchemeMod.bind(Oa(r)),r.confirmEditSchemeMod=r.confirmEditSchemeMod.bind(Oa(r)),r.confirmDeleteSchemeMod=r.confirmDeleteSchemeMod.bind(Oa(r)),r.confirmAddPluginMod=r.confirmAddPluginMod.bind(Oa(r)),r.confirmEditPluginMod=r.confirmEditPluginMod.bind(Oa(r)),r.confirmDeletePluginMod=r.confirmDeletePluginMod.bind(Oa(r)),r.addApiKey=r.addApiKey.bind(Oa(r)),r.confirmDisableApiKey=r.confirmDisableApiKey.bind(Oa(r)),d.a.subscribe("App",(function(e){if("nav"===e.type)r.setState({curNav:e.message});else if("profile"===e.type)r.fetchApi();else if("loggedIn"===e.type)r.setState({loggedIn:e.loggedIn},(function(){r.fetchApi()}));else if("lang"===e.type)r.setState({lang:i.a.language});else if("reloadMods"===e.type)r.reloadMods();else if("delete"===e.type)if("user"===e.role){var t={title:i.a.t("admin.confirm-delete-user-title",{user:e.user.name}),message:i.a.t("admin.confirm-delete-user",{username:e.user.username,name:e.user.name}),callback:r.confirmDeleteUser};r.setState({confirmModal:t,curUser:e.user},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))}else"client"===e.role?(t={title:i.a.t("admin.confirm-delete-client-title",{client:e.client.name}),message:i.a.t("admin.confirm-delete-client",{clientId:e.client.client_id,name:e.client.name}),callback:r.confirmDeleteClient},r.setState({confirmModal:t,curClient:e.client},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(t={title:i.a.t("admin.confirm-delete-scope-title",{scope:e.scope.name}),message:i.a.t("admin.confirm-delete-scope",{scope:e.scope.name,name:e.scope.display_name}),callback:r.confirmDeleteScope},r.setState({confirmModal:t,curScope:e.scope},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteUserMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteClientMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeleteSchemeMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role?(t={title:i.a.t("admin.confirm-delete-mod-title",{mod:e.mod.display_name}),message:i.a.t("admin.confirm-delete-mod",{mod:e.mod.display_name}),callback:r.confirmDeletePluginMod},r.setState({confirmModal:t,curMod:e.mod},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})}))):"apiKey"===e.role&&(t={title:i.a.t("admin.confirm-delete-api-key-title"),message:i.a.t("admin.confirm-delete-api-key"),callback:r.confirmDisableApiKey},r.setState({confirmModal:t,curApiKey:e.apiKey},(function(){$("#confirmModal").modal({keyboard:!1,show:!0})})));else if("edit"===e.type){if("user"===e.role){var a={title:i.a.t("admin.edit-user-title",{user:e.user.name}),pattern:r.state.config.pattern.user,source:r.state.modUsers,data:e.user,callback:r.confirmEditUser,validateCallback:r.validateUser};r.setState({editModal:a,savedRecord:JSON.stringify(e.user),savedIndex:e.index},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))}else if("client"===e.role)a={title:i.a.t("admin.edit-client-title",{client:e.client.name}),pattern:r.state.config.pattern.client,data:e.client,source:r.state.modClients,callback:r.confirmEditClient,validateCallback:r.validateClient},r.setState({editModal:a,savedRecord:JSON.stringify(e.client),savedIndex:e.index},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}));else if("scope"===e.role){var n={title:i.a.t("admin.edit-scope-title",{scope:e.scope.scope}),data:e.scope,callback:r.confirmEditScope};r.setState({scopeModal:n,savedRecord:JSON.stringify(e.scope),savedIndex:e.index},(function(){$("#editScopeModal").modal({keyboard:!1,show:!0})}))}else if("userMod"===e.role){var o={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,role:"user",types:r.state.modTypes.user,callback:r.confirmEditUserMod};r.setState({ModModal:o,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))}else if("clientMod"===e.role)o={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:r.state.modTypes.client,role:"client",callback:r.confirmEditClientMod},r.setState({ModModal:o,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}));else if("schemeMod"===e.role)o={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:r.state.modTypes.scheme,role:"scheme",callback:r.confirmEditSchemeMod},r.setState({ModModal:o,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}));else if("plugin"===e.role){var s={title:i.a.t("admin.edit-mod-title",{mod:e.mod.display_name}),data:e.mod,types:r.state.modTypes.plugin,callback:r.confirmEditPluginMod};r.setState({PluginModal:s,savedRecord:JSON.stringify(e.mod),savedIndex:e.index},(function(){$("#editPluginModal").modal({keyboard:!1,show:!0})}))}}else if("add"===e.type)"user"===e.role?(a={title:i.a.t("admin.add-user-title"),pattern:r.state.config.pattern.user,source:r.state.modUsers,data:{username:"",name:"",password:"",email:"",enabled:!0,scope:[]},callback:r.confirmAddUser,validateCallback:r.validateUser,add:!0},r.setState({editModal:a},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"client"===e.role?(a={title:i.a.t("admin.add-client-title"),pattern:r.state.config.pattern.client,source:r.state.modClients,data:{client_id:"",confidential:!1,client_secret:"",enabled:!0,name:"",password:"",redirect_uri:[],scope:[]},callback:r.confirmAddClient,validateCallback:r.validateClient,add:!0},r.setState({editModal:a},(function(){$("#editRecordModal").modal({keyboard:!1,show:!0})}))):"scope"===e.role?(n={title:i.a.t("admin.add-scope-title"),data:{name:"",display_name:"",description:"",password_required:!0,password_max_age:0,scheme:{},schemeRequired:{}},callback:r.confirmAddScope,add:!0},r.setState({scopeModal:n},(function(){$("#editScopeModal").modal({keyboard:!1,show:!0})}))):"userMod"===e.role?(o={title:i.a.t("admin.add-mod-title"),data:{order_rank:r.state.modUsers.length,parameters:{}},types:r.state.modTypes.user,role:"user",callback:r.confirmAddUserMod,add:!0},r.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"clientMod"===e.role?(o={title:i.a.t("admin.add-mod-title"),data:{order_rank:r.state.modClients.length,parameters:{}},types:r.state.modTypes.client,role:"client",callback:r.confirmAddClientMod,add:!0},r.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"schemeMod"===e.role?(o={title:i.a.t("admin.add-mod-title"),data:{parameters:{}},types:r.state.modTypes.scheme,role:"scheme",callback:r.confirmAddSchemeMod,add:!0},r.setState({ModModal:o},(function(){$("#editModModal").modal({keyboard:!1,show:!0})}))):"plugin"===e.role?(s={title:i.a.t("admin.add-mod-title"),data:{parameters:{}},types:r.state.modTypes.plugin,callback:r.confirmAddPluginMod,add:!0},r.setState({PluginModal:s},(function(){$("#editPluginModal").modal({keyboard:!1,show:!0})}))):"apiKey"===e.role&&r.addApiKey();else if("swap"===e.type)"userMod"===e.role?m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){r.fetchUserMods(),r.fetchUsers()})):"clientMod"===e.role&&m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.mod.name),"PUT",e.mod).then((function(){return m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(e.previousMod.name),"PUT",e.previousMod).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){r.fetchClientMods(),r.fetchClients()}));else if("search"===e.type){if("user"===e.role){var l=r.state.users;l.searchPattern=e.searchPattern,l.offset=e.offset,l.limit=e.limit,r.setState({users:l},(function(){r.fetchUsers()}))}else if("client"===e.role){var c=r.state.clients;c.searchPattern=e.searchPattern,c.offset=e.offset,c.limit=e.limit,r.setState({clients:c},(function(){r.fetchClients()}))}else if("scope"===e.role){var p=r.state.scopes;p.searchPattern=e.searchPattern,p.offset=e.offset,p.limit=e.limit,r.setState({scopes:p},(function(){r.fetchScopes()}))}}else"refresh"===e.type&&("schemeMod"===e.role?r.fetchSchemeMods():"userMod"===e.role?r.fetchUserMods():"clientMod"===e.role?r.fetchClientMods():"pluginMod"===e.role&&r.fetchPlugins())})),r.state.config&&r.fetchApi(),r}return function(e,t,a){t&&ja(e.prototype,t)}(a,[{key:"reloadMods",value:function(){var e=this;m.a.glewlwydRequest("/mod/reload","PUT").then((function(){e.fetchModTypes(),e.fetchUserMods(),e.fetchClientMods(),e.fetchSchemeMods(),e.fetchPlugins(),e.fetchApiKeys()})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")})}))}},{key:"fetchApi",value:function(){var e=this;m.a.glewlwydRequest("/profile_list").then((function(t){e.setState({profileList:t},(function(){e.fetchUsers().then((function(){e.setState({invalidCredentialMessage:!1},(function(){e.fetchClients().always((function(){e.fetchScopes()})),e.fetchModTypes(),e.fetchUserMods(),e.fetchClientMods(),e.fetchSchemeMods(),e.fetchPlugins(),e.fetchAllScopes(),e.fetchApiKeys()}))})).fail((function(t){e.setState({modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],invalidCredentialMessage:!0})}))}))})).fail((function(t){e.setState({invalidCredentialMessage:!0},(function(){e.setState({modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[],profileList:[]},(function(){401===t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}):d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})}))}))}))}},{key:"fetchUsers",value:function(){var e=this;return m.a.glewlwydRequest("/user?offset="+this.state.users.offset+"&limit="+this.state.users.limit+(this.state.users.searchPattern?"&pattern="+this.state.users.searchPattern:"")).then((function(t){var a=e.state.users;a.list=t,a.pattern=e.state.config.pattern.user,e.setState({users:a,loggedIn:!0})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]}))}))}},{key:"fetchClients",value:function(){var e=this;return m.a.glewlwydRequest("/client?offset="+this.state.clients.offset+"&limit="+this.state.clients.limit+(this.state.clients.searchPattern?"&pattern="+this.state.clients.searchPattern:"")).then((function(t){var a=e.state.clients;a.list=t,a.pattern=e.state.config.pattern.client,e.setState({clients:a})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchScopes",value:function(){var e=this;return m.a.glewlwydRequest("/scope?offset="+this.state.scopes.offset+"&limit="+this.state.scopes.limit+(this.state.scopes.searchPattern?"&pattern="+this.state.scopes.searchPattern:"")).then((function(t){var a=e.state.scopes;a.list=t,e.setState({scopes:a})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchAllScopes",value:function(){var e=this;return m.a.glewlwydRequest("/scope?limit=0").then((function(t){var a=[],r=e.state.users,n=e.state.clients,o=e.state.config;t.forEach((function(e){a.push(e.name)})),r.pattern.forEach((function(e){"scope"===e.name&&(e.listElements=a)})),n.pattern.forEach((function(e){"scope"===e.name&&(e.listElements=a)})),o.scopes=t,e.setState({users:r,clients:n,config:o})}))}},{key:"fetchUserMods",value:function(){var e=this;return m.a.glewlwydRequest("/mod/user").then((function(t){e.setState({modUsers:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchModTypes",value:function(){var e=this;return m.a.glewlwydRequest("/mod/type").then((function(t){e.setState({modTypes:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchClientMods",value:function(){var e=this;return m.a.glewlwydRequest("/mod/client").then((function(t){e.setState({modClients:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchSchemeMods",value:function(){var e=this;return m.a.glewlwydRequest("/mod/scheme").then((function(t){e.setState({modSchemes:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchPlugins",value:function(){var e=this;return m.a.glewlwydRequest("/mod/plugin").then((function(t){e.setState({plugins:t})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]})}))}},{key:"fetchApiKeys",value:function(){var e=this;return m.a.glewlwydRequest("/key?offset="+this.state.apiKeys.offset+"&limit="+this.state.apiKeys.limit+(this.state.apiKeys.searchPattern?"&pattern="+this.state.apiKeys.searchPattern:"")).then((function(t){var a=e.state.apiKeys;a.list=t,a.pattern=e.state.config.pattern.user,e.setState({apiKeys:a,loggedIn:!0})})).fail((function(t){401!==t.status?d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-fetch")}):(d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.requires-admin-scope")}),e.setState({loggedIn:!1,modTypes:{user:[],client:[],scheme:[],plugin:[]},users:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},clients:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},scopes:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},apiKeys:{list:[],offset:0,limit:20,searchPattern:"",pattern:!1},modUsers:[],modClients:[],modSchemes:[],plugins:[]}))}))}},{key:"confirmDeleteUser",value:function(e){var t=this;e?m.a.glewlwydRequest("/user/"+encodeURIComponent(this.state.curUser.username),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-user")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-user")})})).always((function(){t.fetchUsers().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmDeleteClient",value:function(e){var t=this;e?m.a.glewlwydRequest("/client/"+encodeURIComponent(this.state.curClient.client_id),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-client")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-client")})})).always((function(){t.fetchClients().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmDeleteScope",value:function(e){var t=this;e?m.a.glewlwydRequest("/scope/"+encodeURIComponent(this.state.curScope.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-scope")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-scope")})})).always((function(){t.fetchScopes().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmEditUser",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/user/"+encodeURIComponent(t.username),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-user")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-user")})})).always((function(){a.fetchUsers().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}))}));else{var r=this.state.users;r.list[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,users:r,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}}},{key:"confirmEditClient",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/client/"+encodeURIComponent(t.client_id),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-client")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-client")})})).always((function(){a.fetchClients().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}))}));else{var r=this.state.clients;r.list[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,clients:r,savedRecord:!1,savedIndex:-1}},(function(){$("#editRecordModal").modal("hide")}))}}},{key:"confirmEditScope",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/scope/"+encodeURIComponent(t.name),"PUT",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-set-scope")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-set-scope")})})).always((function(){a.fetchScopes().always((function(){a.setState({scopeModal:{data:{},callback:!1,savedRecord:!1,savedIndex:-1}},(function(){$("#editScopeModal").modal("hide")}))}))}));else{var r=this.state.scopes;r.list[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({scopeModal:{data:{},callback:!1,scopes:r,savedRecord:!1,savedIndex:-1}},(function(){$("#editScopeModal").modal("hide")}))}}},{key:"confirmAddUser",value:function(e,t){var a=this;if(e){var r=t.source?"?source="+t.source:"";m.a.glewlwydRequest("/user/"+r,"POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-user")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-user")})})).always((function(){a.fetchUsers().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}))}))}else this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmAddClient",value:function(e,t){var a=this;if(e){var r=t.source?"?source="+t.source:"";m.a.glewlwydRequest("/client/"+r,"POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-client")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-client")})})).always((function(){a.fetchClients().always((function(){a.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}))}))}else this.setState({editModal:{title:"",pattern:[],source:[],data:{},callback:!1,add:!1}},(function(){$("#editRecordModal").modal("hide")}))}},{key:"confirmAddScope",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/scope/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-scope")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-scope")})})).always((function(){a.fetchScopes().always((function(){a.setState({scopeModal:{data:{},callback:!1}},(function(){$("#editScopeModal").modal("hide")}))}))})):$("#editScopeModal").modal("hide")}},{key:"validateUser",value:function(e,t,a,r){var n=!0,o={};a?(Array.isArray(e.password)||void 0===e.password&&void 0===t.password||(e.password!==t.password?(n=!1,o.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(n=!1,o.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength}))),e.username?m.a.glewlwydRequest("/user/"+encodeURIComponent(e.username)).then((function(){n=!1,o.username=i.a.t("admin.user-username-exists")})).always((function(){r(n,o)})):(n=!1,o.username=i.a.t("admin.user-username-mandatory"),r(n,o))):(Array.isArray(e.password)||void 0===e.password&&void 0===t.password||(e.password||t.password)&&(e.password!==t.password?(n=!1,o.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(n=!1,o.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength}))),r(n,o))}},{key:"validateClient",value:function(e,t,a,r){var n=!0,o={};e.confidential&&(e.password||t.password)&&(e.password||t.password?e.password!==t.password?(n=!1,o.password=i.a.t("admin.user-password-error-match")):e.password.length&&e.password.length<this.state.passwordMinLength&&(n=!1,o.password=i.a.t("admin.user-password-error-invalid",{minLength:this.state.passwordMinLength})):!e.password&&a&&(n=!1,o.password=i.a.t("admin.user-password-mandatory"))),a?e.client_id?m.a.glewlwydRequest("/client/"+encodeURIComponent(e.client_id)).then((function(){n=!1,o.client_id=i.a.t("admin.client-client-id-exists")})).always((function(){r(n,o)})):(n=!1,o.client_id=i.a.t("admin.client-client-id-mandatory"),r(n,o)):r(n,o)}},{key:"confirmAddUserMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/user/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")})})).always((function(){a.fetchUserMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditUserMod",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.fetchUserMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[],savedRecord:!1,savedIndex:-1}},(function(){$("#editModModal").modal("hide"),a.fetchUsers()}))}))}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}));else{var r=this.state.modUsers;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modUsers:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteUserMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/user/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchUserMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchUsers()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddClientMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/client/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")})})).always((function(){a.fetchClientMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide"),a.fetchClients()}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditClientMod",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.fetchClientMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]},savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide"),a.fetchClients()}))}))}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}));else{var r=this.state.modClients;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modClients:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteClientMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/client/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchClientMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide"),t.fetchClients()}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddSchemeMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/scheme/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")})})).always((function(){a.fetchSchemeMods().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editModModal").modal("hide")}))}))})):$("#editModModal").modal("hide")}},{key:"confirmEditSchemeMod",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)}),d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.fetchSchemeMods()}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})})).always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]},savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}));else{var r=this.state.modSchemes;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({modSchemes:r,savedRecord:!1,savedIndex:-1},(function(){$("#editModModal").modal("hide")}))}}},{key:"confirmDeleteSchemeMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/scheme/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchSchemeMods().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"confirmAddPluginMod",value:function(e,t){var a=this;e?m.a.glewlwydRequest("/mod/plugin/","POST",t).then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-add-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-add-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){a.fetchPlugins().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]}},(function(){$("#editPluginModal").modal("hide")}))}))})):$("#editPluginModal").modal("hide")}},{key:"confirmEditPluginMod",value:function(e,t){var a=this;if(e)m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.name),"PUT",t).then((function(){m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(t.name)+"/reset/","PUT").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-edit-mod")})})).fail((function(e){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")}),400===e.status&&d.a.sendMessage("Notification",{type:"danger",message:JSON.stringify(e.responseJSON)})})).always((function(){a.fetchPlugins().always((function(){a.setState({ModModal:{data:{},callback:!1,types:[]},savedRecord:!1,savedIndex:-1},(function(){$("#editPluginModal").modal("hide")}))}))}))})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-edit-mod")})}));else{var r=this.state.plugins;r[this.state.savedIndex]=JSON.parse(this.state.savedRecord),this.setState({plugins:r,savedRecord:!1,savedIndex:-1},(function(){$("#editPluginModal").modal("hide")}))}}},{key:"confirmDeletePluginMod",value:function(e){var t=this;e?m.a.glewlwydRequest("/mod/plugin/"+encodeURIComponent(this.state.curMod.name),"DELETE").then((function(){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-mod")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("admin.error-api-delete-mod")})})).always((function(){t.fetchPlugins().always((function(){t.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}))})):this.setState({confirmModal:{title:"",message:""}},(function(){$("#confirmModal").modal("hide")}))}},{key:"addApiKey",value:function(){var e=this;m.a.glewlwydRequest("/key","POST").then((function(t){var a=e.state.messageModal;a.title=i.a.t("admin.api-key-add-title"),a.label=i.a.t("admin.api-key-add-label"),a.message=[t.key],e.setState({messageModal:a},(function(){$("#messageModal").modal({keyboard:!1,show:!0})})),e.fetchApiKeys()})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})}))}},{key:"confirmDisableApiKey",value:function(){var e=this;m.a.glewlwydRequest("/key/"+encodeURIComponent(this.state.curApiKey.token_hash),"DELETE").then((function(e){d.a.sendMessage("Notification",{type:"success",message:i.a.t("admin.success-api-delete-api-key")})})).fail((function(){d.a.sendMessage("Notification",{type:"danger",message:i.a.t("error-api-connect")})})).always((function(){$("#confirmModal").modal("hide"),e.fetchApiKeys()}))}},{key:"render",value:function(){var e;return this.state.invalidCredentialMessage&&(e=n.a.createElement("div",{className:"alert alert-danger",role:"alert"},i.a.t("admin.error-credential-message"))),this.state.config?n.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:"glwd-container"},n.a.createElement("div",{className:"card center glwd-card",id:"userCard",tabIndex:"-1",role:"dialog"},n.a.createElement("div",{className:"card-header"},n.a.createElement(x,{active:this.state.curNav,config:this.state.config,loggedIn:this.state.loggedIn,profileList:this.state.profileList})),e,n.a.createElement("div",{className:"card-body"},n.a.createElement("div",{id:"carouselBody",className:"carousel slide","data-ride":"carousel"},n.a.createElement("div",{className:"carousel-inner"},n.a.createElement("div",{className:"carousel-item"+("users"===this.state.curNav?" active":"")},n.a.createElement(F,{config:this.state.config,users:this.state.users,source:this.state.modUsers,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("clients"===this.state.curNav?" active":"")},n.a.createElement(z,{config:this.state.config,clients:this.state.clients,source:this.state.modClients,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("scopes"===this.state.curNav?" active":"")},n.a.createElement(X,{config:this.state.config,scopes:this.state.scopes,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("users-mod"===this.state.curNav?" active":"")},n.a.createElement(te,{mods:this.state.modUsers,types:this.state.modTypes.user,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("clients-mod"===this.state.curNav?" active":"")},n.a.createElement(ie,{mods:this.state.modClients,types:this.state.modTypes.client,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("auth-schemes"===this.state.curNav?" active":"")},n.a.createElement(ue,{mods:this.state.modSchemes,types:this.state.modTypes.scheme,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("plugins"===this.state.curNav?" active":"")},n.a.createElement(ve,{mods:this.state.plugins,types:this.state.modTypes.plugin,loggedIn:this.state.loggedIn})),n.a.createElement("div",{className:"carousel-item"+("api-key"===this.state.curNav?" active":"")},n.a.createElement(_a,{config:this.state.config,apiKeys:this.state.apiKeys,loggedIn:this.state.loggedIn})))))),n.a.createElement(p.a,{loggedIn:this.state.loggedIn}),n.a.createElement(u.a,{title:this.state.confirmModal.title,message:this.state.confirmModal.message,callback:this.state.confirmModal.callback}),n.a.createElement(h.a,{title:this.state.messageModal.title,label:this.state.messageModal.label,message:this.state.messageModal.message}),n.a.createElement(E,{title:this.state.editModal.title,pattern:this.state.editModal.pattern,source:this.state.editModal.source,data:this.state.editModal.data,callback:this.state.editModal.callback,validateCallback:this.state.editModal.validateCallback,add:this.state.editModal.add}),n.a.createElement(Pe,{title:this.state.scopeModal.title,scope:this.state.scopeModal.data,add:this.state.scopeModal.add,modSchemes:this.state.modSchemes,callback:this.state.scopeModal.callback}),n.a.createElement(Kt,{title:this.state.ModModal.title,role:this.state.ModModal.role,mod:this.state.ModModal.data,add:this.state.ModModal.add,types:this.state.ModModal.types,callback:this.state.ModModal.callback,config:this.state.config}),n.a.createElement(ka,{title:this.state.PluginModal.title,mod:this.state.PluginModal.data,add:this.state.PluginModal.add,modSchemes:this.state.modSchemes,types:this.state.PluginModal.types,callback:this.state.PluginModal.callback,config:this.state.config})):n.a.createElement("div",{"aria-live":"polite","aria-atomic":"true",className:"glwd-container"},n.a.createElement("div",{className:"card center glwd-card",id:"userCard",tabIndex:"-1",role:"dialog"},n.a.createElement("div",{className:"card-header"},n.a.createElement("h4",null,n.a.createElement("span",{className:"badge badge-danger"},i.a.t("error-api-connect"))))))}}]),a}(),Ta=a(8);try{i.a.use(l.a).use(c.a).init({fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}}).then((function(){!function(){var e=new URLSearchParams(window.location.search);m.a.request("config.json").then((function(t){t.lang||(t.lang=["en","fr","nl"]),m.a.request(t.GlewlwydUrl+"config/").then((function(a){m.a.setConfig(t.GlewlwydUrl+a.api_prefix);var r=Object.assign({params:{scope:e.get("scope"),client_id:e.get("client_id"),callback_url:e.get("callback_url")},scopes:[]},t,a);s.a.render(n.a.createElement(Aa,{config:r}),document.getElementById("root"))})).fail((function(e){s.a.render(n.a.createElement(Aa,{config:!1}),document.getElementById("root"))}))})).fail((function(e){s.a.render(n.a.createElement(Ta.a,null),document.getElementById("root"))}))}()}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Glewlwyd SSO</span></div>')}},3:function(e,t,a){"use strict";var r=a(2);function n(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.GlewlwydApiPrefix="",this.GlewlwydApiPrefixSub=""}return function(e,t,a){t&&n(e.prototype,t)}(e,[{key:"setConfig",value:function(e){this.GlewlwydApiPrefix=e}},{key:"getConfig",value:function(e){return this.GlewlwydApiPrefix}},{key:"setConfigSub",value:function(e){this.GlewlwydApiPrefixSub=e}},{key:"getConfigSub",value:function(e){return this.GlewlwydApiPrefixSub}},{key:"request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a&&"GET"!==t?$.ajax({method:t,url:e,data:JSON.stringify(a),contentType:"application/json; charset=utf-8"}):$.ajax({method:t,url:e})}},{key:"glewlwydRequest",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.request(this.GlewlwydApiPrefix+e,t,a).fail((function(e){n&&401===e.status&&r.a.sendMessage("App",{type:"loggedIn",message:!1})}))}},{key:"glewlwydRequestSub",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return this.request(this.GlewlwydApiPrefixSub+e,t,a)}}]),e}());t.a=o},4:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m(e);if(t){var n=m(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={message:[],counter:0,loggedIn:e.loggedIn},o.a.subscribe("Notification",(function(e){if(e.type){var t=r.state.message;t.push({type:e.type,message:e.message,id:r.state.counter}),r.setState({message:t,counter:r.state.counter+1},(function(){r.timeoutClose(r.state.counter-1)}))}})),r.close=r.close.bind(c(r)),r.timeoutClose=r.timeoutClose.bind(c(r)),r}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({loggedIn:e.loggedIn})}},{key:"timeoutClose",value:function(e){var t=this;setTimeout((function(){t.close(e)}),5e3)}},{key:"close",value:function(e){var t=this,a=this.state.message;a.forEach((function(r,n){r.id===e&&(a.splice(n,1),t.setState({message:a}))}))}},{key:"render",value:function(){var e=this,t=[];return this.state.loggedIn&&this.state.message.forEach((function(a,r){var o;o="success"===a.type?n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-success btn-icon"},n.a.createElement("i",{className:"fas fa-check-circle"})),"Glewlwyd"):"danger"===a.type?n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-danger btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):"warning"===a.type?n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-warning btn-icon"},n.a.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):n.a.createElement("strong",{className:"mr-auto"},n.a.createElement("span",{className:"badge badge-info btn-icon"},n.a.createElement("i",{className:"fas fa-info-circle"})),"Glewlwyd"),t.push(n.a.createElement("div",{className:"toast-container",style:{top:95+90*r,right:5},key:r},n.a.createElement("div",{className:"toast glwd-toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},n.a.createElement("div",{className:"toast-header"},o,n.a.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:function(){return e.close(a.id)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"toast-body"},a.message))))})),n.a.createElement("div",null,t)}}]),a}();t.a=d},8:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=c(e);if(t){var n=c(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}(this,a)}}(a);function a(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t.call(this,e)}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"alert alert-danger perfect-centering",role:"alert"},o.a.t("error-config"))}}]),a}();t.a=m},9:function(e,t,a){"use strict";var r=a(0),n=a.n(r),o=a(1);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,r.Component);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,r=m(e);if(t){var n=m(this).constructor;a=Reflect.construct(r,arguments,n)}else a=r.apply(this,arguments);return function(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?c(e):t}(this,a)}}(a);function a(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(r=t.call(this,e)).state={title:e.title,label:e.label,message:e.message},r.closeModal=r.closeModal.bind(c(r)),r}return function(e,t,a){t&&i(e.prototype,t)}(a,[{key:"componentWillReceiveProps",value:function(e){this.setState({title:e.title,label:e.label,message:e.message})}},{key:"closeModal",value:function(e,t){$("#messageModal").modal("hide")}},{key:"render",value:function(){var e,t=this,a=[];return this.state.label&&(e=n.a.createElement("h5",null,this.state.label)),this.state.message&&this.state.message.forEach((function(e,t){a.push(n.a.createElement("li",{key:t},e))})),n.a.createElement("div",{className:"modal fade on-top",id:"messageModal",tabIndex:"-1",role:"dialog","aria-labelledby":"messageModalLabel","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"modal-title",id:"messageModalLabel"},this.state.title),n.a.createElement("button",{type:"button",className:"close","aria-label":o.a.t("modal.close"),onClick:function(e){return t.closeModal(e,!1)}},n.a.createElement("span",{"aria-hidden":"true"},"×"))),n.a.createElement("div",{className:"modal-body"},e,n.a.createElement("ul",null,a)),n.a.createElement("div",{className:"modal-footer"},n.a.createElement("button",{type:"button",className:"btn btn-secondary",onClick:function(e){return t.closeModal(e,!1)}},o.a.t("modal.close"))))))}}]),a}();t.a=d}})}));