!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var a in n)("object"==typeof exports?exports:e)[a]=n[a]}}(window,(function(){return function(e){function t(t){for(var a,i,l=t[0],s=t[1],c=t[2],f=0,d=[];f<l.length;f++)i=l[f],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);d.length;)d.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,l=1;l<n.length;l++){var s=n[l];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},r={2:0},o=[];function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;return o.push([89,0]),n()}({2:function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),this.subscriberList={}}Object.defineProperty(t,"__esModule",{value:!0});var o=new(function(e,t,n){t&&a(e.prototype,t)}(r,[{key:"subscribe",value:function(e,t){this.subscriberList[e]=t}},{key:"sendMessage",value:function(e,t){if(Array.isArray(e)||(e=[e]),"broadcast"===e[0])this.subscriberList.forEach((function(e,n){e({type:"broadcast",message:t})}));else for(var n in this.subscriberList)0<=e.indexOf(n)&&this.subscriberList[n](t)}}]),r);t.default=o},3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r,o=(r=n(2))&&r.__esModule?r:{default:r};function i(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),this.GlewlwydApiPrefix="",this.GlewlwydApiPrefixSub=""}var l=new(function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(i,[{key:"setConfig",value:function(e){this.GlewlwydApiPrefix=e}},{key:"getConfig",value:function(e){return this.GlewlwydApiPrefix}},{key:"setConfigSub",value:function(e){this.GlewlwydApiPrefixSub=e}},{key:"getConfigSub",value:function(e){return this.GlewlwydApiPrefixSub}},{key:"request",value:function(e,t,n){var a=1<arguments.length&&void 0!==t?t:"GET",r=2<arguments.length&&void 0!==n&&n;return r&&"GET"!==a?$.ajax({method:a,url:e,data:JSON.stringify(r),contentType:"application/json; charset=utf-8"}):$.ajax({method:a,url:e})}},{key:"glewlwydRequest",value:function(e,t,n,a){var r=1<arguments.length&&void 0!==t?t:"GET",i=2<arguments.length&&void 0!==n&&n,l=3<arguments.length&&void 0!==a&&a;return this.request(this.GlewlwydApiPrefix+e,r,i).fail((function(e){l&&401===e.status&&o.default.sendMessage("App",{type:"loggedIn",message:!1})}))}},{key:"glewlwydRequestSub",value:function(e,t,n){var a=1<arguments.length&&void 0!==t?t:"GET",r=2<arguments.length&&void 0!==n&&n;return this.request(this.GlewlwydApiPrefixSub+e,a,r)}}]),i);t.default=l},4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=n(0),o=l(r),i=l(n(2));function l(e){return e&&e.__esModule?e:{default:e}}var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,r.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(c,[{key:"timeoutClose",value:function(e){var t=this;setTimeout((function(){t.close(e)}),5e3)}},{key:"close",value:function(e){var t=this,n=this.state.message;n.forEach((function(a,r){a.id===e&&(n.splice(r,1),t.setState({message:n}))}))}},{key:"render",value:function(){var e=this,t=[];return this.state.message.forEach((function(n,a){var r;r="success"===n.type?o.default.createElement("strong",{className:"mr-auto"},o.default.createElement("span",{className:"badge badge-success btn-icon"},o.default.createElement("i",{className:"fas fa-check-circle"})),"Glewlwyd"):"danger"===n.type?o.default.createElement("strong",{className:"mr-auto"},o.default.createElement("span",{className:"badge badge-danger btn-icon"},o.default.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):"warning"===n.type?o.default.createElement("strong",{className:"mr-auto"},o.default.createElement("span",{className:"badge badge-warning btn-icon"},o.default.createElement("i",{className:"fas fa-exclamation-circle"})),"Glewlwyd"):o.default.createElement("strong",{className:"mr-auto"},o.default.createElement("span",{className:"badge badge-info btn-icon"},o.default.createElement("i",{className:"fas fa-info-circle"})),"Glewlwyd"),t.push(o.default.createElement("div",{className:"toast-container",style:{top:85+90*a,right:5},key:a},o.default.createElement("div",{className:"toast",role:"alert","aria-live":"assertive","aria-atomic":"true"},o.default.createElement("div",{className:"toast-header"},r,o.default.createElement("button",{type:"button",className:"ml-2 mb-1 close","data-dismiss":"toast","aria-label":"Close",onClick:function(){return e.close(n.id)}},o.default.createElement("span",{"aria-hidden":"true"},"Ã—"))),o.default.createElement("div",{className:"toast-body"},n.message))))})),o.default.createElement("div",null,t)}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={message:[],counter:0},i.default.subscribe("Notification",(function(e){if(e.type){var n=t.state.message;n.push({type:e.type,message:e.message,id:t.state.counter}),t.setState({message:n,counter:t.state.counter+1},(function(){t.timeoutClose(t.state.counter-1)}))}})),t.close=t.close.bind(t),t.timeoutClose=t.timeoutClose.bind(t),t}t.default=s},89:function(e,t,n){"use strict";var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=f(n(0)),o=f(n(8)),i=f(n(1)),l=f(n(9)),s=f(n(10)),c=f(n(3)),u=f(n(90));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e){var t=e.split("&"),n={};return t.map((function(e){var t=e.split("="),r=a(t,2),o=r[0],i=r[1];n[o]=decodeURIComponent(i)})),n}return{}}var p={fallbackLng:"en",ns:["translations"],defaultNS:"translations",backend:{loadPath:"locales/{{lng}}/{{ns}}.json"}};d(window.location.href.split("?")[1]).ui_locales&&(p.lng=d(window.location.href.split("?")[1]).ui_locales.split(" ")[0]);try{i.default.use(l.default).use(s.default).init(p).then((function(){c.default.request("config.json").then((function(e){e.lang||(e.lang=["en","fr","nl"]),c.default.request(e.GlewlwydUrl+"config/").then((function(t){c.default.setConfig(e.GlewlwydUrl+t.api_prefix);var n=Object.assign({params:{state:d(window.location.href.split("?")[1]).state||d(window.location.hash.substring(1)).state||!1}},e,t);o.default.render(r.default.createElement(u.default,{config:n}),document.getElementById("root"))})).fail((function(e){o.default.render(r.default.createElement(u.default,{config:!1}),document.getElementById("root"))}))}))}))}catch(e){$("#root").html('<div class="alert alert-danger" role="alert"><i class="fas fa-exclamation-triangle"></i><span class="btn-icon-right">You must use a browser compatible with Glewlwyd SSO</span></div>')}},90:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=n(0),o=l(r),i=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}l(n(3)),l(n(4));var s=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,r.Component),function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(c,[{key:"Base64DecodeUrl",value:function(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),e.replace(/-/g,"+").replace(/_/g,"/")}},{key:"parseState",value:function(e,t){var n=this,a=!1;if(e){var r=!1,o=!1;try{r=JSON.parse(atob(this.Base64DecodeUrl(e)))}catch(e){o=!0}if(o)a=!0;else if("registration"===r.type){var i={scheme_name:r.module,scheme_type:"oauth2",username:r.username,value:{action:"callback",provider:r.provider,state:e,redirect_to:window.location.href}};$.ajax({method:"POST",url:r.register_url+"/profile/scheme/register/",data:JSON.stringify(i),contentType:"application/json; charset=utf-8"}).then((function(){n.setState({stateDecoded:r},(function(){var e=r.complete_url;-1<e.indexOf("?")?e+="&":e+="?",e+="scheme_name="+r.module+"&provider="+r.provider,window.location.href=e}))})).fail((function(e){401===e.status?n.setState({stateDecoded:r,errorAuthentication:!0,gotoProfile:!0}):n.setState({stateDecoded:r,unknownError:!0,gotoProfile:!0})}))}else"authentication"===r.type?(i={scheme_name:r.module,scheme_type:"oauth2",username:r.username,value:{provider:r.provider,state:e,redirect_to:window.location.href}},$.ajax({method:"POST",url:t.GlewlwydUrl+"/"+t.api_prefix+"/auth/",data:JSON.stringify(i),contentType:"application/json; charset=utf-8"}).then((function(){n.setState({stateDecoded:r},(function(){window.location.href=r.callback_url}))})).fail((function(e){401===e.status?n.setState({stateDecoded:r,errorAuthentication:!0,gotoLogin:!0}):n.setState({stateDecoded:r,unknownError:!0,gotoLogin:!0})}))):a=!0}else a=!0;return a}},{key:"gotoLogin",value:function(){window.location.href=this.state.stateDecoded.callback_url}},{key:"gotoProfile",value:function(){if(this.state.stateDecoded&&this.state.stateDecoded.complete_url){var e=this.state.stateDecoded.complete_url;-1<e.indexOf("?")?e+="&":e+="?",e+="scheme_name="+this.state.stateDecoded.module+"&provider="+this.state.stateDecoded.provider,window.location.href=e}else window.location.href=this.state.config.ProfileUrl}},{key:"render",value:function(){var e;return this.state.config?this.state.errorAuthentication||this.state.unknownError?(e=this.state.gotoLogin?o.default.createElement("button",{type:"button",className:"btn btn-primary",id:"buttonBack",onClick:this.gotoLogin},i.default.t("callback.button-login")):o.default.createElement("button",{type:"button",className:"btn btn-primary",id:"buttonBack",onClick:this.gotoProfile},i.default.t("callback.button-profile")),o.default.createElement("div",{className:"perfect-centering"},o.default.createElement("div",{className:"alert alert-danger"},o.default.createElement("h3",null,this.state.errorAuthentication?i.default.t("callback.authentication-error"):i.default.t("callback.unknown-error"))),o.default.createElement("div",{className:"row justify-content-md-center"},e))):o.default.createElement("div",{className:"perfect-centering"},o.default.createElement("div",{className:"alert alert-info"},o.default.createElement("h3",null,i.default.t("callback.authentication-success")))):o.default.createElement("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"relative",minHeight:"200px"}},o.default.createElement("div",{className:"card center",id:"userCard",tabIndex:"-1",role:"dialog",style:{marginTop:"20px",marginBottom:"20px"}},o.default.createElement("div",{className:"card-header"},o.default.createElement("h4",null,o.default.createElement("span",{className:"badge badge-danger"},i.default.t("error-api-connect"))))))}}]),c);function c(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return t.state={config:e.config,errorAuthentication:!1,unknownError:t.parseState(e.config.params.state,e.config),gotoProfile:!1,gotoLogin:!1},t.gotoLogin=t.gotoLogin.bind(t),t.gotoProfile=t.gotoProfile.bind(t),t}t.default=s}})}));